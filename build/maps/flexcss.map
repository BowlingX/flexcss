{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*","webpack:///webpack/bootstrap 19a5094c9dbda0fe03d5?7319*","webpack:///./src/main/modules/All.js","webpack:///./src/main/Form.js","webpack:///./src/main/Tooltip.js","webpack:///./src/main/util/Util.js","webpack:///./src/main/DestroyableWidget.js","webpack:///./src/main/util/Settings.js","webpack:///./~/isomorphic-fetch/fetch-npm-browserify.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./src/main/util/Event.js","webpack:///./src/main/Modal.js","webpack:///./src/main/Widget.js","webpack:///./src/main/lib/FixedWindow.js","webpack:///./src/main/lib/debounce.js","webpack:///./src/main/Toggleable.js","webpack:///./src/main/OffCanvas.js","webpack:///./src/main/Dropdown.js","webpack:///./src/main/LightBox.js"],"names":[],"mappings":"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CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA,wCAAuC,0BAA0B;AACjE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,gCAA+B,0BAA0B,eAAe;AACxE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA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","file":"js/flexcss.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FlexCss\"] = factory();\n\telse\n\t\troot[\"FlexCss\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 19a5094c9dbda0fe03d5\n **/","import Form from '../Form';\nimport Tooltip from '../Tooltip';\nimport Modal from '../Modal';\nimport Widget from '../Widget';\nimport Settings from '../util/Settings';\nimport Toggleable from '../Toggleable';\nimport OffCanvas from '../OffCanvas';\nimport Dropdown from '../Dropdown';\nimport LightBox from '../LightBox';\nimport Util from '../util/Util';\n\nexport { Form, Tooltip, Modal, Widget, Settings, Util, Toggleable, OffCanvas, Dropdown, LightBox };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/modules/All.js\n **/","/*global HTMLFormElement, fetch, FormData, clearTimeout, NodeList*/\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*!\n * FlexCss.Form\n * Licensed under the MIT License (MIT)\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n */\n\nimport Tooltip from './Tooltip';\nimport 'isomorphic-fetch';\nimport Event from './util/Event';\nimport Util from './util/Util';\nimport Settings from './util/Settings';\nimport DestroyableWidget from './DestroyableWidget';\n\nconst LOADING_CLASS = 'loading';\nconst DATA_ELEMENT_INVALID = 'data-flexcss-invalid';\nconst REMOTE = 'data-remote';\nconst REMOTE_ACTION = 'data-remote-action';\nconst ATTR_DISABLE_INLINE = 'data-disable-inline-validation';\nconst ATTR_DISABLE_REALTIME = 'data-disable-realtime-validation';\nconst ATTR_VALIDATOR = 'data-validate';\nconst ATTR_DATA_CUSTOM_MESSAGE = 'data-validation-message';\nconst ATTR_DATA_CUSTOM_LABEL = 'data-custom-label';\nconst ATTR_VALIDATE_VISIBILITY = 'data-validate-visibility';\nconst ATTR_ERROR_TARGET_ID = 'data-error-target';\nconst ATTR_DEPENDS = 'data-depends-selector';\nconst CONST_USE_JSON = 'json';\nconst CONST_REALTIME_EVENT = 'input';\nconst FOCUS_TOOLTIP_DELAY = 20;\nconst CLICK_TOOLTIP_DELAY = 150;\n\n/**\n * Triggered when form is fully initialized and handlers are binded\n * @type {string}\n */\nexport const EVENT_FORM_READY = 'flexcss.form.ready';\n/**\n * Fires when a form is submitted, cancelable\n * @type {string}\n */\nexport const EVENT_FORM_SUBMIT = 'flexcss.form.submit';\n/**\n * Fired directly after the form has been submitted via ajax\n * @type {string}\n */\nexport const EVENT_FORM_AFTER_AJAX_SUBMIT = 'flexcss.form.afterAjaxSubmit';\n/**\n * Fired when ajax events did complete\n * @type {string}\n */\nexport const EVENT_FORM_AJAX_COMPLETED = 'flexcss.form.ajaxCompleted';\n\n/**\n * A HTML5 Form Validation replacement\n */\n\nclass Form extends DestroyableWidget {\n    /**\n     * @param {HTMLElement} form\n     * @param [options] optional options\n     */\n    constructor(form, options) {\n        super();\n\n        if (!(form instanceof HTMLFormElement)) {\n            throw 'argument {0} form needs to be an form element';\n        }\n\n        /**\n         * The Form\n         * @type {HTMLElement}\n         */\n        this.form = form;\n\n        /**\n         * @type {Tooltip}\n         */\n        this.tooltips = null;\n\n        /**\n         * @type {Promise}\n         */\n        this.currentValidationFuture = new Promise(() => {\n        });\n\n        /**\n         * Default options\n         * @type {Object}\n         */\n        this.options = {\n            // if true creates tooltips above element, uses FlexCss Tooltips\n            createTooltips: true,\n            // if true appends error message after input element\n            appendError: false,\n            // type of ajax submit\n            ajaxSubmitType: 'POST',\n            // json content type if ajax method is set to json\n            ajaxJsonContentType: 'application/json; charset=utf-8',\n            // allow inline validation\n            inlineValidation: true,\n            // validate in realtime (on `input` event)\n            realtime: true,\n            // timeout when realtime event should be captured\n            realtimeTimeout: 250,\n            // formatting method for an error\n            formatErrorTooltip: (error) => {\n                return '<i class=\"icon-attention\"></i> ' + error;\n            },\n            // the class that will be put on the element to mark it failed validation\n            inputErrorClass: 'invalid',\n            // the container class for error messages below an element\n            containerErrorClass: 'form-error',\n            // additional options for fetch\n            fetchOptions: {\n                credentials: 'include'\n            },\n            // the container for tooltips\n            tooltipContainer: form,\n            tooltipOptions: {\n                containerClass: 'error-tooltip'\n            },\n            // if you have a fixed header, either set a number or function here\n            scrollToElementDiff: 0\n        };\n\n        // overwrite default options\n        Object.assign(this.options, options);\n\n        // apply settings from attributes\n        Util.applyOptionsFromElement(form, this.options);\n\n        // set form class as widget\n        // Forms are very different to classical widgets,\n        // we will not use our base widget class for this but just self\n        form.hfWidgetInstance = this;\n\n        /**\n         * A List of Validators\n         * @type {Object}\n         * @private\n         */\n        this._validators = Form.globalValidators;\n\n        /**\n         * @type {Function}\n         * @private\n         */\n        this._remoteValidationFunction = null;\n\n        this.initFormValidation();\n    }\n\n    destroy() {\n        super.destroy();\n        if (this.tooltips) {\n            this.tooltips.destroy();\n        }\n    }\n\n    /**\n     * Submits this form, either via ajax or just classical (default)\n     * @param {HTMLFormElement} thisForm\n     * @param {Event} e\n     * @private\n     * @returns {Promise|boolean} returns false if submit is cancled\n     */\n    _submitFunction(thisForm, e) {\n        var shouldUseAjax = thisForm.getAttribute(REMOTE), ajaxPostUrl =\n                thisForm.getAttribute(REMOTE_ACTION) ||\n                thisForm.getAttribute('action') || window.location.href,\n            useJson = CONST_USE_JSON === shouldUseAjax, self = this;\n\n        var ev = Event.dispatch(thisForm, EVENT_FORM_SUBMIT).withOriginal(e).fire();\n\n        // abort execution is event was prevented\n        if (ev.defaultPrevented) {\n            self._formStopLoading();\n            return false;\n        }\n\n        if (shouldUseAjax === null) {\n            // submit\n            return thisForm.submit();\n        }\n        // prevent form from submit normally\n        e.preventDefault();\n\n        // add information that this is an XMLHttpRequest request (used by some frameworks)\n        let defaultHeaders = {\n            'X-Requested-With': 'XMLHttpRequest'\n        };\n\n        // setup default headers\n        if (useJson) {\n            Object.assign(defaultHeaders, {\n                'Content-Type': this.options.ajaxJsonContentType\n            });\n        }\n        let defaultOptions = Object.assign(this.options.fetchOptions, {\n            headers: defaultHeaders,\n            method: this.options.ajaxSubmitType\n        });\n\n        // support either JSON request payload or normal payload submission\n        var serverCall = useJson ? fetch(ajaxPostUrl, Object.assign(defaultOptions, {\n            body: JSON.stringify(this.serialize())\n        })) : fetch(ajaxPostUrl, Object.assign(defaultOptions, {\n            body: new FormData(thisForm)\n        }));\n\n        Event.dispatch(thisForm, EVENT_FORM_AFTER_AJAX_SUBMIT).withOriginal(e).fire();\n\n        return serverCall.then((r) => {\n            (self._remoteValidationFunction || Form.globalRemoteValidationFunction).apply(self, [r]);\n\n            Event.dispatch(thisForm, EVENT_FORM_AJAX_COMPLETED).withOriginal(e).withDetail({ response: r }).fire();\n            // always remove error class\n            self._formStopLoading();\n        });\n    }\n\n    /**\n     * Serializes a form to a json object\n     * @returns {Object}\n     */\n    serialize() {\n        var selectors = [\n                'input[name]:not([type=\"radio\"]):enabled',\n                'input[type=\"radio\"][name]:checked',\n                'select[name]:enabled',\n                'textarea[name]:enabled'\n            ], inputs = this.form.querySelectorAll(selectors.join(',')), result = {};\n\n        Array.prototype.forEach.call(inputs, function (input) {\n            var exists = result[input.name], value = input.value;\n            if (exists instanceof Array) {\n                exists.push(value);\n            } else if (exists) {\n                result[input.name] = [result[input.name], value];\n            } else {\n                result[input.name] = value;\n            }\n        });\n\n        return result;\n    }\n\n    /**\n     * Handles the chain of validation on given fields\n     *\n     * @param {HTMLElement|Array|NodeList} field\n     * @param [focus] optional focus first error\n     * @returns {Promise}\n     */\n    handleValidation(field, focus) {\n        var fields = (field instanceof Array || field instanceof NodeList) ? field : [field];\n        return this._handleValidation(fields, focus, true).then(((r) => {\n            if (!r.foundAnyError) {\n                // remove tooltips\n                if (this.tooltips) {\n                    this.tooltips.removeTooltip();\n                }\n            }\n            return r;\n        }).bind(this));\n    }\n\n    /**\n     * Handles errors on given node list\n     * @param {NodeList} toValidateFields\n     * @param {boolean} focus\n     * @param {boolean} scoped if true, will only validate the fields `invalidFields`\n     * @returns {Promise}\n     * @private\n     */\n    _handleValidation(toValidateFields, focus, scoped) {\n        var self = this;\n        var arr = Form._createArrayFromInvalidFieldList(toValidateFields), isLocalInvalid = arr.length > 0;\n        // focus must appear in the same frame for iOS devices\n        if (isLocalInvalid && focus) {\n            self._focusElement(arr[0]);\n        }\n        var validation = scoped ? this._customValidationsForElements(toValidateFields) :\n            self.validateCustomFields();\n        return validation.then((r) => {\n            if (isLocalInvalid) {\n                // combine browser and custom validators\n                r.foundAnyError = true;\n            }\n            // get a unique field list of all fields that need to be checked and rendered\n            // it's possible that we have duplicates in non scoped mode\n            let thisToValidateFields = scoped ? toValidateFields :\n                Array.from(arr).concat(r.checkedFields);\n            r.checkedFields = thisToValidateFields;\n            let foundInvalidFields = self.prepareErrors(thisToValidateFields, false),\n                firstInvalidField = foundInvalidFields[0];\n            if (firstInvalidField) {\n                if (focus) {\n                    self._focusElement(firstInvalidField);\n                    // if element could not be focused:\n                    if (document.activeElement !== firstInvalidField) {\n                        self._handleTooltipHideClickAfterChange();\n                    }\n                } else {\n                    self._handleTooltipHideClickAfterChange();\n                }\n                self.showAndOrCreateTooltip(firstInvalidField);\n            }\n            return r;\n        });\n    }\n\n    /**\n     * @param {HTMLElement} field\n     * @param {ValidityState} validity\n     * @returns {*}\n     * @private\n     */\n\n    _setupErrorMessages(field, validity) {\n        return Form.globalErrorMessageHandler ?\n            Form.globalErrorMessageHandler.apply(this, [field, validity]) : false;\n    }\n\n    /**\n     * Handles class labels for elements\n     * @param {Object} fields\n     * @private\n     */\n    _handleLabels(fields) {\n        Object.keys(fields).forEach(function (id) {\n            let labels = this.getForm().querySelectorAll('[for=\"' + id + '\"]'), invalid = fields[id];\n            if (labels.length) {\n                for (let labelsIndex = 0; labelsIndex < labels.length; labelsIndex++) {\n                    let labelEl = labels[labelsIndex];\n                    // we can't use toggle attribute, not supported in IE\n                    if (invalid) {\n                        this._markElementInvalid(labelEl);\n                    } else {\n                        this._markElementValid(labelEl);\n                    }\n                }\n            }\n        }.bind(this));\n    }\n\n    /**\n     * @param el\n     * @private\n     */\n    _markElementInvalid(el) {\n        el.setAttribute(DATA_ELEMENT_INVALID, \"true\");\n        el.classList.add(this.options.inputErrorClass);\n    }\n\n    /**\n     * @param el\n     * @private\n     */\n    _markElementValid(el) {\n        el.removeAttribute(DATA_ELEMENT_INVALID);\n        el.classList.remove(this.options.inputErrorClass);\n    }\n\n    /**\n     * A List of invalid elements (:invalid)\n     * @returns {Array}\n     * @private\n     */\n    _getInvalidElements() {\n        return Array.prototype.filter.call(this.getForm().querySelectorAll(\":invalid\"), function (r) {\n            return !(r instanceof HTMLFieldSetElement);\n        });\n    }\n\n    /**\n     * @param {HTMLElement} thisParent\n     * @private\n     */\n    _removeElementErrors(thisParent) {\n        let errors = thisParent.querySelectorAll('.' + this.options.containerErrorClass), inputsWithErrorClasses =\n            thisParent.querySelectorAll(`[${DATA_ELEMENT_INVALID}]`);\n        for (let elementErrorIndex = 0; elementErrorIndex < errors.length; elementErrorIndex++) {\n            errors[elementErrorIndex].parentNode.removeChild(errors[elementErrorIndex]);\n        }\n        for (let inputErrorIndex = 0; inputErrorIndex < inputsWithErrorClasses.length; inputErrorIndex++) {\n            let el = inputsWithErrorClasses[inputErrorIndex];\n            this._markElementValid(el);\n        }\n    }\n\n\n    /**\n     * Registers a custom validator\n     * @param {String} name\n     * @param {Function} validator a validation function should always return either a Future(true) or Future(false)\n     * even when the field has been invalidated with `setCustomValidity`, because of different browser `bugs`\n     * we can't rely on that\n     * @returns {Form}\n     */\n    registerValidator(name, validator) {\n        this._validators[name] = validator;\n        return this;\n    }\n\n    /**\n     * Runs async validation\n     * @param {String} validationRef\n     * @param {HTMLElement} field\n     * @returns {Promise}\n     * @private\n     */\n    _runValidation(validationRef, field) {\n        if (!this._validators[validationRef]) {\n            throw 'Could not found validator: ' + validationRef;\n        }\n        var cl = field.classList, future = this._validators[validationRef].apply(this, [field, this.form]);\n        cl.add(LOADING_CLASS);\n        future.then(() => {\n            cl.remove(LOADING_CLASS);\n        });\n        return future;\n    }\n\n\n    /**\n     * Run custom validations for elements, validations are done async do support XHR Requests or other stuff\n     *\n     * @param {Array|NodeList} fields\n     * @returns {Promise} contains either true if validations passed or false if something went wrong\n     * @private\n     */\n    _customValidationsForElements(fields) {\n        var futures = [], fieldsLength = fields.length, checkedFields = [];\n        for (var iVal = 0; iVal < fieldsLength; iVal++) {\n            var field = fields[iVal], validationRef = field.getAttribute(ATTR_VALIDATOR), validity = field.validity;\n            if (this._validators[validationRef]) {\n                // use local validation first and then continue with custom validations\n                if (Form._shouldNotValidateField(field) || (validity && !validity.customError && !validity.valid)) {\n                    continue;\n                }\n                checkedFields.push(field);\n                futures.push(this._runValidation(validationRef, field));\n            } else {\n                if (validationRef) {\n                    console.warn('data-validate was set but no validator was found');\n                }\n            }\n        }\n        return Promise.all(futures).then(function (allFutures) {\n            let l = allFutures.length;\n            let result = {\n                checkedFields: checkedFields,\n                foundAnyError: false\n            };\n            for (var fI = 0; fI < l; fI++) {\n                if (!allFutures[fI]) {\n                    result.foundAnyError = true;\n                    break;\n                }\n            }\n            return result;\n        });\n    }\n\n    /**\n     * Remove all errors for this form\n     * @returns {Form}\n     */\n    removeErrors() {\n        this._removeElementErrors(this.form);\n        if (this.tooltips) {\n            this.tooltips.removeTooltip();\n        }\n        return this;\n    }\n\n    /**\n     * Will handle errors for given fields\n     * @param {Array|NodeList} fields\n     * @param {Boolean} removeAllErrors\n     */\n    prepareErrors(fields, removeAllErrors) {\n        if (removeAllErrors) {\n            this.removeErrors();\n        }\n        let labelGroups = {}, invalidFields = [];\n\n        function handleAdditionalLabels(isInvalid, thisLabelGroup, field) {\n            let additionalLabels = field.getAttribute(ATTR_DATA_CUSTOM_LABEL) ||\n                field.id, group = thisLabelGroup[additionalLabels];\n            if (additionalLabels) {\n                // check additionally if field is currently marked as invalid\n                // so the label is not marked as error if no field is marked as one\n                group = group ? group : isInvalid;\n                thisLabelGroup[additionalLabels] = group;\n            }\n        }\n\n        // We save all validations in an extra property because we need to reset the validity due some\n        // implementation errors in other browsers then chrome\n        for (let i = 0; i < fields.length; i++) {\n            let field = fields[i], errorTarget = Form._findErrorTarget(field), parent = errorTarget.parentNode,\n                validity = field.validity, isInvalid = validity && !validity.valid;\n            if (Form._shouldNotValidateField(field)) {\n                continue;\n            }\n            field.flexFormsSavedValidity = JSON.parse(JSON.stringify(validity));\n            handleAdditionalLabels(isInvalid, labelGroups, field);\n            if (isInvalid) {\n                if (!removeAllErrors) {\n                    // Remove current errors:\n                    this._removeElementErrors(parent);\n                }\n                // setup custom error messages:\n                this._setupErrorMessages(field, validity);\n                let msg = field.validationMessage;\n\n                // mark fields as invalid\n                this._markElementInvalid(errorTarget);\n                this._markElementInvalid(field);\n\n                if (this.options.appendError) {\n                    parent.insertAdjacentHTML(\"beforeend\",\n                        `<div class=\"${this.options.containerErrorClass}\">${msg}</div>`);\n                }\n                invalidFields.push(field);\n                field.flexFormsSavedValidationMessage = msg;\n            } else {\n                // restore invalid fields\n                this._markElementValid(errorTarget);\n                this._markElementValid(field);\n\n                // cleanup\n                delete field.flexFormsSavedValidationMessage;\n\n                // remove error markup\n                this._removeElementErrors(parent);\n            }\n            // We have to reset the custom validity here to allow native validations work again\n            field.setCustomValidity('');\n        }\n        // if validates a single field we need to check the linked fields to a label:\n        if (fields.length === 1) {\n            let field = fields[0];\n            let id = field.getAttribute(ATTR_DATA_CUSTOM_LABEL) || field.id;\n            if (id) {\n                let linkedFields = Array.from(\n                    this.getForm().querySelectorAll(`[${ATTR_DATA_CUSTOM_LABEL}=\"${id}\"], #${id}`));\n                linkedFields.forEach(function (thisField) {\n                    let validity = thisField.validity, isInvalid = validity && !validity.valid &&\n                        this._isElementInvalidElement(thisField);\n                    handleAdditionalLabels(isInvalid, labelGroups, thisField);\n                }.bind(this));\n            }\n        }\n        this._handleLabels(labelGroups);\n        return invalidFields;\n    }\n\n    /**\n     * Validates all custom fields\n     * @returns {Promise}\n     */\n    validateCustomFields() {\n        return this._customValidationsForElements(\n            this.form.querySelectorAll(\"[data-validate]\"));\n    }\n\n    /**\n     * Tests if a field should be validated\n     * @param {HTMLElement} field\n     * @returns {boolean}\n     * @private\n     */\n    static _shouldNotValidateField(field) {\n        var target = Form._findErrorTarget(field);\n        return target instanceof HTMLFieldSetElement || field.validity === undefined ||\n            (target.hasAttribute(ATTR_VALIDATE_VISIBILITY) && !Util.isVisible(target));\n    }\n\n    /**\n     * Creates an array from a node list with invalid items\n     * This Method expicitly checks if field should not be validated so it can be used to foucs a field\n     * @param list\n     * @returns {Array}\n     * @private\n     */\n    static _createArrayFromInvalidFieldList(list) {\n        var arr = [];\n        for (var i = 0; i < list.length; ++i) {\n            var n = list[i];\n            if (n.validity && !n.validity.valid) {\n                if (!Form._shouldNotValidateField(n)) {\n                    arr.push(n);\n                }\n            }\n        }\n        return arr;\n    }\n\n\n    /**\n     * This form\n     * @returns {HTMLElement}\n     */\n    getForm() {\n        return this.form;\n    }\n\n    /**\n     * Registers a function that handles remote validation\n     * @param {Function} func\n     * @returns {Form}\n     */\n    registerRemoteValidation(func) {\n        this._remoteValidationFunction = func;\n        return this;\n    }\n\n\n    /**\n     * Formats the error content for the tooltip\n     * @param {String} error\n     * @returns {String}\n     * @private\n     */\n    _formatErrorTooltip(error) {\n        return this.options.formatErrorTooltip.apply(this, [error]);\n    }\n\n    /**\n     * Tries to find a custom error target on given target\n     * @param target\n     * @returns {HTMLElement}\n     * @private\n     */\n    static _findErrorTarget(target) {\n        var el = target.getAttribute(ATTR_ERROR_TARGET_ID) || target,\n            foundTarget = el instanceof HTMLElement ? el : global.document.getElementById(el);\n        if (!foundTarget) {\n            throw 'Given error target did not exsits:' + target;\n        }\n        return foundTarget;\n    }\n\n    /**\n     * Creates a tooltip at given element, will only create a new instance if not created\n     * @param {HTMLElement} target\n     * @param {Boolean} [remove]\n     */\n    showAndOrCreateTooltip(target, remove) {\n        var self = this;\n        if (!this.tooltips && this.options.createTooltips) {\n            this.tooltips = new Tooltip(this.options.tooltipContainer, this.options.tooltipOptions);\n        }\n        if (!this.options.createTooltips) {\n            return false;\n        }\n\n        if (!target.flexFormsSavedValidity) {\n            return false;\n        }\n        var errorTarget = Form._findErrorTarget(target);\n        if (!target.flexFormsSavedValidity.valid && self._isElementInvalidElement(errorTarget)) {\n            self.tooltips.createTooltip(errorTarget,\n                self._formatErrorTooltip(target.flexFormsSavedValidationMessage), false);\n            return true;\n        } else {\n            if (remove) {\n                self.tooltips.removeTooltip();\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Checks if element is marked as invalid\n     * @param {HTMLElement} el\n     * @returns {boolean}\n     * @private\n     */\n    _isElementInvalidElement(el) {\n        return el.hasAttribute(DATA_ELEMENT_INVALID);\n    }\n\n    /**\n     * Handles invalid event of a form\n     * @param {Event} e\n     * @returns {Promise|boolean}\n     * @private\n     */\n    _checkIsInvalid(e) {\n        e.preventDefault();\n        var invalidFields = this.getForm().querySelectorAll(\":invalid\");\n        return this._handleValidation(invalidFields, true, false);\n    }\n\n    /**\n     * Will query dependent fields (by selector) that should be validated with given field\n     * @param field\n     * @returns {NodeList|[]}\n     * @private\n     */\n    _getDependentFields(field) {\n        let fieldSelector = field.getAttribute(ATTR_DEPENDS), base = [field];\n        if (fieldSelector) {\n            base.push.apply(base, Array.prototype.slice.apply(\n                this.getForm().querySelectorAll(fieldSelector)));\n        }\n        return base;\n    }\n\n    /**\n     * @private\n     * @param {HTMLElement} [target]\n     */\n    _handleTooltipInline(target) {\n        if (this.tooltips) {\n            this.tooltips.removeTooltip(target);\n        }\n    }\n\n    /**\n     * Initializes validation for a given form, registers event handlers\n     */\n    initFormValidation() {\n        // Suppress the default bubbles\n        var form = this.getForm(),\n            self = this,\n            invalidEvent = 'invalid';\n\n        /**\n         * Validates if is valid realtime element\n         * @param {HTMLElement} target\n         * @returns {boolean}\n         * @private\n         */\n        function _checkIsValidRealtimeElement(target) {\n            return !target.hasAttribute(ATTR_DISABLE_REALTIME) && !target.hasAttribute(ATTR_DISABLE_INLINE);\n        }\n\n        form.addEventListener(invalidEvent, function (e) {\n            e.preventDefault();\n        }, true);\n\n        Util.addEventOnce(invalidEvent, form, function handleInvalid(e) {\n            self._formLoading();\n            var result = self._checkIsInvalid(e);\n            if (result) {\n                self.currentValidationFuture = new Promise((resolve) => {\n                    result.then(function (r) {\n                        setTimeout(function () {\n                            Util.addEventOnce(invalidEvent, form, handleInvalid, true);\n                        }, 0);\n                        resolve(r);\n                        self._formStopLoading();\n                        if (!r.foundAnyError) {\n                            self._formLoading();\n                            self._handleSubmit(e);\n                        }\n                    });\n                });\n            }\n        }, true);\n\n        this.addEventListener(form, 'reset', () => {\n            this.removeErrors();\n        });\n\n        // Timeout for keys:\n        var TIMEOUT_KEYDOWN, KEYDOWN_RUNNING = false;\n\n        // resets keydown events\n        function clearKeyDownTimeout() {\n            KEYDOWN_RUNNING = false;\n            clearTimeout(TIMEOUT_KEYDOWN);\n        }\n\n        // setup custom realtime event if given\n        if (self.options.realtime) {\n            this.addEventListener(form, CONST_REALTIME_EVENT, function (e) {\n                if (self._formIsLoading()) {\n                    return;\n                }\n                var target = e.target;\n                clearTimeout(TIMEOUT_KEYDOWN);\n                if (KEYDOWN_RUNNING) {\n                    return;\n                }\n                TIMEOUT_KEYDOWN = setTimeout(() => {\n                    let isStillTarget = document.activeElement === e.target;\n                    if (!_checkIsValidRealtimeElement(target)) {\n                        return;\n                    }\n                    if (isStillTarget) {\n                        self._handleTooltipInline();\n                    }\n                    KEYDOWN_RUNNING = true;\n                    let dependentFields = self._getDependentFields(target);\n                    self._customValidationsForElements(dependentFields).then(function () {\n                        self.prepareErrors(dependentFields, false);\n                        if (isStillTarget) {\n                            self.showAndOrCreateTooltip(e.target);\n                        }\n                        // future must be resolved before another event can be started\n                        KEYDOWN_RUNNING = false;\n                    });\n                }, self.options.realtimeTimeout);\n            }, true);\n        }\n\n        /**\n         * Validates if target is a valid input field to check blur and focus events\n         *\n         * @param {HTMLElement} target\n         * @returns {boolean}\n         * @private\n         */\n        function _checkIsValidBlurFocusElement(target) {\n            let attr = target.getAttribute(\"type\");\n            return (attr !== \"radio\" && attr !== \"checkbox\" && attr !== \"submit\");\n        }\n\n        /**\n         * Validates if is valid inline-check element\n         * @param {HTMLElement} target\n         * @returns {boolean}\n         * @private\n         */\n        function _checkIsValidInlineCheckElement(target) {\n            return !target.hasAttribute(ATTR_DISABLE_INLINE);\n        }\n\n        this.addEventListener(form, 'blur', function (e) {\n            // do not hide tooltip after change event\n            if (!e.target.flexcssKeepTooltips) {\n                self._handleTooltipInline(e.target);\n            }\n            delete e.target.flexcssKeepTooltips;\n        }, true);\n\n        // handle focus on input elements\n        // will show an error if field is invalid\n        this.addEventListener(form, \"focus\", function (e) {\n            if (self._formIsLoading()) {\n                return;\n            }\n            // do not track errors for checkbox and radios on focus:\n            if (!_checkIsValidBlurFocusElement(e.target)) {\n                return;\n            }\n            // we need to delay this a little, because Firefox and Safari do not show a tooltip after it\n            // just have been hidden (on blur). Maybe fix this with a queue later\n            setTimeout(function () {\n                self.showAndOrCreateTooltip(e.target);\n            }, FOCUS_TOOLTIP_DELAY);\n        }, true);\n\n        if (self.options.inlineValidation) {\n            // Handle change for checkbox, radios and selects\n            this.addEventListener(form, \"change\", function (e) {\n                const target = e.target;\n                if (self._formIsLoading() || !_checkIsValidInlineCheckElement(target)) {\n                    return;\n                }\n                clearKeyDownTimeout();\n                const name = target.getAttribute('name');\n                let inputs = name ? form.querySelectorAll('[name=\"' + name + '\"]') : [target];\n                // we only support dependent fields for a single widgets right now\n                if (inputs.length === 1) {\n                    inputs = self._getDependentFields(target);\n                }\n                self._customValidationsForElements(inputs).then(function () {\n                    self.prepareErrors(inputs, false);\n                    target.flexcssKeepTooltips = self.showAndOrCreateTooltip(target, true);\n                    if (target.flexcssKeepTooltips) {\n                        self._handleTooltipHideClickAfterChange();\n                    }\n                });\n            });\n        }\n\n        // prevent default if form is invalid\n        this.addEventListener(form, \"submit\", function listener(e) {\n            self._submitListener(e, listener);\n        });\n\n        Event.dispatchAndFire(form, EVENT_FORM_READY);\n    }\n\n    /* Loading states, unfortunately we can't check if a promise is pending :/*/\n    /* TODO: Maybe wrap promise to extend this functionality */\n\n    _formLoading() {\n        this.getForm().classList.add(LOADING_CLASS);\n    }\n\n    _formStopLoading() {\n        this.getForm().classList.remove(LOADING_CLASS);\n    }\n\n    _formIsLoading() {\n        return this.getForm().classList.contains(LOADING_CLASS);\n    }\n\n    // this defines the logic after a change event when a tooltip is shown\n    // because we call this method inside the change event, the click would be immeditally executed with the change\n    // event when not using setTimeout(). There might be another solution for this...\n    _handleTooltipHideClickAfterChange() {\n        const self = this;\n        if (this.options.createTooltips) {\n            setTimeout(function () {\n                Util.addEventOnce(Settings.getTabEvent(), global.document.body, function (t) {\n                    if (!self._isElementInvalidElement(t.target)) {\n                        self._handleTooltipInline();\n                    }\n                });\n            }, CLICK_TOOLTIP_DELAY);\n        }\n    }\n\n    _focusElement(el) {\n        el.focus();\n        Util.scrollToElement(el, this.options.scrollToElementDiff);\n    }\n\n    /**\n     * Listener that is executed on form submit\n     * @param e\n     * @param submitListener\n     * @returns {boolean}\n     * @private\n     */\n    _submitListener(e, submitListener) {\n\n        const form = this.getForm(),\n            self = this,\n            submitEvent = 'submit';\n\n        if (this._formIsLoading()) {\n            e.preventDefault();\n            return false;\n        }\n        this._formLoading();\n        form.removeEventListener(submitEvent, submitListener);\n        this.removeErrors();\n        e.preventDefault();\n        // reset:\n        if (form.checkValidity()) {\n            form.addEventListener(submitEvent, submitListener);\n            // It's possible that the form is valid but the custom validations need to be checked again:\n            self.currentValidationFuture = new Promise((resolve) => {\n                var validation = self.validateCustomFields();\n                validation.then(function (r) {\n                    // because custom validators may mark multiple fields as invalid, we get all of them in the form\n                    var fields = self._getInvalidElements(),\n                        errors = self.prepareErrors(fields, false), firstError = errors[0];\n                    if (firstError) {\n                        self._focusElement(firstError);\n                        self.showAndOrCreateTooltip(firstError, true);\n                    }\n                    resolve(r);\n                });\n            });\n            self.currentValidationFuture.then(function (r) {\n                if (!r.foundAnyError) {\n                    // Handle submitting the form to server:\n                    self._handleSubmit(e);\n                } else {\n                    self._formStopLoading();\n                }\n            });\n        } else {\n            self._formStopLoading();\n            form.addEventListener(submitEvent, submitListener);\n        }\n    }\n\n\n    /**\n     * Handles submitting, optionally allows to stop submitting\n     * @param e\n     * @private\n     */\n    _handleSubmit(e) {\n        this._submitFunction(this.form, e);\n    }\n\n\n    /**\n     * Registers a global event Handler\n     * @param errorFunc\n     */\n    static registerErrorMessageHandler(errorFunc) {\n        Form.globalErrorMessageHandler = errorFunc;\n    }\n\n    /**\n     * Initialize forms for a specific selector\n     * @param {String} selector\n     * @param {Object} [options]\n     * @return {array.<Form>}\n     */\n    static init(selector, options) {\n        var forms = selector instanceof HTMLElement ? selector.querySelectorAll('form') :\n            document.querySelectorAll(selector), instances = [];\n        for (var i = 0; i < forms.length; i++) {\n            instances.push(new Form(forms[i], options));\n        }\n        return instances;\n    }\n\n\n    /**\n     * Registers a global validator that is usable on all form instances\n     * @param {String} name\n     * @param {Function} validator\n     * @returns {Function}\n     */\n    static registerValidator(name, validator) {\n        Form.globalValidators[name] = validator;\n        return Form;\n    }\n\n    /**\n     * Registers a global function that is called when a form should validate the response of a server\n     * @param {Function} func\n     * @returns {Form}\n     */\n    static registerGlobalRemoteValidationFunction(func) {\n        Form.globalRemoteValidationFunction = func;\n        return Form;\n    }\n}\n\n\n/**\n * Global validators\n * @type {Array}\n */\nForm.globalValidators = [];\n\n/**\n * Global Remote validation function\n */\nForm.globalRemoteValidationFunction = function () {\n};\n\n/**\n * Handles custom error messages extracts custom message by default\n */\nForm.globalErrorMessageHandler = (field, validity) => {\n    if (!validity.customError) {\n        let customMsg = field.getAttribute(ATTR_DATA_CUSTOM_MESSAGE);\n        if (customMsg) {\n            field.setCustomValidity(customMsg);\n        }\n    }\n};\n\nexport default Form;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/Form.js\n **/","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*!\n * FlexCss.Tooltip\n * Licensed under the MIT License (MIT)\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n */\n\nimport Util from './util/Util';\nimport DestroyableWidget from './DestroyableWidget';\nimport Settings from './util/Settings';\n\n/**\n * @type {string}\n */\nconst CLASS_NAMES_TOOLTIP = 'tooltip-container';\n/**\n * @type {string}\n */\nconst CLASS_NAMES_OPEN = 'open';\n\n/**\n * @type {string}\n */\nconst ATTR_DATA_CLASSNAME = 'data-class';\n\n/**\n * @type {string}\n */\nconst ATTR_DATA_NO_TOUCH = 'data-no-touch';\n\n/**\n * @type {HTMLDocument}\n */\nconst doc = global.document;\n\n/**\n * Simple Tooltip\n */\nclass Tooltip extends DestroyableWidget {\n\n    /**\n     * Creates a Tooltip\n     * @param {HTMLElement|String} DelegateContainer\n     * @param {Object} [options]\n     */\n    constructor(DelegateContainer, options) {\n        super();\n        /**\n         * The Container where possible events are captured\n         */\n        this.container = DelegateContainer instanceof HTMLElement ?\n            DelegateContainer : doc.getElementById(DelegateContainer);\n\n        if (!this.container) {\n            throw new Error('Could not create Tooltip, DelegateContainer not found');\n        }\n\n        /**\n         * The Container where tooltips are stored for this instance\n         * @type {HTMLElement}\n         */\n        this.tooltipContainer = null;\n\n        /**\n         * Default Options\n         */\n        this.options = {\n            containerClass: '',\n            selectorAttribute: 'data-tooltip',\n            collisionContainer: this.container\n        };\n\n        Object.assign(this.options, options || {});\n    }\n\n    /**\n     * Creates and shows a tooltip\n     * @param {HTMLElement} target where is this tooltip positioned\n     * @param {String} text text content in tooltip, will be NOT escaped\n     * @param {Boolean} [removeTitle] removes title element if given\n     * @param {Node} [positionRelative]\n     */\n    createTooltip(target, text, removeTitle, positionRelative) {\n        // abort if text is empty\n        if (!text || text && text.trim() === '') {\n            return;\n        }\n\n        if (Settings.isTouchDevice() && target && target.hasAttribute(ATTR_DATA_NO_TOUCH)) {\n            return;\n        }\n\n        let tooltipContainer = this.tooltipContainer;\n\n        if (!tooltipContainer) {\n            tooltipContainer = doc.createElement('div');\n            this.container.appendChild(tooltipContainer);\n            this.tooltipContainer = tooltipContainer;\n        }\n        this._restoreClassNames(tooltipContainer, target);\n\n        tooltipContainer.style.left = 'auto';\n        tooltipContainer.style.top = 'auto';\n        tooltipContainer.innerHTML = text;\n        tooltipContainer.flexTooltipCurrentTarget = target;\n        if (removeTitle) {\n            target.oldTitle = text;\n            target.removeAttribute('title');\n        }\n\n        Util.setupPositionNearby(positionRelative || target, tooltipContainer,\n            this.options.collisionContainer, true, true);\n\n        tooltipContainer.classList.add(CLASS_NAMES_OPEN);\n    }\n\n    _restoreClassNames(container, target) {\n        // allow additional classname per tooltip on target element\n        const classNames = [CLASS_NAMES_TOOLTIP, this.options.containerClass];\n        const maybeTargetClass = target.getAttribute(ATTR_DATA_CLASSNAME);\n        if (maybeTargetClass) {\n            classNames.push(maybeTargetClass);\n        }\n        container.className = classNames.join(\" \");\n        return this;\n    }\n\n    /**\n     * @returns {HTMLElement|null}\n     */\n    getCurrentTarget() {\n        return this.tooltipContainer ? this.tooltipContainer.flexTooltipCurrentTarget : null;\n    }\n\n    /**\n     * Destroys this Widget\n     * @returns {boolean}\n     */\n    destroy() {\n        super.destroy();\n\n        if (this.tooltipContainer) {\n            this.tooltipContainer.parentNode.removeChild(this.tooltipContainer);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Removes a Tooltip on given target\n     * @param {HTMLElement} [target], if not given will remove current open tooltip on this instance\n     */\n    removeTooltip(target) {\n        let selfTarget = target;\n        if (!selfTarget && this.tooltipContainer) {\n            selfTarget = this.tooltipContainer.flexTooltipCurrentTarget;\n        }\n        if (this.tooltipContainer) {\n            if (this.tooltipContainer.flexTooltipCurrentTarget !== selfTarget) {\n                return;\n            }\n            this.tooltipContainer.classList.remove(CLASS_NAMES_OPEN);\n            delete this.tooltipContainer.flexTooltipCurrentTarget;\n        }\n        if (selfTarget && selfTarget.oldTitle) {\n            selfTarget.setAttribute('title', selfTarget.oldTitle);\n        }\n    }\n\n    /**\n     * Initilizes mouse events on container element\n     */\n    registerEvents() {\n        const self = this;\n        this.addEventListener(this.container, 'mouseover', (e) => {\n            if (e.target.hasAttribute(self.options.selectorAttribute)) {\n                self.createTooltip(e.target, e.target.getAttribute('title'), true);\n            }\n        });\n\n        this.addEventListener(this.container, 'mouseout', (e) => {\n            if (e.target.hasAttribute(self.options.selectorAttribute)) {\n                self.removeTooltip(e.target);\n            }\n        });\n        return this;\n    }\n}\n\nexport default Tooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/Tooltip.js\n **/","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst PFX = [\"webkit\", \"moz\", \"MS\", \"o\", \"\"];\n\nconst COL_LEFT_CLASS = 'is-collision-left';\n\nconst COL_RIGHT_CLASS = 'is-collision-right';\n\nconst COL_BOTTOM_CLASS = 'is-collision-bottom';\n\n/**\n * Provides shared DOM-Utility functions\n */\nclass Util {\n\n    /**\n     * Will register the right animation event based on browser\n     * @param element\n     * @param type\n     * @param callback\n     */\n    static prefixedAnimateEvent(element, type, callback) {\n        const thisFunction = function thisFunction(e) {\n            callback.apply(element, [e, thisFunction]);\n        };\n\n        for (let p = 0; p < PFX.length; p++) {\n            let thisType = type;\n            if (!PFX[p]) {\n                thisType = type.toLowerCase();\n            }\n            const name = PFX[p] + thisType;\n            element.addEventListener(name, thisFunction, true);\n        }\n    }\n\n    /**\n     * Get correct transitionend event\n     * @returns {String}\n     * @private\n     */\n    static whichTransitionEndEvent() {\n        let t;\n        const el = document.createElement('fake');\n\n        const transitions = {\n            transition: 'transitionend',\n            OTransition: 'oTransitionEnd',\n            MozTransition: 'transitionend',\n            WebkitTransition: 'webkitTransitionEnd'\n        };\n\n        for (t in transitions) {\n            if (el.style[t] !== undefined) {\n                return transitions[t];\n            }\n        }\n    }\n\n    /**\n     * Check if target is part of parent node\n     * @param target\n     * @param parent\n     * @returns {boolean}\n     */\n    static isPartOfNode(target, parent) {\n        if (!target || !parent) {\n            return false;\n        }\n        let now = target;\n        while (now !== parent && now !== null) {\n            if (now === parent) {\n                break;\n            }\n            now = now.parentNode;\n        }\n        return now !== null;\n    }\n\n    /**\n     * Finds the closest element including itself matching a callback\n     * @param {Node} el\n     * @param {Function} callback\n     * @returns {Node|boolean}\n     */\n    static closestCallback(el, callback) {\n        let element = el;\n        while (element !== null) {\n            if (callback(element)) {\n                return element;\n            }\n            element = element.parentNode;\n        }\n        return false;\n    }\n\n    /**\n     * Walks the tree until func returns true for given argument\n     * @param target\n     * @param func\n     * @returns {boolean|HTMLElement}\n     */\n    static parentsUntil(target, func) {\n        if (!target) {\n            return false;\n        }\n        let now = target;\n        while (!func(now) && now !== null) {\n            now = now.parentNode;\n        }\n\n        return now;\n    }\n\n    /**\n     * Generates a unique id\n     * @return {String}\n     */\n    static guid() {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        }\n\n        return `${s4() + s4()}-${s4()}-${s4()}-${s4()}-${s4() + s4() + s4()}`;\n    }\n\n    /**\n     * Detects scrollbar width\n     * @see http://stackoverflow.com/questions/986937/how-can-i-get-the-browsers-scrollbar-sizes\n     * @returns {number}\n     */\n    static getScrollBarWidth() {\n        const doc = global.document;\n        const inner = doc.createElement('p');\n\n        inner.style.width = \"100%\";\n        inner.style.height = \"200px\";\n\n        const outer = doc.createElement('div');\n        outer.style.position = \"absolute\";\n        outer.style.top = \"0px\";\n        outer.style.left = \"0px\";\n        outer.style.visibility = \"hidden\";\n        outer.style.width = \"200px\";\n        outer.style.height = \"150px\";\n        outer.style.overflow = \"hidden\";\n        outer.appendChild(inner);\n\n        doc.body.appendChild(outer);\n        const w1 = inner.offsetWidth;\n        outer.style.overflow = 'scroll';\n        let w2 = inner.offsetWidth;\n        if (w1 === w2) {\n            w2 = outer.clientWidth;\n        }\n        doc.body.removeChild(outer);\n\n        return (w1 - w2);\n    }\n\n\n    /**\n     * Run an event once\n     * @param {String} ev\n     * @param {HTMLElement|HTMLDocument} target\n     * @param {Function} func\n     * @param {boolean} [capture]\n     * @return Function created listener\n     */\n    static addEventOnce(ev, target, func, capture) {\n        const thisFunction = function thisFunction(event) {\n            func(event, func);\n            target.removeEventListener(ev, thisFunction, capture);\n        };\n        target.addEventListener(ev, thisFunction, capture);\n        return thisFunction;\n    }\n\n    /**\n     * Checks if an element is visible\n     * @param {HTMLElement} element\n     * @returns bool\n     */\n    static isVisible(element) {\n        return element.offsetWidth > 0 && element.offsetHeight > 0;\n    }\n\n    /**\n     * Creates a camelCaseRepresentation of a dashed string\n     * @param {String} str\n     * @returns String\n     */\n    static dashToCamelCase(str) {\n        return str.replace(/-([a-z])/g, (g) => {\n            return g[1].toUpperCase();\n        });\n    }\n\n    /**\n     * Creates a copy of `input`\n     * @param {*} input\n     * @return *\n     */\n    static copy(input) {\n        return JSON.parse(JSON.stringify(input));\n    }\n\n    /**\n     * Reads options from element (data attributes) and applies to base\n     * @param {HTMLElement} element\n     * @param {Object} base\n     * @return {Object}\n     */\n    static applyOptionsFromElement(element, base) {\n        if (!element) {\n            return base;\n        }\n        const attrs = element.attributes;\n        for (let i = 0; i < attrs.length; i++) {\n            const attr = attrs[i];\n            if (attr) {\n                const s = Util.dashToCamelCase(attr.nodeName.replace('data-', ''));\n                const val = attr.nodeValue;\n                if (base.hasOwnProperty(s)) {\n                    // skip functions\n                    if (typeof base[s] === 'function') {\n                        continue;\n                    }\n                    if (typeof base[s] === 'boolean') {\n                        base[s] = parseInt(val || 1, 10) === 1;\n                    } else {\n                        base[s] = val;\n                    }\n                }\n            }\n        }\n        return base;\n    }\n\n    /**\n     * Will position an element directly at given target\n     * Is aware of a given collision container to detect edges\n     * Will put elementToPosition either to left, center or right edge (prefer right)\n     *  and either to bottom or top (prefers bottom)\n     *\n     * You may overwrite preferred positioned with `centerHorizontal` and `positionTop`\n     *\n     * @param {HTMLElement|ClientRect} target the target container to align to\n     * @param {HTMLElement} elementToPosition the element to position\n     * @param {HTMLElement} collisionContainer the outer container to prevent collisions\n     * @param {boolean} [centerHorizontal] set true to center element, otherwise it's put on the right border by default\n     * @param {boolean} [positionTop] flip top, by default element is positioned to the bottom.\n     * @returns {HTMLElement}\n     */\n    static setupPositionNearby(target, elementToPosition, collisionContainer, centerHorizontal, positionTop) {\n        // determine relative offsets\n        let amountTop = 0;\n        let amountLeft = 0;\n        Util.parentsUntil(target.parentNode, (el) => {\n            if (!(el instanceof HTMLElement)) {\n                return false;\n            }\n            const style = window.getComputedStyle(el);\n            if (Util.isPartOfNode(elementToPosition, el)) {\n                if (style && style.position === 'relative') {\n                    amountTop += el.offsetTop || 0;\n                    amountLeft += el.offsetLeft || 0;\n                }\n                return false;\n            }\n            return true;\n        });\n\n        const targetPosition = target instanceof HTMLElement ? target.getBoundingClientRect() : target;\n        const elementRect = elementToPosition.getBoundingClientRect();\n        const colRect = collisionContainer.getBoundingClientRect();\n        const targetTop = targetPosition.top - amountTop;\n        const targetRight = targetPosition.right;\n        const isCollisionTop = (targetTop - elementRect.height) <= 0;\n        const isCollisionBottom =\n            window.innerHeight < (targetTop + amountTop + targetPosition.height + elementRect.height);\n        const isCollisionLeft = targetRight < elementRect.width;\n        const targetLeft = targetPosition.left;\n        const isCollisionRight = (targetLeft + elementRect.width) > colRect.width;\n        const classList = elementToPosition.classList;\n\n        classList.remove(COL_RIGHT_CLASS);\n        classList.remove(COL_LEFT_CLASS);\n        classList.remove(COL_BOTTOM_CLASS);\n\n        let calcTop;\n        let calcLeft;\n        if (isCollisionLeft && !isCollisionRight) {\n            // put element to left if collision with left\n            calcLeft = `${(targetPosition.left - colRect.left - amountLeft)}px`;\n            classList.add(COL_LEFT_CLASS);\n        } else {\n            // maybe center if no collision with either side\n            const rightPosition = `${(targetRight - elementRect.width - colRect.left - amountLeft)}px`;\n            const leftCentered = ((targetLeft + targetPosition.width / 2) -\n                    (elementRect.width / 2) || 0) - colRect.left;\n            const collisionCentered = (leftCentered + elementRect.width) > colRect.width;\n            if (centerHorizontal && !collisionCentered) {\n                calcLeft = `${leftCentered}px`;\n            } else {\n                classList.add(COL_RIGHT_CLASS);\n                calcLeft = rightPosition;\n            }\n        }\n\n        if (isCollisionBottom || (positionTop && !isCollisionTop)) {\n            // Put Element on top if collision\n            calcTop = `${(targetTop - elementRect.height) - colRect.top}px`;\n            classList.add(COL_BOTTOM_CLASS);\n        } else {\n            calcTop = `${(targetTop + targetPosition.height) - colRect.top}px`;\n        }\n\n        elementToPosition.style.cssText = `top:${calcTop};left:${calcLeft};`;\n\n        return elementToPosition;\n    }\n\n    /**\n     * Brings a given element into viewport\n     * @param {HTMLElement} el\n     * @param {int|function}[optionalOffset]\n     */\n    static scrollToElement(el, optionalOffset) {\n        el.scrollIntoView();\n        let thisOffset = optionalOffset;\n        // optionally use a additional scrollDif\n        if (thisOffset) {\n            if (typeof thisOffset === 'function') {\n                thisOffset = optionalOffset();\n            }\n            if (thisOffset > 0) {\n                const scrolledY = window.pageYOffset;\n                if (scrolledY) {\n                    window.scroll(0, scrolledY - thisOffset);\n                }\n            }\n        }\n    }\n}\n\nexport default Util;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/util/Util.js\n **/","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * Provides a Basic Widget\n */\nclass DestroyableWidget {\n\n    constructor() {\n        this.listeners = [];\n    }\n\n    /**\n     * Destroys a Widget\n     */\n    destroy() {\n        this.listeners.forEach((listener) => {\n            listener.element.removeEventListener.apply(listener.element, listener.args);\n        });\n        this.listeners = [];\n    }\n\n    /**\n     * Adds an event and registers it later to remove bindings\n     * @param {HTMLElement} element\n     * @param {String} name\n     * @param {Function} listener\n     * @param {boolean} [capture]\n     * @returns {Function}\n     */\n    addEventListener(element, name, listener, capture) {\n        this.listeners.push({\n            element,\n            args: [name, listener, capture]\n        });\n\n        element.addEventListener(name, listener, capture);\n        return listener;\n    }\n\n}\n\nexport default DestroyableWidget;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/DestroyableWidget.js\n **/","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport Util from './Util';\n\n// we attach global settings to global once because settings might be shared a lot of times trough the application\n// Maybe find a better way to handle that scenario\nif (!global.FLEXCSS_GLOBAL_SETTINGS) {\n    global.FLEXCSS_GLOBAL_SETTINGS = {\n        // defined breakpoint for small devices < n\n        smallBreakpoint: 768,\n        // nodes that should be updated when no scrollbar is expected\n        scrollbarUpdateNodes: global.document.body !== null ? [global.document.body] : [],\n        // additional Delay until darkener is fully hidden\n        darkenerFadeDelay: 100,\n        // class that is added if canvas has been toggled\n        canvasToggledClass: 'toggled-canvas'\n    };\n\n    global.FLEXCSS_CONST_IS_IOS = null;\n\n    global.FLEXCSS_CONST_IS_TOUCH = null;\n\n    global.FLEXCSS_CONST_IS_IE = null;\n\n    global.FLEXCSS_CONST_TAB_EVENT = 'click';\n\n    global.FLEXCSS_IS_SMALL_SCREEN = false;\n\n    const init = () => {\n        // Measure scrollbar width\n        global.FLEXCSS_CONST_SCROLLBAR_WIDTH = Util.getScrollBarWidth();\n        // detect right transition end event\n        global.FLEXCSS_CONST_TRANSITION_EVENT = Util.whichTransitionEndEvent();\n    };\n\n    if (global.document.readyState !== 'loading') {\n        init();\n    } else {\n        // it's possible that global.document.body is not available if the document is not\n        // loaded completely\n        document.addEventListener('DOMContentLoaded', () => {\n            init();\n        });\n    }\n}\n\n/**\n * Utility class that setups global settings\n */\nclass Settings {\n\n    /**\n     * Setup global settings, overwrite default values\n     * @param {Object} settings\n     */\n    static setup(settings) {\n        Object.assign(global.FLEXCSS_GLOBAL_SETTINGS, settings);\n    }\n\n    /**\n     * Access to global settings\n     * @returns {Object}\n     */\n    static get() {\n        return global.FLEXCSS_GLOBAL_SETTINGS;\n    }\n\n    /**\n     * Detects a IOS Device, caches subsequent calls\n     * @returns {boolean}\n     */\n    static isIosDevice() {\n        if (!global.FLEXCSS_CONST_IS_IOS) {\n            global.FLEXCSS_CONST_IS_IOS = global.navigator.userAgent.match(/(iPad|iPhone|iPod)/i);\n        }\n\n        return global.FLEXCSS_CONST_IS_IOS;\n    }\n\n    /**\n     * @returns {boolean}\n     */\n    static isSmallScreen() {\n        return window.innerWidth < Settings.get().smallBreakpoint;\n    }\n\n    /**\n     * Detects a touch device, caches subsequent calls\n     * @returns {boolean}\n     */\n    static isTouchDevice() {\n        if (!global.FLEXCSS_CONST_IS_TOUCH) {\n            global.FLEXCSS_CONST_IS_TOUCH = 'ontouchstart' in window || !!(global.navigator.msMaxTouchPoints);\n        }\n        return global.FLEXCSS_CONST_IS_TOUCH;\n    }\n\n    /**\n     * Checks if current browser is Internet Explorer\n     * @returns {boolean|*}\n     */\n    static isIE() {\n        if (!global.FLEXCSS_CONST_IS_IE) {\n            global.FLEXCSS_CONST_IS_IE = \"ActiveXObject\" in window;\n        }\n        return global.FLEXCSS_CONST_IS_IE;\n    }\n\n    /**\n     * @returns {String}\n     */\n    static getTransitionEvent() {\n        return global.FLEXCSS_CONST_TRANSITION_EVENT;\n    }\n\n    /**\n     * @returns {int}\n     */\n    static getScrollbarWidth() {\n        return global.FLEXCSS_CONST_SCROLLBAR_WIDTH;\n    }\n\n    /**\n     * @returns {String}\n     */\n    static getTabEvent() {\n        return global.FLEXCSS_CONST_TAB_EVENT;\n    }\n}\n\nexport default Settings;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/util/Settings.js\n **/","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/isomorphic-fetch/fetch-npm-browserify.js\n ** module id = 12\n ** module chunks = 2 3\n **/","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/whatwg-fetch/fetch.js\n ** module id = 13\n ** module chunks = 2 3\n **/","/* global CustomEvent */\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n// polyfill for custom events to make thinks work in IE\n// The needed polyfill is so small that I embedded it here\n(function poly() {\n    if (!global.CustomEvent || typeof global.CustomEvent !== 'function') {\n        const CustomEvent = function CustomEvent(event, params) {\n            const thisParams = params ||\n                {\n                    bubbles: false,\n                    cancelable: false,\n                    detail: undefined\n                };\n            const evt = document.createEvent(\"CustomEvent\");\n            evt.initCustomEvent(event, thisParams.bubbles,\n                thisParams.cancelable, thisParams.detail);\n            return evt;\n        };\n        CustomEvent.prototype = global.Event.prototype;\n        global.CustomEvent = CustomEvent;\n    }\n})();\n/**\n * Simpler Event dispatching\n */\nclass EventHandler {\n\n    /**\n     * @param {HTMLElement} target\n     * @param {String} name\n     */\n    constructor(target, name) {\n        this.target = target;\n        this.defaultOptions = {\n            bubbles: true,\n            cancelable: true\n        };\n\n        this.name = name;\n    }\n\n    /**\n     * Set more options\n     * @param {Object} options\n     * @returns {EventHandler}\n     */\n    withOptions(options) {\n        Object.assign(this.defaultOptions, (options || {}));\n        return this;\n    }\n\n    /**\n     * Call with the originalEvent\n     * @param {Event} e\n     * @returns {EventHandler}\n     */\n    withOriginal(e) {\n        return this.withDetail({\n            originalEvent: e\n        });\n    }\n\n    /**\n     * Extends the detail part of the event\n     * @param {Object} o\n     * @returns {EventHandler}\n     */\n    withDetail(o) {\n        if (!this.defaultOptions.detail) {\n            this.defaultOptions.detail = {};\n        }\n        Object.assign(this.defaultOptions.detail, o);\n        return this;\n    }\n\n    /**\n     * @returns {CustomEvent}\n     */\n    fire() {\n        const e = new CustomEvent(this.name, this.defaultOptions);\n        if (this.target) {\n            this.target.dispatchEvent(e);\n        }\n        return e;\n    }\n}\n\nclass Event {\n    /**\n     * Prepares to dispatch a custom event (without firing)\n     * @param {HTMLElement} target\n     * @param {String} name\n     * @returns {EventHandler}\n     */\n    static dispatch(target, name) {\n        return new EventHandler(target, name);\n    }\n\n    /**\n     * Dispatches a custom event and fires it directly\n     * @param {HTMLElement} target\n     * @param {String} name\n     * @param {Object} [options]\n     * @returns {CustomEvent}\n     */\n    static dispatchAndFire(target, name, options) {\n        return new EventHandler(target, name).withOptions(options).fire();\n    }\n}\n\nexport default Event;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/util/Event.js\n **/","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*!\n * FlexCss.Modal\n * Licensed under the MIT License (MIT)\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n */\n\n/* global KeyboardEvent */\n\nimport Settings from './util/Settings';\nimport Event from './util/Event';\nimport Util from './util/Util';\nimport Widget from './Widget';\nimport FixedWindow from './lib/FixedWindow';\nconst KEY_ESC = 27;\n/* Attribute Names */\nconst ATTR_CREATE_NEW = 'data-new-instance';\nconst ATTR_CLOSE = 'data-close-modal';\nconst ATTR_NAME = 'data-modal';\n\n/* Class names */\nconst CLS_CONTAINER_CURRENT = 'front';\nconst CLS_OPEN = 'open';\nconst CLS_CURRENT = 'current';\nconst CLS_PART_OF_STACK = 'part-of-stack';\nconst CLS_MODAL_CONTAINER = 'modal-container';\nconst CLS_ANIM_END = 'modal-anim-end';\nconst CLS_LOADER_CONTAINER = 'loader-container';\nconst CLS_LOADER = 'loader';\nconst CLS_BACKDROP = 'backdrop';\n\n/* Events */\n\n/**\n * Event triggered when modal is closed\n * @type {string}\n */\nexport const EVENT_MODAL_CLOSED = 'flexcss.modal.closed';\n/**\n * Event triggered before a modal is closed, cancelable\n * @type {string}\n */\nexport const EVENT_MODAL_BEFORE_CLOSED = 'flexcss.modal.beforeClose';\n/**\n * Event triggered when a modal is opened\n * @type {string}\n */\nexport const EVENT_MODAL_OPENED = 'flexcss.modal.opened';\n\n/**\n * Event triggered when modal is initilized, called on target\n * @type {string}\n */\nexport const EVENT_MODAL_INIT = 'flexcss.modal.init';\n\n/**\n * Triggered when the content of an async modal on a target is loaded, called on target\n * @type {string}\n */\nexport const EVENT_MODAL_ASYNC_TARGET_LOADED = 'flexcss.modal.asyncTargetLoaded';\n\n/**\n * A Modal Implementation\n */\nclass Modal {\n    constructor(DelegateContainer, options) {\n        const doc = global.document;\n        const container = DelegateContainer instanceof HTMLElement ?\n            DelegateContainer : doc.getElementById(DelegateContainer);\n\n        // Instance vars:\n        if (!container) {\n            throw new Error(`Could not found container element by given ID/Element: ${DelegateContainer}`);\n        }\n\n        this.currentOpen = null;\n\n        this.loading = false;\n\n        this.container = container;\n\n        /**\n         * Default Options\n         */\n        this.options = {\n            classNames: 'modal',\n            closeOnEscape: true,\n            closeOnBackgroundClick: true,\n            destroyOnFinish: false,\n            fixedContainer: true,\n            containerClassNames: ''\n        };\n\n        Object.assign(this.options, options);\n\n        // Container where events are delegated\n        this.eventContainer = null;\n        this.eventFunction = null;\n\n        this.dataMainPageContainer = global.document.body;\n\n        this.currentScrollTop = 0;\n\n        this.modalContainer = null;\n\n        // Destroy full modal instance when no dialogs are bind to?\n        // Otherwise container is recycled\n        this.destroyOnFinish = this.options.destroyOnFinish;\n    }\n\n    /**\n     * Removes this modal from global stack\n     * Will handle fixing main html element too\n     * @private\n     * @param n\n     */\n    _removeModalFromStack(n) {\n        const t = Modal._modalInstances.indexOf(n);\n        if (t > -1) {\n            Modal._modalInstances.splice(t, 1);\n            FixedWindow.getInstance().close();\n        }\n    }\n\n\n    /**\n     * Modal container that contains all `stacked` modals for this instance\n     * @returns {HTMLElement}\n     */\n    getModalContainer() {\n        return this.modalContainer;\n    }\n\n    /**\n     * Closes the current open modal of this stack\n     * @params [e], optional event\n     * @returns {*}\n     */\n    close(e) {\n        const self = this;\n\n        const options = self.currentOpen ? Util.applyOptionsFromElement(\n            self.currentOpen, Util.copy(self.options)) : self.options;\n\n        // close only on keyboard if instance should\n        if (!options.closeOnEscape && e instanceof KeyboardEvent) {\n            return false;\n        }\n\n        // close only on background if instance should\n        if (!options.closeOnBackgroundClick && e &&\n            e.type === Settings.getTabEvent() && !e.target.hasAttribute(ATTR_CLOSE)) {\n            return false;\n        }\n\n        // if an instance is currently loading, prevent from closing\n        if (self.loading) {\n            return false;\n        }\n\n        if (e) {\n            e.preventDefault();\n        }\n\n        if (self.currentOpen) {\n            // dispatch beforeClose event, if prevented prevent modal from closing\n            const ev = Event.dispatchAndFire(self.currentOpen, EVENT_MODAL_BEFORE_CLOSED);\n            if (ev.defaultPrevented) {\n                return false;\n            }\n\n            this._finishState(self.currentOpen);\n            // if there is an previous modal\n            if (self.currentOpen.prevModal) {\n                // switch to the next modal\n                return self.switchModals(self.currentOpen.prevModal,\n                    self.currentOpen.prevModal.prevModal || null);\n            }\n\n            // finally trigger closed event\n            Event.dispatch(self.currentOpen, EVENT_MODAL_CLOSED).withOriginal(e).fire();\n        }\n        self._removeModalFromStack(self.currentOpen);\n\n        // Full stack closed:\n        self.currentOpen = null;\n        if (self.modalContainer) {\n            // setup next open\n            const lastContainer = Modal._modalInstances[Modal._modalInstances.length - 1];\n            const classList = self.modalContainer.classList;\n            classList.remove(CLS_CONTAINER_CURRENT);\n            classList.remove(CLS_BACKDROP);\n            classList.remove(CLS_OPEN);\n            // Remove all current classes from child-nodes\n            for (let i = 0; i < self.modalContainer.childNodes.length; i++) {\n                const node = self.modalContainer.childNodes[i];\n                const cl = node.classList;\n                // remove applied styles\n                self._finishState(node);\n                cl.remove(CLS_CURRENT);\n                cl.remove(CLS_PART_OF_STACK);\n            }\n            if (lastContainer) {\n                lastContainer.parentNode.classList.add(CLS_CONTAINER_CURRENT);\n            }\n        }\n\n        if (self.destroyOnFinish) {\n            self.destroy();\n        }\n        return self;\n    }\n\n    /**\n     * Resets a target when newly initilizes\n     * @param target\n     * @private\n     */\n    _finishState(target) {\n        target.classList.remove(CLS_ANIM_END);\n    }\n\n    /**\n     * Handler called when a Modal has finished an animation\n     * @param e\n     * @param self\n     * @private\n     */\n    _finishAnim(e, self) {\n        e.target.classList.add(CLS_ANIM_END);\n        e.target.removeEventListener(e.type, self, true);\n    }\n\n    /**\n     * Brings the given modal to front\n     * @param co\n     * @param last\n     */\n    switchModals(co, last) {\n        co.prevModal = last;\n        Modal._modalInstances.push(co);\n        FixedWindow.getInstance().open(this, this.modalContainer);\n        if (last) {\n            this._finishState(last);\n            Util.prefixedAnimateEvent(last, 'AnimationEnd', this._finishAnim);\n            last.classList.add(CLS_PART_OF_STACK);\n        }\n        // set new currentOpen\n        this.currentOpen = co;\n\n        // bring current container to the front\n        const instances = Modal._modalInstances;\n\n        for (let m = 0; m < instances.length; m++) {\n            instances[m].parentNode.classList.remove(CLS_CONTAINER_CURRENT);\n        }\n        this.modalContainer.classList.add(CLS_CONTAINER_CURRENT);\n        // remove animations if animations has been completed, fixes various bugs:\n        // - fixes nested scrolling element issue in iOS Browsers / Mobile-Safari\n        Util.prefixedAnimateEvent(co, 'AnimationEnd', this._finishAnim);\n\n        for (let i = 0; i < this.modalContainer.childNodes.length; i++) {\n            const n = this.modalContainer.childNodes[i];\n            const isCurrent = n.classList.contains(CLS_CURRENT);\n            if (n === co) {\n                co.classList.add(CLS_CURRENT);\n                co.classList.remove(CLS_PART_OF_STACK);\n                this._finishState(co);\n            } else {\n                n.classList.remove(CLS_CURRENT);\n                if (isCurrent) {\n                    this._removeModalFromStack(n);\n                    Event.dispatchAndFire(n, EVENT_MODAL_CLOSED);\n                }\n            }\n        }\n    }\n\n    /**\n     * Creates a Modal and opens it (later)\n     * @param e\n     * @returns {Promise|boolean}\n     */\n    createWidget(e) {\n        const self = this;\n        if (this.loading) {\n            return false;\n        }\n\n        // check if another modal has registered events on this dom path:\n        if (e && e.target) {\n            const foundInstance = Util.parentsUntil(e.target, (node) => {\n                return node && node.flexModalInstance;\n            });\n\n            // if another instance has been found, abort\n            if (foundInstance !== this.container) {\n                return false;\n            }\n        }\n        let targetContent;\n        let future;\n        let widget;\n        let target;\n        let hasTarget = true;\n        const isHtmlElement = e instanceof HTMLElement;\n        const isWidget = Widget.isWidget(e);\n        if (isHtmlElement || isWidget) {\n            if (isHtmlElement) {\n                targetContent = e;\n            } else {\n                widget = e;\n                targetContent = widget.element;\n            }\n        } else {\n            target = e.target;\n            if (!target) {\n                throw new Error('Could not find target, did you pass an event, a HTMLElement or an Widget?');\n            }\n            hasTarget = target.hasAttribute(ATTR_NAME);\n            targetContent = target.getAttribute(ATTR_NAME);\n            widget = Widget.findWidget(target);\n            if (target.hasAttribute(ATTR_CREATE_NEW) && !e.newInstance) {\n                const newInstance = new Modal(this.container)\n                    .setDestroyOnFinish(true);\n                e.newInstance = true;\n                newInstance.fromEvent(e).then(() => {\n                    newInstance.registerEvents(newInstance.getModalContainer());\n                });\n                return false;\n            }\n            if (hasTarget) {\n                e.stopImmediatePropagation();\n                e.preventDefault();\n            }\n        }\n\n        if (!hasTarget) {\n            return false;\n        }\n\n        let modalContainerClasses = this.modalContainer ? this.modalContainer.classList : [];\n\n        // lazy create modal container\n        if (!this.modalContainer) {\n            this.modalContainer = global.document.createElement('div');\n            this.modalContainer.className = `${CLS_MODAL_CONTAINER} ${this.options.containerClassNames} ${CLS_OPEN}`;\n            const closeModalFunction = (ce) => {\n                if (this.loading) {\n                    return false;\n                }\n                if (Util.isPartOfNode(ce.target, this.currentOpen)) {\n                    if (!ce.target.hasAttribute(ATTR_CLOSE)) {\n                        return false;\n                    }\n                }\n                this.close(ce);\n            };\n\n            this.modalContainer.addEventListener(Settings.getTabEvent(), closeModalFunction, false);\n\n            modalContainerClasses = this.modalContainer.classList;\n            this.container.appendChild(this.modalContainer);\n        } else {\n            modalContainerClasses.add(CLS_OPEN);\n        }\n\n        let loader;\n        const doc = global.document;\n        const toggleLoader = (show) => {\n            if (show) {\n                loader = doc.createElement('div');\n                loader.className = CLS_LOADER_CONTAINER;\n                const loaderLoader = doc.createElement('div');\n                loaderLoader.className = CLS_LOADER;\n                loader.appendChild(loaderLoader);\n                this.modalContainer.appendChild(loader);\n            } else {\n                loader.parentNode.removeChild(loader);\n            }\n        };\n        modalContainerClasses.add('loading');\n        modalContainerClasses.add(CLS_CONTAINER_CURRENT);\n\n        requestAnimationFrame(() => {\n            requestAnimationFrame(() => {\n                modalContainerClasses.add(CLS_BACKDROP);\n            });\n        });\n\n        this.loading = true;\n        toggleLoader(true);\n        const async = widget ? widget.getAsync() : null;\n        if (Widget.isWidget(widget) && async) {\n            future = async.then((r) => {\n                let result;\n                if (r instanceof HTMLElement || r instanceof DocumentFragment) {\n                    result = r;\n                } else {\n                    // Create container Element:\n                    const element = doc.createElement('div');\n                    element.className = self.options.classNames;\n                    element.innerHTML = r;\n                    element.id = Util.guid();\n                    result = element;\n                }\n                widget.finalContent = result;\n                Event.dispatchAndFire(target, EVENT_MODAL_ASYNC_TARGET_LOADED);\n                return result;\n            });\n        } else {\n            const el = targetContent instanceof HTMLElement ||\n            targetContent instanceof DocumentFragment ? targetContent : doc.getElementById(targetContent);\n            if (el) {\n                future = new Promise((resolve) => {\n                    resolve(el);\n                });\n            } else {\n                throw new Error(`Could not found given modal element (content) with ID: ${targetContent}`);\n            }\n        }\n\n        Event.dispatchAndFire(target, EVENT_MODAL_INIT);\n\n        return future.then((thisEl) => {\n            thisEl.hfWidgetInstance = this;\n            this.modalContainer.appendChild(thisEl);\n            modalContainerClasses.remove('loading');\n            this.loading = false;\n            toggleLoader(false);\n            this.open(thisEl, true, e);\n            return thisEl;\n        });\n    }\n\n    /**\n     * Open's an already rendered modal\n     * @param {HTMLElement} modal\n     * @param {Boolean} [internal], set to true to prevent container management\n     * @param {Boolean} [maybeEvent], optional event-object that triggered open\n     */\n    open(modal, internal, maybeEvent) {\n        if (!internal) {\n            this.modalContainer.classList.add('open');\n        }\n        this.switchModals(modal, this.currentOpen);\n\n        Event.dispatch(modal, EVENT_MODAL_OPENED).withOriginal(maybeEvent).fire();\n    }\n\n\n    registerEvents(delegate) {\n        const delegateContainer = delegate || this.container;\n        // Modals should always be fixed\n        FixedWindow.getInstance().addScreenConstraint(Modal, () => true);\n        // register modal instance so we can detect multiple registrars\n        delegateContainer.flexModalInstance = this;\n        this.eventFunction = (...args) => {\n            this.createWidget.apply(this, args);\n        };\n        delegateContainer.addEventListener(Settings.getTabEvent(), this.eventFunction, false);\n\n        this.eventContainer = delegateContainer;\n        return this;\n    }\n\n\n    /**\n     * Creates a new Dialog Instance either directly from HTML Element or a Widget instance\n     * @param {HTMLElement|Widget} widget instance or html element\n     * @returns {Promise}\n     */\n    fromWidget(widget) {\n        return this.createWidget(widget);\n    }\n\n    /**\n     * Creates a Widget from event\n     * @param e\n     * @returns {Promise}\n     */\n    fromEvent(e) {\n        return this.createWidget(e);\n    }\n\n    setDestroyOnFinish(v) {\n        this.destroyOnFinish = v;\n        return this;\n    }\n\n    /**\n     * Destroy this widget instance, cleans empty DOM nodes\n     * Will use fast MutationObserver if available, otherwise falls back to DOMNodeRemoved event\n     */\n    destroy() {\n        const modalContainer = this.modalContainer;\n        const isEmptyContainer = modalContainer.childNodes.length === 0;\n        // Remove event listener on destroy, do not remove DOM node\n        if (this.eventContainer) {\n            this.eventContainer.removeEventListener(Settings.getTabEvent(), this.eventFunction, true);\n        }\n\n        if (isEmptyContainer) {\n            if (modalContainer.parentNode) {\n                modalContainer.parentNode.removeChild(modalContainer);\n            }\n        }\n        if (global.MutationObserver) {\n            const observer = new MutationObserver((mutations) => {\n                mutations.forEach(() => {\n                    if (modalContainer.childNodes.length === 0) {\n                        modalContainer.parentNode.removeChild(modalContainer);\n                        observer.disconnect();\n                    }\n                });\n            });\n            observer.observe(modalContainer,\n                {\n                    childList: true\n                }\n            );\n        } else {\n            modalContainer.addEventListener('DOMNodeRemoved', (e) => {\n                if (e.target !== modalContainer && (modalContainer.childNodes.length - 1) === 0) {\n                    modalContainer.parentNode.removeChild(modalContainer);\n                }\n            });\n        }\n    }\n}\n\n\n// Static variable that keeps track of all open modals\nModal._modalInstances = [];\n\n// Global keydown listener for modal\nglobal.addEventListener('keydown', (e) => {\n    if (e.keyCode === KEY_ESC) {\n        const lastModal = Modal._modalInstances[Modal._modalInstances.length - 1];\n        if (lastModal) {\n            Widget.findWidget(lastModal).close(e);\n        }\n    }\n});\n\nexport default Modal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/Modal.js\n **/","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*!\n * FlexCss.Widget\n * Licensed under the MIT License (MIT)\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n */\n\n/**\n * A Widget provides async content on a specific target (e.g. a modal link)\n */\nclass Widget {\n\n    /**\n     * Creates a new Widget\n     * @param [element], optional define the content of widget\n     */\n    constructor(element) {\n        /**\n         *\n         * @type {Promise}\n         */\n        this.asyncContent = null;\n\n        /**\n         * @type {boolean}\n         */\n        this._isWidget = true;\n\n        if (element) {\n            /**\n             * @type {HTMLElement}\n             */\n            this.element = element instanceof HTMLElement ? element : global.document.getElementById(element);\n            if (this.element) {\n                this.element.hfWidgetInstance = this;\n                this.setAsync(() => {\n                    return new Promise((s) => {\n                        s(this.element);\n                    });\n                });\n            } else {\n                throw new Error(`Could not found element with ID: ${element}`);\n            }\n        }\n        /**\n         * The final resulted content that a widget did create (e.g. a modal container)\n         * @type {HTMLElement}\n         */\n        this.finalContent = null;\n    }\n\n    /**\n     *\n     * @returns {Promise}\n     */\n    getAsync() {\n        return this.asyncContent();\n    }\n\n    /**\n     * @param {Function.<Promise>} async\n     * @returns {Widget}\n     */\n    setAsync(async) {\n        this.asyncContent = async;\n        return this;\n    }\n\n    /**\n     * @returns {HTMLElement}\n     */\n    getFinalContent() {\n        return this.finalContent;\n    }\n\n    /**\n     * @param {HTMLElement} element\n     * @returns {Widget}\n     */\n    setElement(element) {\n        this.element = element;\n        return this;\n    }\n\n    /**\n     * Destroys the generated content of this widget\n     * @returns {boolean}\n     */\n    destroy() {\n        if (this.finalContent && this.finalContent.parentNode) {\n            this.finalContent.parentNode.removeChild(this.finalContent);\n            return true;\n        }\n\n        delete this.element;\n        delete this.asyncContent;\n        delete this.finalContent;\n\n        return false;\n    }\n\n    /**\n     * Will find a widget on an Element\n     * @param {HTMLElement} element\n     * @returns {Widget|undefined}\n     */\n    static findWidget(element) {\n        return element ? element.hfWidgetInstance : undefined;\n    }\n\n    /**\n     * Checks if a given object is an instance\n     * @param {Object} self\n     * @returns {boolean}\n     */\n    static isWidget(self) {\n        return self instanceof Widget || typeof self === 'object' && self.hasOwnProperty('_isWidget');\n    }\n}\n\nexport default Widget;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/Widget.js\n **/","import Settings from '../util/Settings';\nimport debounce from './debounce';\nimport Event from '../util/Event';\nimport Util from '../util/Util';\n\nconst CLS_FIXED_WINDOW = 'fixed-window-open';\n\nexport const EVENT_BEFORE_FIXED_ADD = 'flexcss.fixedWindow.beforeAdd';\nexport const EVENT_AFTER_FIXED_REMOVE = 'flexcss.fixedWindow.afterRemove';\n\n/**\n * @type {string}\n */\nexport const ALLOW_ELEMENT_OVERFLOW_TOUCH = 'data-overflow';\n\n/**\n * @type {FixedWindow}\n */\nlet fixedWindowInstance;\n\nexport default class FixedWindow {\n\n    constructor() {\n        this.widgets = [];\n        this.currentScrollTop = 0;\n        this.fixedScreenConstraints = [];\n        this.windowWidth = 0;\n        this.isFixedWindowActive = false;\n        this.touchListener = null;\n    }\n\n    /**\n     * Adds a constraint to detect if the window needs to be changed when the screensize changes\n     *\n     * @param {Function} widget\n     * @param {Function} fixedBreakpointFn gets a width argument, return true to open a window\n     */\n    addScreenConstraint(widget, fixedBreakpointFn) {\n        this.fixedScreenConstraints[widget] = fixedBreakpointFn;\n    }\n\n    /**\n     * @returns {null|DestroyableWidget}\n     */\n    getCurrentWidget() {\n        return this.widgets.length > 0 ? this.widgets[this.widgets.length - 1] : null;\n    }\n\n    /**\n     * @private\n     */\n    _checkFixedNeeded() {\n        if (this.widgets.length === 0) {\n            return;\n        }\n        const widgets = new Set(this.widgets);\n        const widgetsThatRequireFixedWindow = Array.from(widgets).some(({ widget }) => {\n            return this.fixedScreenConstraints[widget] && this.fixedScreenConstraints[widget](this.windowWidth);\n        });\n        if (!widgetsThatRequireFixedWindow) {\n            this._removeFixedContainer();\n        } else {\n            this._addFixedContainer();\n        }\n    }\n\n    /**\n     * @private\n     */\n    _addFixedContainer() {\n        if (this.isFixedWindowActive) {\n            return;\n        }\n        Event.dispatchAndFire(global.document, EVENT_BEFORE_FIXED_ADD, {\n            detail: this.getCurrentWidget()\n        });\n        // this causes layout and should be optimized\n        // At lest we write in a batch later\n        Settings.get().scrollbarUpdateNodes.map((n) => {\n            let foundProperty = 'paddingRight';\n            let direction = 1;\n            let node = n;\n            if (n instanceof Array) {\n                const [whatNode, property, d] = n;\n                foundProperty = property;\n                node = whatNode;\n                direction = d || 1;\n            }\n            return {\n                node,\n                property: foundProperty,\n                value: `${parseInt(global.getComputedStyle(node)[foundProperty], 10) +\n                (!node.__fixedWindowMod__ ? (Settings.getScrollbarWidth() * direction) : 0)}px`\n            };\n        }).forEach((d) => {\n            d.node.__fixedWindowMod__ = true;\n            d.node.style[d.property] = d.value;\n        });\n\n        this.touchListener = (e) => {\n            e.preventDefault();\n        };\n\n        let shouldNotMoveUp = false;\n        let shouldNotMoveDown = false;\n        let neverScroll = false;\n        let lastClientY = 0;\n        this.touchStartListener = (e) => {\n            let { element } = this.getCurrentWidget();\n            const closestOverflow = Util.closestCallback(e.target,\n                (el) => el instanceof HTMLTextAreaElement ||\n                (el.hasAttribute && el.hasAttribute(ALLOW_ELEMENT_OVERFLOW_TOUCH)));\n            if (closestOverflow) {\n                element = closestOverflow;\n            }\n            if (Util.isPartOfNode(e.target, element)) {\n                neverScroll = element.scrollHeight === element.offsetHeight;\n                lastClientY = e.touches[0].clientY;\n                // never allow scrolling when there is nothing to scroll\n                if (neverScroll) {\n                    return false;\n                }\n                if (element.scrollTop === 0) {\n                    element.scrollTop = 1;\n                    shouldNotMoveUp = true;\n                } else if (element.scrollHeight === element.scrollTop + element.offsetHeight) {\n                    shouldNotMoveDown = true;\n                    element.scrollTop -= 1;\n                }\n            }\n        };\n\n        global.addEventListener('touchmove', this.touchListener);\n        global.document.body.addEventListener('touchstart', this.touchStartListener);\n\n        this.touchMoveListener = (e) => {\n            const { element } = this.getCurrentWidget();\n            if (Util.isPartOfNode(e.target, element)) {\n                const { clientY } = e.touches[0];\n                const isScrollingDown = (lastClientY - clientY) > 0;\n                lastClientY = clientY;\n\n                if (neverScroll) {\n                    neverScroll = false;\n                    return false;\n                }\n\n                if (!shouldNotMoveDown && isScrollingDown) {\n                    e.stopImmediatePropagation();\n                }\n\n                if (shouldNotMoveDown && !isScrollingDown) {\n                    e.stopImmediatePropagation();\n                }\n\n                if (!shouldNotMoveDown && !shouldNotMoveUp && !isScrollingDown) {\n                    e.stopImmediatePropagation();\n                }\n\n                shouldNotMoveUp = false;\n                shouldNotMoveDown = false;\n            }\n        };\n        global.document.body.addEventListener('touchmove', this.touchMoveListener);\n\n        global.document.documentElement.classList.add(CLS_FIXED_WINDOW);\n        this.isFixedWindowActive = true;\n    }\n\n    /**\n     * @private\n     */\n    _removeFixedContainer() {\n        if (this.isFixedWindowActive) {\n            // cleanup event listeners\n            global.removeEventListener('touchmove', this.touchListener);\n            global.document.body.removeEventListener('touchstart', this.touchStartListener);\n            global.document.body.removeEventListener('touchmove', this.touchMoveListener);\n\n            // reset scrollbar nodes\n            Settings.get().scrollbarUpdateNodes.forEach((node) => {\n                if (node instanceof Array) {\n                    const [whatNode, property] = node;\n                    delete whatNode.__fixedWindowMod__;\n                    whatNode.style[property] = '';\n                } else {\n                    delete node.__fixedWindowMod__;\n                    node.style.paddingRight = '';\n                }\n            });\n            global.document.documentElement.classList.remove(CLS_FIXED_WINDOW);\n            Event.dispatchAndFire(global.document, EVENT_AFTER_FIXED_REMOVE);\n            this.isFixedWindowActive = false;\n        }\n    }\n\n    /**\n     * Will close a window when no widgets are opened that need one\n     */\n    resizeListener() {\n        this.windowWidth = global.innerWidth;\n        this._checkFixedNeeded();\n    }\n\n    /**\n     * @returns {FixedWindow}\n     */\n    static getInstance() {\n        if (!fixedWindowInstance) {\n            fixedWindowInstance = new FixedWindow();\n            fixedWindowInstance.windowWidth = global.innerWidth;\n            const eventHandler = fixedWindowInstance.resizeListener.bind(fixedWindowInstance);\n            global.addEventListener(\n                'resize',\n                debounce(eventHandler, 500)\n            );\n            global.addEventListener('orientationchange', eventHandler);\n        }\n        return fixedWindowInstance;\n    }\n\n    /**\n     * Request a close of the fixed window\n     */\n    close() {\n        this.widgets.pop();\n        if (this.widgets.length === 0) {\n            this._removeFixedContainer();\n        }\n    }\n\n    /**\n     * Request to open a fixed windows\n     * @param {Object|DestroyableWidget} instance\n     * @param {HTMLElement} element\n     */\n    open(instance, element) {\n        let fixed = false;\n        if (typeof instance === 'object') {\n            const widget = instance.constructor;\n            const fixedWidget = this.fixedScreenConstraints[instance.constructor];\n            if (widget && fixedWidget) {\n                fixed = fixedWidget(this.windowWidth);\n            }\n            const length = this.widgets.length;\n            this.widgets.push(\n                {\n                    widget,\n                    element\n                }\n            );\n            // open a new window if there is no window active\n            if (length === 0) {\n                if (fixed) {\n                    this._addFixedContainer();\n                }\n            }\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/lib/FixedWindow.js\n **/","export default (fn, ms) => () => {\n    clearTimeout(fn.timeout);\n    fn.timeout = setTimeout(fn, ms);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/lib/debounce.js\n **/","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*!\n * FlexCss.Toggleable\n * Licensed under the MIT License (MIT)\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n */\n\nimport Settings from './util/Settings';\nimport Widget from './Widget';\nimport Util from './util/Util';\nimport Event from './util/Event';\n\n/**\n * Event that is fired when a tab is closed\n * @type {string}\n */\n\nexport const EVENT_TAB_CLOSED = 'flexcss.tab.closed';\n\n/**\n * Event that is fired when a tab has been opened\n * @type {string}\n */\nexport const EVENT_TAB_OPENED = 'flexcss.tab.opened';\n/**\n * @type {string}\n */\nconst ATTR_NAME = 'data-toggle';\n/**\n * @type {string}\n */\nconst ACTIVE_CLASS = 'active';\n/**\n * @type {string}\n */\nconst LOADING_CLASS = 'loading';\n\n/**\n * @type {string}\n */\nconst ATTR_TOGGLE_LIST = 'data-toggle-list';\n\n/**\n * Creates a toggleable element, either for tabs or a single toggle\n */\nclass Toggleable {\n    constructor(ContainerId) {\n        const doc = global.document;\n\n        this.container = ContainerId instanceof HTMLElement ? ContainerId :\n            doc.getElementById(ContainerId);\n\n        this.loading = false;\n\n        if (!this.container) {\n            throw new Error(`Toggleable container with id ${ContainerId} not found`);\n        }\n    }\n\n    /**\n     * Listener\n     * @param {Event} e\n     * @private\n     */\n    _listener(e) {\n        let target = e.target;\n        const parent = target.parentNode;\n        const doc = global.document;\n\n        // support target child element to clicked\n        if (!target.hasAttribute(ATTR_NAME)) {\n            if (parent && parent.hasAttribute(ATTR_NAME)) {\n                target = parent;\n            } else {\n                return;\n            }\n        }\n\n        if (!target.hasAttribute(ATTR_NAME)) {\n            return;\n        }\n\n        const refId = target.getAttribute(ATTR_NAME);\n        const ref = doc.getElementById(refId);\n\n        e.preventDefault();\n\n        if (this.loading) {\n            return;\n        }\n\n        this.toggleTarget(ref, target);\n    }\n\n    /**\n     * Registers Events for this instance\n     * @returns {Toggleable}\n     */\n    registerEvents() {\n        this.container.addEventListener(Settings.getTabEvent(), this._listener.bind(this));\n        return this;\n    }\n\n    /**\n     * Toggles given `ref`\n     * @param {HTMLElement|Node} ref\n     * @param {HTMLElement|Node} [selfTarget] optional target node\n     */\n    toggleTarget(ref, selfTarget) {\n        let target = selfTarget;\n        if (!target && !ref) {\n            return;\n        }\n        if (!target) {\n            target = document.querySelector(`[${ATTR_NAME}=\"${ref.id}\"]`);\n        }\n\n        let future;\n        const elClassList = target.classList;\n        const parent = target.parentNode;\n        const doc = global.document;\n\n        future = new Promise((resolve, failure) => {\n            if (ref) {\n                resolve(ref);\n            } else {\n                const widget = Widget.findWidget(target);\n                const async = widget ? widget.getAsync() : null;\n                if (Widget.isWidget(widget) && async) {\n                    future = async.then((r) => {\n                        if (r instanceof HTMLElement) {\n                            const id = Util.guid();\n                            r.id = id;\n                            target.setAttribute(ATTR_NAME, id);\n                            resolve(r);\n                        } else {\n                            throw new Error(`Dynamically creating toggle-content is not supported right now.\n                            Return an HTMLElement instance`);\n                        }\n                    });\n                } else {\n                    failure('Target not given');\n                }\n            }\n        });\n\n        if (parent) {\n            const maybeToggleNode = Util.parentsUntil(target, (node) => {\n                return node && node.hasAttribute && node.hasAttribute(ATTR_TOGGLE_LIST);\n            });\n\n            const parentClassList = parent.classList;\n            // Abort if element is already active and if is part of a toggle list\n            if (maybeToggleNode) {\n                if (!parentClassList.contains(ACTIVE_CLASS)) {\n                    parentClassList.toggle(ACTIVE_CLASS);\n                    parentClassList.add(LOADING_CLASS);\n                } else {\n                    return;\n                }\n            }\n\n            if (maybeToggleNode) {\n                for (let i = 0; i < maybeToggleNode.children.length; i++) {\n                    const n = maybeToggleNode.children[i];\n                    const targetRef = n.children[0];\n                    if (n !== parent) {\n                        n.classList.remove(ACTIVE_CLASS);\n                        if (targetRef) {\n                            const attr = targetRef.getAttribute(ATTR_NAME);\n                            const el = attr ? doc.getElementById(attr) : null;\n                            if (el) {\n                                Event.dispatchAndFire(el, EVENT_TAB_CLOSED);\n                                el.classList.remove(ACTIVE_CLASS);\n                                targetRef.classList.remove(ACTIVE_CLASS);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (elClassList) {\n            elClassList.toggle(ACTIVE_CLASS);\n            elClassList.add(LOADING_CLASS);\n        }\n        this.loading = true;\n        future.then((r) => {\n            Event.dispatchAndFire(r, EVENT_TAB_OPENED);\n            Toggleable._handleLoaded(target);\n            r.classList.toggle(ACTIVE_CLASS);\n            this.loading = false;\n        }).catch(() => {\n            this.loading = false;\n            Toggleable._handleLoaded(target);\n        });\n    }\n\n    /**\n     * @param el\n     * @private\n     */\n    static _handleLoaded(el) {\n        const parentClassList = el.parentNode.classList;\n        el.classList.remove(LOADING_CLASS);\n        if (parentClassList) {\n            parentClassList.remove(LOADING_CLASS);\n        }\n    }\n}\n\nexport default Toggleable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/Toggleable.js\n **/","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*!\n * FlexCss.OffCanvas\n * Licensed under the MIT License (MIT)\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n */\n\nimport Settings from './util/Settings';\nimport Util from './util/Util';\nimport Event from './util/Event';\nimport FixedWindow from './lib/FixedWindow';\n\n/**\n * @type {string}\n */\nconst ATTR_CLOSE_SIDEBAR = 'data-close-offcanvas';\n\n/**\n * @type {string}\n */\nconst ATTR_TARGET = 'data-offcanvas';\n/**\n * @type {string}\n */\nconst INIT_CLASS = 'init';\n/**\n * @type {string}\n */\nconst OPEN_CLASS = 'open';\n/**\n * @type {number}\n */\nconst HIDE_FACTOR = 3;\n\n/**\n * @type {string}\n */\nexport const EVENT_TOGGLE = 'flexcss.offcanvas.toggle';\n\n/**\n * A OffCanvas Implementation\n */\nclass OffCanvas {\n\n    /**\n     * Creates an off-canvas navigation\n     * @param {HTMLElement|String} NavigationId\n     * @param {HTMLElement|String} Darkener\n     * @param {int} factor positive will expect right sidebar, positive left\n     * @param {bool} [disableTouch] if true all touch events are disabled\n     * @constructor\n     */\n    constructor(NavigationId, Darkener, factor, disableTouch) {\n        const doc = global.document;\n        let touchedX = 0;\n        const navigationContainer = NavigationId instanceof HTMLElement ?\n            NavigationId : doc.getElementById(NavigationId);\n        const darkener = Darkener instanceof HTMLElement ? Darkener : doc.getElementById(Darkener);\n        const DARKENER_CLASS_TOGGLE = `toggle-${darkener.id}` || 'darkener';\n        const DARKENER_CLASS_INSTANT_TOGGLE = `${DARKENER_CLASS_TOGGLE}-open`;\n\n        const shouldNotTouch = () => {\n            return window.innerWidth >= Settings.get().smallBreakpoint;\n        };\n\n        if (!darkener || !navigationContainer) {\n            throw new Error('Could not find needed elements (Darkener and/or NavigationId)');\n        }\n\n        this.darkener = darkener;\n        this.darkenerClassToggle = DARKENER_CLASS_TOGGLE;\n        this.darkenerClassToggleInstant = DARKENER_CLASS_INSTANT_TOGGLE;\n        this.globalToggleClass = Settings.get().canvasToggledClass;\n\n        this.navigationContainer = navigationContainer;\n        this.navigationContainerId = navigationContainer.id;\n\n        // create id if id does not exist\n        if (!this.navigationContainerId) {\n            this.navigationContainerId = Util.guid();\n            navigationContainer.id = this.navigationContainerId;\n        }\n\n        if (!disableTouch) {\n            navigationContainer.addEventListener('touchstart', (e) => {\n                if (shouldNotTouch()) {\n                    return;\n                }\n                touchedX = e.touches[0].clientX;\n                navigationContainer.mustHide = false;\n            });\n            navigationContainer.addEventListener('touchmove', (e) => {\n                if (shouldNotTouch()) {\n                    return;\n                }\n                const { clientX } = e.touches[0];\n                const target = navigationContainer;\n                const style = target.style;\n                const calcX = touchedX - clientX;\n                const bounds = target.getBoundingClientRect();\n                const compare = factor > 0 ? calcX <= 0 : calcX >= 0;\n                if (compare) {\n                    style.transition = 'transform 0s ease';\n                    style.webkitTransition = '-webkit-transform 0s ease';\n                    target.mustHide = factor > 0 ? calcX * -1 >\n                    bounds.width / HIDE_FACTOR : calcX > bounds.width / HIDE_FACTOR;\n                    const transform = `translate3d(${calcX * -1}px,0,0)`;\n                    style.transform = transform;\n                    style.webkitTransform = transform;\n                }\n            });\n            navigationContainer.addEventListener('touchend', () => {\n                if (shouldNotTouch()) {\n                    return;\n                }\n                const target = navigationContainer;\n                const style = target.style;\n                if (target.mustHide) {\n                    const width = target.getBoundingClientRect().width * factor;\n                    style.transition = 'transform .2s ease';\n                    style.webkitTransition = '-webkit-transform .2s ease';\n                    const transform = `translate3d(${width}px,0,0)`;\n                    style.transform = transform;\n                    style.webkitTransform = transform;\n                    this._remove().then(() => {\n                        this.resetTransform(style);\n                    });\n                    this._removeInstant();\n                } else {\n                    this.resetTransform(style);\n                }\n            });\n        }\n    }\n\n    /**\n     * @param {Object} s\n     */\n    resetTransform(s) {\n        s.transform = '';\n        s.transition = '';\n        s.webkitTransform = '';\n        s.webkitTransition = '';\n    }\n\n    /**\n     * @param {Object} [event]\n     * @private\n     */\n    _remove(event) {\n        return new Promise((resolve) => {\n            Util.addEventOnce(Settings.getTransitionEvent(), this.navigationContainer, function scheduler(e) {\n                if (e.target !== this.navigationContainer) {\n                    return Util.addEventOnce(Settings.getTransitionEvent(),\n                        this.navigationContainer, scheduler.bind(this));\n                }\n                requestAnimationFrame(() => {\n                    OffCanvas.currentOpen = null;\n                    const docCls = global.document.documentElement.classList;\n                    docCls.remove(this.darkenerClassToggle);\n                    docCls.remove(this.globalToggleClass);\n                    if (!!event) {\n                        Event.dispatchAndFire(this.navigationContainer, EVENT_TOGGLE);\n                    }\n                    resolve();\n                });\n            }.bind(this));\n        });\n    }\n\n    /**\n     * @private\n     */\n    _removeInstant() {\n        this.navigationContainer.classList.remove(OPEN_CLASS);\n        global.document.documentElement.classList.remove(this.darkenerClassToggleInstant);\n        this.darkener.classList.remove(INIT_CLASS);\n        FixedWindow.getInstance().close();\n    }\n\n    /**\n     * Toggles a an off-canvas element\n     * @param [e]\n     * @private\n     */\n    toggle(e) {\n        if (e) {\n            e.preventDefault();\n        }\n        this.resetTransform(this.navigationContainer.style);\n        const darkenerClass = this.darkener.classList;\n        const DARKENER_CLASS_TOGGLE = this.darkenerClassToggle;\n        const DARKENER_CLASS_INSTANT_TOGGLE = this.darkenerClassToggleInstant;\n        const navigationControllerClassList = this.navigationContainer.classList;\n        if (!OffCanvas.currentOpen) {\n            Util.addEventOnce(Settings.getTransitionEvent(), this.navigationContainer, () => {\n                if (!!e) {\n                    Event.dispatchAndFire(this.navigationContainer, EVENT_TOGGLE);\n                }\n            });\n            OffCanvas.currentOpen = this;\n            FixedWindow.getInstance().open(this, this.navigationContainer);\n            const docElementCls = global.document.documentElement.classList;\n            docElementCls.add(this.globalToggleClass);\n            docElementCls.add(DARKENER_CLASS_INSTANT_TOGGLE);\n            docElementCls.add(DARKENER_CLASS_TOGGLE);\n            darkenerClass.add(INIT_CLASS);\n            navigationControllerClassList.add(OPEN_CLASS);\n        } else {\n            return this.close(e);\n        }\n    }\n\n    close(event) {\n        if (this.navigationContainer.classList.contains(OPEN_CLASS)) {\n            const promise = this._remove(event);\n            this._removeInstant();\n            return promise;\n        }\n        return new Promise(r => r());\n    }\n\n    /**\n     * Register events\n     * @param [delegate]\n     */\n    registerEvents(delegate) {\n        const thisDelegate = delegate || global.document;\n        FixedWindow.getInstance().addScreenConstraint(OffCanvas, (width) => width < Settings.get().smallBreakpoint);\n        thisDelegate.addEventListener(Settings.getTabEvent(), (e) => {\n            if (OffCanvas.currentOpen && OffCanvas.currentOpen !== this) {\n                return;\n            }\n            const id = this.navigationContainerId;\n            const validTarget = e.target.getAttribute(ATTR_TARGET) === id;\n            if (!Util.isPartOfNode(e.target, this.navigationContainer)) {\n                if (validTarget || (OffCanvas.currentOpen === this && e.target === this.darkener)) {\n                    this.toggle(e);\n                }\n            } else {\n                if (e.target.hasAttribute(ATTR_CLOSE_SIDEBAR)) {\n                    this.toggle(e);\n                }\n            }\n        });\n    }\n}\n\nOffCanvas.currentOpen = null;\n\nexport default OffCanvas;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/OffCanvas.js\n **/","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*!\n * FlexCss.Dropdown\n * Licensed under the MIT License (MIT)\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n */\n\nimport Util from './util/Util';\nimport Settings from './util/Settings';\nimport Event from './util/Event';\nimport Widget from './Widget';\nimport FixedWindow from './lib/FixedWindow';\n\n/**\n * @type {string}\n */\nconst ATTR_CC = 'data-collision-container';\n/**\n * @type {string}\n */\nconst ATTR_DARKENER = 'data-darkener-container';\n/**\n * @type {string}\n */\nconst DARKENER_INIT = 'init';\n/**\n * @type {string}\n */\nconst ATTR_DATA_TARGET = 'data-target';\n/**\n * @type {string}\n */\nconst ATTR_CLOSE_DROPDOWN = 'data-close-dropdown';\n/**\n * @type {string}\n */\nconst ATTR_NAME = 'data-dropdown';\n/**\n * @type {string}\n */\nconst STATE_LOADING = 'loading';\n\nconst CLS_DARKENER_DROPDOWN = 'darkener-dropdown';\n/**\n * @type {string}\n */\nconst CLS_OPEN = 'open';\n\n/**\n * @type {string}\n */\nconst CLS_DROPDOWN = 'dropdown';\n\n/**\n * @type {string}\n */\nexport const EVENT_DROPDOWN_CLOSED = 'flexcss.dropdown.closed';\n\n/**\n * A Dropdown\n */\nclass Dropdown {\n    constructor(DelegateContainer, Darkener) {\n        const doc = global.document;\n\n        /**\n         * Container Element\n         * @type {HTMLElement}\n         */\n        this.container = DelegateContainer instanceof HTMLElement ?\n            DelegateContainer : doc.getElementById(DelegateContainer);\n\n        this.currentOpen = null;\n        this.currentTarget = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this.darkener = Darkener instanceof HTMLElement ? Darkener : document.getElementById(Darkener);\n\n        this.destroyOnClose = false;\n\n        if (!this.darkener || !this.container) {\n            throw new Error('required elements not found (darkener and container element)');\n        }\n    }\n\n    /**\n     * Method that handles delegation events for dropdowns\n     * @param e\n     * @returns {boolean}\n     * @private\n     */\n    _delegateFunction(e) {\n        const currentOpen = this.currentOpen;\n        const target = Util.closestCallback(e.target, n => n instanceof HTMLElement && n.hasAttribute(ATTR_NAME));\n        const targetIsCurrent = target === this.currentTarget;\n\n        if (currentOpen && !Util.isPartOfNode(e.target, currentOpen) || targetIsCurrent) {\n            this.close();\n            if (targetIsCurrent) {\n                e.preventDefault();\n            }\n            return targetIsCurrent ? false : this._delegateFunction(e);\n        }\n\n        if (target && !currentOpen) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n\n            if (target.isLoading) {\n                return false;\n            }\n            this.createDropdown(target);\n        } else {\n            if (currentOpen) {\n                if (e.target.hasAttribute(ATTR_CLOSE_DROPDOWN)) {\n                    e.preventDefault();\n                    this.close();\n                }\n                if (!Util.isPartOfNode(e.target, currentOpen)) {\n                    this.close();\n                }\n            }\n        }\n    }\n\n    /**\n     * Register Events for this dropdown container\n     * @returns {Dropdown}\n     */\n    registerEvents() {\n        FixedWindow.getInstance().addScreenConstraint(Dropdown, (width) => width < Settings.get().smallBreakpoint);\n        this.container.addEventListener(Settings.getTabEvent(), this._delegateFunction.bind(this), true);\n        return this;\n    }\n\n    /**\n     * Destroys this instance, unbinds events\n     * @returns {Dropdown}\n     */\n    destroy() {\n        this.container.removeEventListener(Settings.getTabEvent(), this._delegateFunction.bind(this), true);\n        return this;\n    }\n\n\n    /**\n     * Destroys instance on close of dropdown\n     * @param v\n     * @returns {Dropdown}\n     */\n    setDestroyOnClose(v) {\n        this.destroyOnClose = v;\n        return this;\n    }\n\n\n    /**\n     * Will add the right class to container for specific darkener id\n     * @param instance\n     * @param show\n     */\n    toggleDarkenerToggler(instance, show) {\n        const cls = `toggle-${(instance.id || CLS_DARKENER_DROPDOWN)}`;\n        const classList = this.container.classList;\n        if (show) {\n            classList.add(cls);\n        } else {\n            classList.remove(cls);\n        }\n    }\n\n    /**\n     * Closes Dropdown on current instance\n     * @return {Boolean|Promise}\n     */\n    close() {\n        const currentOpen = this.currentOpen;\n        if (!currentOpen) {\n            return false;\n        }\n        const darkenerInstance = currentOpen.flexDarkenerInstance || this.darkener;\n        const thisCurrentOpen = currentOpen;\n\n        const future = new Promise((resolve) => {\n            if (window.getComputedStyle(currentOpen).position === 'fixed') {\n                Util.addEventOnce(Settings.getTransitionEvent(), currentOpen, function scheduler(e) {\n                    if (e.srcElement !== currentOpen) {\n                        return Util.addEventOnce(Settings.getTransitionEvent(), currentOpen, scheduler.bind(this));\n                    }\n                    requestAnimationFrame(() => {\n                        Event.dispatchAndFire(thisCurrentOpen, EVENT_DROPDOWN_CLOSED);\n                        // if a new dropdown has been opened in the meantime, do not remove darkener\n                        if (this.currentOpen !== null) {\n                            return false;\n                        }\n                        this.toggleDarkenerToggler(darkenerInstance, false);\n                        resolve(true);\n                    });\n                }.bind(this));\n            } else {\n                resolve(true);\n                Event.dispatchAndFire(thisCurrentOpen, EVENT_DROPDOWN_CLOSED);\n            }\n        });\n\n        FixedWindow.getInstance().close();\n        currentOpen.classList.remove(CLS_OPEN);\n\n        if (currentOpen.flexDarkenerInstance) {\n            currentOpen.flexDarkenerInstance.classList.remove(DARKENER_INIT);\n        } else {\n            this.darkener.classList.remove(DARKENER_INIT);\n        }\n\n        this.currentOpen = null;\n        this.currentTarget = null;\n\n        if (this.destroyOnClose) {\n            this.destroy();\n        }\n\n        return future;\n    }\n\n    /**\n     * Creates a dropdown on given target and opens it\n     * @param {HTMLElement} target target where this dropdown is placed\n     * @param {FlexCss.Widget} [thisWidget] if given will use widget instead of widget instance\n     * @return {FlexCss.Dropdown}\n     */\n    createDropdown(target, thisWidget) {\n        const doc = global.document;\n\n        if (!target) {\n            throw new Error('Dropdown target not found');\n        }\n\n        const widget = thisWidget || Widget.findWidget(target);\n        let future;\n        const data = target.getAttribute(ATTR_NAME);\n        const dropdownContainerElement = doc.getElementById(data);\n        const async = !dropdownContainerElement && Widget.isWidget(widget) ? widget.getAsync() : false;\n\n        if (async) {\n            target.classList.add(STATE_LOADING);\n            target.isLoading = true;\n            future = async.then((r) => {\n                if (r instanceof HTMLElement) {\n                    if (r.id) {\n                        target.setAttribute(ATTR_NAME, r.id);\n                    }\n                    return r;\n                }\n                // Create container Element:\n                const element = doc.createElement('div');\n                element.className = CLS_DROPDOWN;\n                element.innerHTML = r;\n                element.id = Util.guid();\n                // Cache target for later use:\n                target.setAttribute(ATTR_NAME, element.id);\n                this.container.appendChild(element);\n                return element;\n            }).then((r) => {\n                target.isLoading = false;\n                target.classList.remove(STATE_LOADING);\n                return r;\n            });\n        } else {\n            if (!dropdownContainerElement) {\n                throw new Error(`Could not found Dropdown container with ID \"${data}\"`);\n            }\n            future = new Promise((r) => {\n                r(dropdownContainerElement);\n            });\n        }\n\n        future.then((dropdownContent) => {\n            if (this.currentOpen) {\n                this.close();\n            }\n            // Skip one frame to show animation\n            target.dropdownContent = dropdownContent;\n            const isAbsolute = global.getComputedStyle(dropdownContent).position === 'absolute';\n            dropdownContent.hfWidgetInstance = this;\n\n            if (!target.flexCollisionContainer) {\n                const collisionC = target.getAttribute(ATTR_CC);\n                target.flexCollisionContainer = collisionC ?\n                doc.getElementById(collisionC) || document.documentElement : document.documentElement;\n            }\n\n            dropdownContent.classList.toggle(CLS_OPEN);\n            if (dropdownContent.classList.contains(CLS_OPEN)) {\n                this.currentOpen = dropdownContent;\n                this.currentTarget = target;\n            }\n            FixedWindow.getInstance().open(this, dropdownContent);\n            if (isAbsolute) {\n                // Check collision:\n                let selfTarget = target.getAttribute(ATTR_DATA_TARGET);\n                selfTarget = selfTarget ? doc.getElementById(selfTarget) : target;\n                Util.setupPositionNearby(selfTarget, dropdownContent, target.flexCollisionContainer);\n            } else {\n                // optionally get custom darkener container for target\n                const d = target.getAttribute(ATTR_DARKENER);\n                if (d) {\n                    dropdownContent.flexDarkenerInstance = doc.getElementById(d);\n                    (dropdownContent.flexDarkenerInstance || this.darkener).classList.toggle(DARKENER_INIT);\n                } else {\n                    this.darkener.classList.toggle(DARKENER_INIT);\n                }\n                this.toggleDarkenerToggler(dropdownContent.flexDarkenerInstance || this.darkener, true);\n\n                dropdownContent.style.left = '0';\n                dropdownContent.style.top = 'auto';\n            }\n        });\n    }\n\n}\n\nexport default Dropdown;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/Dropdown.js\n **/","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*!\n * FlexCss.LightBox\n * Licensed under the MIT License (MIT)\n * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>\n */\n\n/* global Image, TouchEvent*/\n\nimport Modal, { EVENT_MODAL_CLOSED } from './Modal';\nimport Settings from './util/Settings';\nimport Widget from './Widget';\n\nconst ATTR_MAX_WIDTH = 'data-original-width';\nconst ATTR_MAX_HEIGHT = 'data-original-height';\nconst ATTR_SRC = 'data-src';\n\nconst CLS_HAS_PREV = 'has-prev';\nconst CLS_HAS_NEXT = 'has-next';\nconst CLS_LOADING = 'loading';\n\nconst ATTR_NO_THUMBNAIL = 'data-no-thumbnail';\nconst ATTR_DATA_HREF = 'data-href';\nconst ATTR_HREF = 'href';\n\nconst KEY_NEXT = 39;\nconst KEY_PREV = 37;\nconst ATTR_CLOSE = 'data-close-modal';\n/**\n * A Simple LightBox\n */\nclass LightBox {\n\n    /**\n     * Creates a new Lightbox\n     * @param DelegateContainer\n     * @param AttributeSelector\n     * @param ModalAppend\n     * @param [options]\n     */\n    constructor(DelegateContainer, AttributeSelector, ModalAppend, options) {\n        const thisDelegateContainer = DelegateContainer instanceof HTMLElement ? DelegateContainer :\n            document.getElementById(DelegateContainer);\n\n        this._modalAppend = ModalAppend || DelegateContainer;\n        /**\n         * @type {Function}\n         */\n        this._resizeEvent = null;\n        /**\n         * @type {Function}\n         */\n        this._keyboardNextEvent = null;\n        /**\n         * @type {Promise}\n         */\n        this._future = null;\n        /**\n         * @type {Promise}\n         */\n        this._nextFuture = this._future;\n        /**\n         * @type {HTMLElement}\n         */\n        this._imageContainer = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this._modalContainerDiv = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this._contentContainer = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this._closerContainerDiv = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this._delegateContainer = thisDelegateContainer;\n        /**\n         * @type {HTMLElement}\n         */\n        this._attributeSelector = AttributeSelector;\n        /**\n         * @type {Widget}\n         */\n        this._widget = null;\n        /**\n         * @type {boolean}\n         */\n        this._isOpen = false;\n        /**\n         * @type {HTMLElement}\n         */\n        this.target = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this.img = null;\n        /**\n         * @type {boolean}\n         */\n        this._isLoading = false;\n\n        /**\n         * Default options\n         */\n        this.options = {\n            // set if prev and next should be available\n            registerPrevNextEvents: true,\n            // set if modal should be closed after last image\n            closeOnLast: true,\n            // called when next image is requested (either by keyboard or click), return false to abort\n            onNext: () => {\n                return true;\n            },\n            onClose: () => {\n            },\n            getNext: null,\n            getPrev: null,\n            // called when underlying target changed\n            onSwitchImage: () => {\n            }\n        };\n\n        Object.assign(this.options, options);\n    }\n\n    /**\n     * @param {HTMLElement} node\n     * @returns {HTMLElement|null}\n     */\n    findImmediateNextTarget(node) {\n        if (node && node.children[0].hasAttribute(this._attributeSelector)) {\n            return node.children[0];\n        }\n        return null;\n    }\n\n    /**\n     * Will fetch the next element of a lightBox\n     * @param {HTMLElement} target\n     * @returns {null|HTMLElement}\n     */\n    getNext(target) {\n        if (this.options.getNext) {\n            return this.options.getNext.apply(this, [target]);\n        }\n        return this.findImmediateNextTarget(target.parentNode.nextElementSibling);\n    }\n\n    /**\n     * Will fetch the previous element of a lightBox\n     * @param {HTMLElement} target\n     * @returns {null|HTMLElement}\n     */\n    getPrev(target) {\n        if (this.options.getPrev) {\n            return this.options.getPrev.apply(this, [target]);\n        }\n        return this.findImmediateNextTarget(target.parentNode.previousElementSibling);\n    }\n\n    /**\n     * Registers events for delegate container\n     */\n    registerEvents(onOpen) {\n        this._delegateContainer.addEventListener(Settings.getTabEvent(), (e) => {\n            let target = e.target;\n            const parent = target.parentNode;\n            let validTarget = target.hasAttribute(this._attributeSelector);\n            const parentIsValid = parent && parent.hasAttribute(this._attributeSelector);\n\n            if (!validTarget && parentIsValid) {\n                validTarget = true;\n                target = parent;\n            }\n            if (validTarget) {\n                e.preventDefault();\n                this.open(target).then((r) => {\n                    if (onOpen) {\n                        onOpen.apply(this, [r, target]);\n                    }\n                });\n            }\n        });\n    }\n\n    /**\n     * @returns {HTMLElement}\n     */\n    getContentContainer() {\n        return this._contentContainer;\n    }\n\n    /**\n     * Setup max-width and max-height\n     * @param {HTMLElement} target\n     * @param {HTMLElement} img\n     * @param {HTMLElement} loadedImage\n     * @private\n     */\n    static _setupMaxWidthHeight(target, img, loadedImage) {\n        const nextMaxWidth = target.getAttribute(ATTR_MAX_WIDTH);\n        const nextMaxHeight = target.getAttribute(ATTR_MAX_HEIGHT);\n        if (nextMaxWidth && nextMaxHeight) {\n            img.style.maxWidth = nextMaxWidth + \"px\";\n            img.style.maxHeight = nextMaxHeight + \"px\";\n        } else {\n            img.style.maxWidth = loadedImage.width + \"px\";\n            img.style.maxHeight = loadedImage.height + \"px\";\n        }\n    }\n\n    /**\n     * Switches to the next image\n     * @param {boolean} direction\n     */\n    switchImageByDirection(direction) {\n        const next = direction ? this.getPrev(this.target) : this.getNext(this.target);\n        if (this.options.onNext.apply(this, [next])) {\n            return this.switchImage(next);\n        }\n        return new Promise((_, reject) => reject(next));\n    }\n\n    /**\n     * Checks if lightbox is currently loading\n     * @returns {boolean}\n     */\n    isLoading() {\n        return this._isLoading;\n    }\n\n    /**\n     * Checks if modal should be closed\n     * @private\n     */\n    _runOptionalClose() {\n        if (this.options.closeOnLast) {\n            this.modal.close();\n        }\n    }\n\n    _setupPrevNextStates() {\n        const target = this.target;\n        const hasPrev = this.getPrev(target);\n        const hasNext = this.getNext(target);\n        const hasPrevClass = CLS_HAS_PREV;\n        const hasNextClass = CLS_HAS_NEXT;\n        // because IE does not support the second toggle parameter, we need to do this manually\n        if (hasPrev) {\n            this._imageContainer.classList.add(hasPrevClass);\n        } else {\n            this._imageContainer.classList.remove(hasPrevClass);\n        }\n        if (hasNext) {\n            this._imageContainer.classList.add(hasNextClass);\n        } else {\n            this._imageContainer.classList.remove(hasNextClass);\n        }\n    }\n\n    /**\n     * @param img\n     * @private\n     */\n    _calculateContainer(img) {\n        if (Settings.isIE()) {\n            setTimeout(() => {\n                this._imageContainer.style.height = img.offsetHeight + 'px';\n            }, 0);\n        }\n    }\n\n    /**\n     * Switch to a specific image\n     * @param next\n     * @returns {*}\n     */\n    switchImage(next) {\n        const self = this;\n        const img = this.img;\n        this._isLoading = true;\n        self._nextFuture = new Promise((resolve, reject) => {\n            // notify observers about image switching\n            self.options.onSwitchImage.apply(self, [self._nextFuture]);\n            if (next) {\n                const nextThumb = next.hasAttribute(ATTR_NO_THUMBNAIL) ? next : (next.children[0] || next);\n                const nextHighRes = next.getAttribute(ATTR_DATA_HREF) ||\n                        next.getAttribute(ATTR_HREF);\n                const nextSource = nextThumb.getAttribute(ATTR_SRC) || nextThumb.src || nextHighRes;\n                const nextImgObject = new Image();\n\n                if (!nextSource) {\n                    reject(next);\n                    return;\n                }\n                // set new target to next element\n                this.target = next;\n                nextImgObject.src = nextSource;\n                self._imageContainer.classList.add(CLS_LOADING);\n                nextImgObject.addEventListener('load', () => {\n                    img.src = nextSource;\n                    self._imageContainer.style.backgroundImage = 'url(' + nextSource + ')';\n                    LightBox._setupMaxWidthHeight(next, img, nextImgObject);\n                    self._calculateContainer(img);\n                    self.highRes(nextThumb, nextHighRes);\n                    self._setupPrevNextStates();\n                    self._imageContainer.classList.remove(CLS_LOADING);\n                    this._isLoading = false;\n                    resolve(nextSource, this.target);\n                });\n            } else {\n                reject(this);\n            }\n        });\n        return self._nextFuture;\n    }\n\n\n    /**\n     * Setup High-Resolution picture\n     * @param {HTMLElement} thisThumbnail\n     * @param {String} thisImgHighResolution\n     */\n    highRes(thisThumbnail, thisImgHighResolution) {\n        if (thisImgHighResolution && thisThumbnail.src !== thisImgHighResolution) {\n            const highImageObj = new Image();\n            highImageObj.src = thisImgHighResolution;\n            highImageObj.addEventListener('load', () => {\n                // if current image is still available\n                if (this._getSrc(thisThumbnail) === this.img.src) {\n                    this.img.src = thisImgHighResolution;\n                    this._imageContainer.style.backgroundImage = 'url(' + thisImgHighResolution + ')';\n                }\n            });\n        }\n    }\n\n    /**\n     * Extracts the source of an image\n     * @param target\n     * @returns {String|null}\n     * @private\n     */\n    _getSrc(target) {\n        return target.getAttribute(ATTR_SRC) || target.src;\n    }\n\n    /**\n     * Will show a lightBox on given target\n     * @param {HTMLElement} target\n     * @returns {$.Deferred|*}\n     */\n    open(target) {\n        const self = this;\n\n        if (!target) {\n            return false;\n        }\n\n        this.target = target;\n\n        // if lightBox is open, we just switch to the new target image\n        if (this._isOpen && target) {\n            return this.switchImage(target).then(() => {\n                return this;\n            });\n        }\n\n        this._isOpen = true;\n\n        /**\n         * Setup Widget for modal\n         * @type {Widget}\n         */\n        this._widget = new Widget().setAsync(() => {\n            // thumbnail is either target itself or expected to be first childNode\n            const thumbnail = target.hasAttribute(ATTR_NO_THUMBNAIL) ? target : (target.children[0] || target);\n\n            const imgHighResolution = target.getAttribute(ATTR_DATA_HREF) || target.getAttribute(ATTR_HREF);\n            const imgSrc = this._getSrc(thumbnail) || imgHighResolution;\n\n            const imageObj = new Image();\n            imageObj.src = imgSrc;\n            this._imageContainer = document.createElement('div');\n            this._modalContainerDiv = document.createElement('div');\n            this._closerContainerDiv = document.createElement('i');\n            this._contentContainer = document.createElement('div');\n\n            this._closerContainerDiv.className = 'modal-close modal-close-lightbox icon-cancel-1';\n            this._closerContainerDiv.setAttribute(ATTR_CLOSE, ATTR_CLOSE);\n\n            this._modalContainerDiv.className = 'modal image-modal';\n            this._modalContainerDiv.appendChild(this._imageContainer);\n            this._modalContainerDiv.appendChild(this._contentContainer);\n            this._modalContainerDiv.appendChild(this._closerContainerDiv);\n            this._contentContainer.className = 'content-container';\n            this._isLoading = true;\n            this._future = new Promise((resolve) => {\n                imageObj.addEventListener('load', () => {\n                    this._imageContainer.className = 'image-container';\n                    const img = document.createElement('img');\n                    // current image\n                    this.img = img;\n\n                    img.src = imgSrc;\n                    LightBox._setupMaxWidthHeight(target, img, imageObj);\n                    this._imageContainer.appendChild(img);\n                    this._imageContainer.style.backgroundImage = 'url(' + imgSrc + ')';\n\n                    resolve(self._modalContainerDiv);\n                    this._isLoading = false;\n\n                    if (Settings.isIE()) {\n                        self._resizeEvent = global.addEventListener('resize', () => {\n                            setTimeout(() => {\n                                self._imageContainer.style.height = img.offsetHeight + 'px';\n                            }, 0);\n                        });\n                    }\n\n                    if (self.options.registerPrevNextEvents) {\n                        self._setupPrevNextStates();\n                        // prev or next on touch/click\n                        self._imageContainer.addEventListener(Settings.getTabEvent(), (e) => {\n                            if (self.isLoading()) {\n                                return;\n                            }\n                            e.preventDefault();\n\n                            const ev = e;\n                            const pageX = global.TouchEvent && ev instanceof TouchEvent ?\n                                ev.changedTouches[0].pageX : ev.pageX;\n                            const rect = self._imageContainer.getBoundingClientRect();\n                            const imgX = rect.left;\n                            const wrapperWidth = rect.width;\n                            const posX = pageX - imgX;\n\n                            self.switchImageByDirection(wrapperWidth / 2 > posX).catch(() => {\n                                self._runOptionalClose();\n                            });\n                        });\n\n                        // register keyboard events\n                        self._keyboardNextEvent = (e) => {\n                            if (e.keyCode === KEY_NEXT || e.keyCode === KEY_PREV) {\n                                if (self.isLoading()) {\n                                    return;\n                                }\n                                self.switchImageByDirection(e.keyCode === KEY_PREV).catch(() => {\n                                    self._runOptionalClose();\n                                });\n                            }\n                        };\n                        global.addEventListener('keydown', self._keyboardNextEvent);\n                    } else {\n                        self._imageContainer.addEventListener(Settings.getTabEvent(), () => {\n                            self._runOptionalClose();\n                        });\n                    }\n\n                    self.highRes(thumbnail, imgHighResolution);\n                });\n            });\n\n            this._future.then(() => {\n                self._calculateContainer(this.img);\n            });\n\n            self._modalContainerDiv.addEventListener(EVENT_MODAL_CLOSED, () => {\n                // cleanup:\n                this._modalContainerDiv.parentNode.removeChild(this._modalContainerDiv);\n                this.options.onClose.apply(self);\n                this._isOpen = false;\n                this.modal.destroy();\n                // unbind events\n                if (this._keyboardNextEvent) {\n                    global.removeEventListener('keydown', self._keyboardNextEvent);\n                }\n                if (this._resizeEvent) {\n                    global.removeEventListener('resize', self._resizeEvent);\n                }\n            });\n\n            return this._future;\n        });\n\n        this._nextFuture = this._future;\n\n        if (self._widget) {\n            this.modal = new Modal(this._modalAppend);\n            // make sure we close stack before\n            return this.modal.close().fromWidget(self._widget).then(() => {\n                return self._future.then(() => {\n                    return self;\n                });\n            });\n        }\n        return false;\n    }\n\n}\n\nexport default LightBox;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/LightBox.js\n **/"],"sourceRoot":""}