!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FlexCss=t():e.FlexCss=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="../",t(0)}([function(e,t,n){e.exports=n(17)},function(e,t){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=["webkit","moz","MS","o",""],o="is-collision-left",a="is-collision-right",s="is-collision-bottom",l=function(){function t(){n(this,t)}return i(t,null,[{key:"prefixedAnimateEvent",value:function(e,t,n){for(var i=function l(t){n.apply(e,[t,l])},o=0;o<r.length;o++){var a=t;r[o]||(a=t.toLowerCase());var s=r[o]+a;e.addEventListener(s,i,!0)}}},{key:"whichTransitionEndEvent",value:function(){var e=void 0,t=document.createElement("fake"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}},{key:"isPartOfNode",value:function(e,t){if(!e||!t)return!1;for(var n=e;n!==t&&null!==n&&n!==t;)n=n.parentNode;return null!==n}},{key:"closestCallback",value:function(e,t){for(var n=e;null!==n;){if(t(n))return n;n=n.parentNode}return!1}},{key:"parentsUntil",value:function(e,t){if(!e)return!1;for(var n=e;!t(n)&&null!==n;)n=n.parentNode;return n}},{key:"guid",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+(e()+e()+e())}},{key:"getScrollBarWidth",value:function(){var t=e.document,n=t.createElement("p");n.style.width="100%",n.style.height="200px";var i=t.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.visibility="hidden",i.style.width="200px",i.style.height="150px",i.style.overflow="hidden",i.appendChild(n),t.body.appendChild(i);var r=n.offsetWidth;i.style.overflow="scroll";var o=n.offsetWidth;return r===o&&(o=i.clientWidth),t.body.removeChild(i),r-o}},{key:"addEventOnce",value:function(e,t,n,i){var r=function o(r){n(r,n),t.removeEventListener(e,o,i)};return t.addEventListener(e,r,i),r}},{key:"isVisible",value:function(e){return e.offsetWidth>0&&e.offsetHeight>0}},{key:"dashToCamelCase",value:function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}},{key:"copy",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"applyOptionsFromElement",value:function(e,n){if(!e)return n;for(var i=e.attributes,r=0;r<i.length;r++){var o=i[r];if(o){var a=t.dashToCamelCase(o.nodeName.replace("data-","")),s=o.nodeValue;if(n.hasOwnProperty(a)){if("function"==typeof n[a])continue;"boolean"==typeof n[a]?n[a]=1===parseInt(s||1,10):n[a]=s}}}return n}},{key:"setupPositionNearby",value:function(e,n,i,r,l){var u=0,d=0;t.parentsUntil(e.parentNode,function(e){if(!(e instanceof HTMLElement))return!1;var i=window.getComputedStyle(e);return t.isPartOfNode(n,e)?(i&&"relative"===i.position&&(u+=e.offsetTop||0,d+=e.offsetLeft||0),!1):!0});var c=e instanceof HTMLElement?e.getBoundingClientRect():e,f=n.getBoundingClientRect(),h=i.getBoundingClientRect(),v=c.top-u,p=c.right,m=v-f.height<=0,g=window.innerHeight<v+u+c.height+f.height,y=p<f.width,E=c.left,_=E+f.width>h.width,b=n.classList;b.remove(a),b.remove(o),b.remove(s);var C=void 0,T=void 0;if(y&&!_)T=c.left-h.left-d+"px",b.add(o);else{var w=p-f.width-h.left-d+"px",O=(E+c.width/2-f.width/2||0)-h.left,L=O+f.width>h.width;r&&!L?T=O+"px":(b.add(a),T=w)}return g||l&&!m?(C=v-f.height-h.top+"px",b.add(s)):C=v+c.height-h.top+"px",n.style.cssText="top:"+C+";left:"+T+";",n}},{key:"scrollToElement",value:function(e,t){e.scrollIntoView();var n=t;if(n&&("function"==typeof n&&(n=t()),n>0)){var i=window.pageYOffset;i&&window.scroll(0,i-n)}}}]),t}();t["default"]=l}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a);e.FLEXCSS_GLOBAL_SETTINGS||!function(){e.FLEXCSS_GLOBAL_SETTINGS={smallBreakpoint:768,scrollbarUpdateNodes:null!==e.document.body?[e.document.body]:[],darkenerFadeDelay:100,canvasToggledClass:"toggled-canvas"},e.FLEXCSS_CONST_IS_IOS=null,e.FLEXCSS_CONST_IS_TOUCH=null,e.FLEXCSS_CONST_IS_IE=null,e.FLEXCSS_CONST_TAB_EVENT="click",e.FLEXCSS_IS_SMALL_SCREEN=!1;var t=function(){e.FLEXCSS_CONST_SCROLLBAR_WIDTH=s["default"].getScrollBarWidth(),e.FLEXCSS_CONST_TRANSITION_EVENT=s["default"].whichTransitionEndEvent()};"loading"!==e.document.readyState?t():document.addEventListener("DOMContentLoaded",function(){t()})}();var l=function(){function t(){r(this,t)}return o(t,null,[{key:"setup",value:function(t){Object.assign(e.FLEXCSS_GLOBAL_SETTINGS,t)}},{key:"get",value:function(){return e.FLEXCSS_GLOBAL_SETTINGS}},{key:"isIosDevice",value:function(){return e.FLEXCSS_CONST_IS_IOS||(e.FLEXCSS_CONST_IS_IOS=e.navigator.userAgent.match(/(iPad|iPhone|iPod)/i)),e.FLEXCSS_CONST_IS_IOS}},{key:"isSmallScreen",value:function(){return window.innerWidth<t.get().smallBreakpoint}},{key:"isTouchDevice",value:function(){return e.FLEXCSS_CONST_IS_TOUCH||(e.FLEXCSS_CONST_IS_TOUCH="ontouchstart"in window||!!e.navigator.msMaxTouchPoints),e.FLEXCSS_CONST_IS_TOUCH}},{key:"isIE",value:function(){return e.FLEXCSS_CONST_IS_IE||(e.FLEXCSS_CONST_IS_IE="ActiveXObject"in window),e.FLEXCSS_CONST_IS_IE}},{key:"getTransitionEvent",value:function(){return e.FLEXCSS_CONST_TRANSITION_EVENT}},{key:"getScrollbarWidth",value:function(){return e.FLEXCSS_CONST_SCROLLBAR_WIDTH}},{key:"getTabEvent",value:function(){return e.FLEXCSS_CONST_TAB_EVENT}}]),t}();t["default"]=l}).call(t,function(){return this}())},function(e,t){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){if(!e.CustomEvent||"function"!=typeof e.CustomEvent){var t=function(e,t){var n=t||{bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i};t.prototype=e.Event.prototype,e.CustomEvent=t}}();var r=function(){function e(t,i){n(this,e),this.target=t,this.defaultOptions={bubbles:!0,cancelable:!0},this.name=i}return i(e,[{key:"withOptions",value:function(e){return Object.assign(this.defaultOptions,e||{}),this}},{key:"withOriginal",value:function(e){return this.withDetail({originalEvent:e})}},{key:"withDetail",value:function(e){return this.defaultOptions.detail||(this.defaultOptions.detail={}),Object.assign(this.defaultOptions.detail,e),this}},{key:"fire",value:function(){var e=new CustomEvent(this.name,this.defaultOptions);return this.target&&this.target.dispatchEvent(e),e}}]),e}(),o=function(){function e(){n(this,e)}return i(e,null,[{key:"dispatch",value:function(e,t){return new r(e,t)}},{key:"dispatchAndFire",value:function(e,t,n){return new r(e,t).withOptions(n).fire()}}]),e}();t["default"]=o}).call(t,function(){return this}())},function(e,t){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function t(i){var r=this;if(n(this,t),this.asyncContent=null,this._isWidget=!0,i){if(this.element=i instanceof HTMLElement?i:e.document.getElementById(i),!this.element)throw new Error("Could not found element with ID: "+i);this.element.hfWidgetInstance=this,this.setAsync(function(){return new Promise(function(e){e(r.element)})})}this.finalContent=null}return r(t,[{key:"getAsync",value:function(){return this.asyncContent()}},{key:"setAsync",value:function(e){return this.asyncContent=e,this}},{key:"getFinalContent",value:function(){return this.finalContent}},{key:"setElement",value:function(e){return this.element=e,this}},{key:"destroy",value:function(){return this.finalContent&&this.finalContent.parentNode?(this.finalContent.parentNode.removeChild(this.finalContent),!0):(delete this.element,delete this.asyncContent,delete this.finalContent,!1)}}],[{key:"findWidget",value:function(e){return e?e.hfWidgetInstance:void 0}},{key:"isWidget",value:function(e){return e instanceof t||"object"===("undefined"==typeof e?"undefined":i(e))&&e.hasOwnProperty("_isWidget")}}]),t}();t["default"]=o}).call(t,function(){return this}())},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){n(this,e),this.listeners=[]}return i(e,[{key:"destroy",value:function(){this.listeners.forEach(function(e){e.element.removeEventListener.apply(e.element,e.args)}),this.listeners=[]}},{key:"addEventListener",value:function(e,t,n,i){return this.listeners.push({element:e,args:[t,n,i]}),e.addEventListener(t,n,i),n}}]),e}();t["default"]=r},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function b(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:b(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(1),d=i(u),c=n(5),f=i(c),h=n(2),v=i(h),p="tooltip-container",m="open",g="data-class",y="data-no-touch",E=e.document,_=function(e){function t(e,n){r(this,t);var i=o(this,Object.getPrototypeOf(t).call(this));if(i.container=e instanceof HTMLElement?e:E.getElementById(e),!i.container)throw new Error("Could not create Tooltip, DelegateContainer not found");return i.tooltipContainer=null,i.options={containerClass:"",selectorAttribute:"data-tooltip",collisionContainer:i.container},Object.assign(i.options,n||{}),i}return a(t,e),s(t,[{key:"createTooltip",value:function(e,t,n,i){if(t&&(!t||""!==t.trim())&&!(v["default"].isTouchDevice()&&e&&e.hasAttribute(y))){var r=this.tooltipContainer;r||(r=E.createElement("div"),this.container.appendChild(r),this.tooltipContainer=r),this._restoreClassNames(r,e),r.style.left="auto",r.style.top="auto",r.innerHTML=t,r.flexTooltipCurrentTarget=e,n&&(e.oldTitle=t,e.removeAttribute("title")),d["default"].setupPositionNearby(i||e,r,this.options.collisionContainer,!0,!0),r.classList.add(m)}}},{key:"_restoreClassNames",value:function(e,t){var n=[p,this.options.containerClass],i=t.getAttribute(g);return i&&n.push(i),e.className=n.join(" "),this}},{key:"getCurrentTarget",value:function(){return this.tooltipContainer?this.tooltipContainer.flexTooltipCurrentTarget:null}},{key:"destroy",value:function(){return l(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.tooltipContainer?(this.tooltipContainer.parentNode.removeChild(this.tooltipContainer),!0):!1}},{key:"removeTooltip",value:function(e){var t=e;if(!t&&this.tooltipContainer&&(t=this.tooltipContainer.flexTooltipCurrentTarget),this.tooltipContainer){if(this.tooltipContainer.flexTooltipCurrentTarget!==t)return;this.tooltipContainer.classList.remove(m),delete this.tooltipContainer.flexTooltipCurrentTarget}t&&t.oldTitle&&t.setAttribute("title",t.oldTitle)}},{key:"registerEvents",value:function(){var e=this;return this.addEventListener(this.container,"mouseover",function(t){t.target.hasAttribute(e.options.selectorAttribute)&&e.createTooltip(t.target,t.target.getAttribute("title"),!0)}),this.addEventListener(this.container,"mouseout",function(t){t.target.hasAttribute(e.options.selectorAttribute)&&e.removeTooltip(t.target)}),this}}]),t}(f["default"]);t["default"]=_}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ALLOW_ELEMENT_OVERFLOW_TOUCH=t.EVENT_AFTER_FIXED_REMOVE=t.EVENT_BEFORE_FIXED_ADD=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(2),u=i(l),d=n(10),c=i(d),f=n(3),h=i(f),v=n(1),p=i(v),m="fixed-window-open",g=t.EVENT_BEFORE_FIXED_ADD="flexcss.fixedWindow.beforeAdd",y=t.EVENT_AFTER_FIXED_REMOVE="flexcss.fixedWindow.afterRemove",E=t.ALLOW_ELEMENT_OVERFLOW_TOUCH="data-overflow",_=void 0,b=function(){function t(){r(this,t),this.widgets=[],this.currentScrollTop=0,this.fixedScreenConstraints=[],this.windowWidth=0,this.isFixedWindowActive=!1,this.touchListener=null}return s(t,[{key:"addScreenConstraint",value:function(e,t){this.fixedScreenConstraints[e]=t}},{key:"getCurrentWidget",value:function(){return this.widgets.length>0?this.widgets[this.widgets.length-1]:null}},{key:"_checkFixedNeeded",value:function(){var e=this;if(0!==this.widgets.length){var t=new Set(this.widgets),n=Array.from(t).some(function(t){var n=t.widget;return e.fixedScreenConstraints[n]&&e.fixedScreenConstraints[n](e.windowWidth)});n?this._addFixedContainer():this._removeFixedContainer()}}},{key:"_addFixedContainer",value:function(){var t=this;if(!this.isFixedWindowActive){h["default"].dispatchAndFire(e.document,g,{detail:this.getCurrentWidget()}),u["default"].get().scrollbarUpdateNodes.map(function(t){var n="paddingRight",i=1,r=t;if(t instanceof Array){var o=a(t,3),s=o[0],l=o[1],d=o[2];n=l,r=s,i=d||1}return{node:r,property:n,value:parseInt(e.getComputedStyle(r)[n],10)+(r.__fixedWindowMod__?0:u["default"].getScrollbarWidth()*i)+"px"}}).forEach(function(e){e.node.__fixedWindowMod__=!0,e.node.style[e.property]=e.value}),this.touchListener=function(e){e.preventDefault()};var n=!1,i=!1,r=!1,o=0;this.touchStartListener=function(e){var a=t.getCurrentWidget(),s=a.element,l=p["default"].closestCallback(e.target,function(e){return e instanceof HTMLTextAreaElement||e.hasAttribute&&e.hasAttribute(E)});if(l&&l.scrollHeight!==l.offsetHeight&&(s=l),p["default"].isPartOfNode(e.target,s)){if(r=s.scrollHeight===s.offsetHeight,o=e.touches[0].clientY,r)return!1;0===s.scrollTop?(s.scrollTop=1,n=!0):s.scrollHeight===s.scrollTop+s.offsetHeight&&(i=!0,s.scrollTop-=1)}},e.addEventListener("touchmove",this.touchListener),e.document.body.addEventListener("touchstart",this.touchStartListener),this.touchMoveListener=function(e){var a=t.getCurrentWidget(),s=a.element;if(p["default"].isPartOfNode(e.target,s)){var l=e.touches[0].clientY,u=o-l>0;if(o=l,r)return r=!1,!1;!i&&u&&e.stopImmediatePropagation(),i&&!u&&e.stopImmediatePropagation(),i||n||u||e.stopImmediatePropagation(),n=!1,i=!1}},e.document.body.addEventListener("touchmove",this.touchMoveListener),e.document.documentElement.classList.add(m),this.isFixedWindowActive=!0}}},{key:"_removeFixedContainer",value:function(){this.isFixedWindowActive&&(e.removeEventListener("touchmove",this.touchListener),e.document.body.removeEventListener("touchstart",this.touchStartListener),e.document.body.removeEventListener("touchmove",this.touchMoveListener),u["default"].get().scrollbarUpdateNodes.forEach(function(e){if(e instanceof Array){var t=a(e,2),n=t[0],i=t[1];delete n.__fixedWindowMod__,n.style[i]=""}else delete e.__fixedWindowMod__,e.style.paddingRight=""}),e.document.documentElement.classList.remove(m),h["default"].dispatchAndFire(e.document,y),this.isFixedWindowActive=!1)}},{key:"resizeListener",value:function(){this.windowWidth=e.innerWidth,this._checkFixedNeeded()}},{key:"close",value:function(){this.widgets.pop(),0===this.widgets.length&&this._removeFixedContainer()}},{key:"open",value:function(e,t){var n=!1;if("object"===("undefined"==typeof e?"undefined":o(e))){var i=e.constructor,r=this.fixedScreenConstraints[e.constructor];i&&r&&(n=r(this.windowWidth));var a=this.widgets.length;this.widgets.push({widget:i,element:t}),0===a&&n&&this._addFixedContainer()}}}],[{key:"getInstance",value:function(){if(!_){_=new t,_.windowWidth=e.innerWidth;var n=_.resizeListener.bind(_);e.addEventListener("resize",(0,c["default"])(n,500)),e.addEventListener("orientationchange",n)}return _}}]),t}();t["default"]=b}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_MODAL_ASYNC_TARGET_LOADED=t.EVENT_MODAL_INIT=t.EVENT_MODAL_OPENED=t.EVENT_MODAL_BEFORE_CLOSED=t.EVENT_MODAL_CLOSED=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),l=i(s),u=n(3),d=i(u),c=n(1),f=i(c),h=n(4),v=i(h),p=n(7),m=i(p),g=27,y="data-new-instance",E="data-close-modal",_="data-modal",b="front",C="open",T="current",w="part-of-stack",O="modal-container",L="modal-anim-end",k="loader-container",S="loader",A="backdrop",F=t.EVENT_MODAL_CLOSED="flexcss.modal.closed",x=t.EVENT_MODAL_BEFORE_CLOSED="flexcss.modal.beforeClose",I=t.EVENT_MODAL_OPENED="flexcss.modal.opened",N=t.EVENT_MODAL_INIT="flexcss.modal.init",D=t.EVENT_MODAL_ASYNC_TARGET_LOADED="flexcss.modal.asyncTargetLoaded",M=function(){function t(n,i){r(this,t);var o=e.document,a=n instanceof HTMLElement?n:o.getElementById(n);if(!a)throw new Error("Could not found container element by given ID/Element: "+n);this.currentOpen=null,this.loading=!1,this.container=a,this.options={classNames:"modal",closeOnEscape:!0,closeOnBackgroundClick:!0,destroyOnFinish:!1,fixedContainer:!0,containerClassNames:""},Object.assign(this.options,i),this.eventContainer=null,this.eventFunction=null,this.dataMainPageContainer=e.document.body,this.currentScrollTop=0,this.modalContainer=null,this.destroyOnFinish=this.options.destroyOnFinish}return a(t,[{key:"_removeModalFromStack",value:function(e){var n=t._modalInstances.indexOf(e);n>-1&&(t._modalInstances.splice(n,1),m["default"].getInstance().close())}},{key:"getModalContainer",value:function(){return this.modalContainer}},{key:"close",value:function(e){var n=this,i=n.currentOpen?f["default"].applyOptionsFromElement(n.currentOpen,f["default"].copy(n.options)):n.options;if(!i.closeOnEscape&&e instanceof KeyboardEvent)return!1;if(!i.closeOnBackgroundClick&&e&&e.type===l["default"].getTabEvent()&&!e.target.hasAttribute(E))return!1;if(n.loading)return!1;if(e&&e.preventDefault(),n.currentOpen){var r=d["default"].dispatchAndFire(n.currentOpen,x);if(r.defaultPrevented)return!1;if(this._finishState(n.currentOpen),n.currentOpen.prevModal)return n.switchModals(n.currentOpen.prevModal,n.currentOpen.prevModal.prevModal||null);d["default"].dispatch(n.currentOpen,F).withOriginal(e).fire()}if(n._removeModalFromStack(n.currentOpen),n.currentOpen=null,n.modalContainer){var o=t._modalInstances[t._modalInstances.length-1],a=n.modalContainer.classList;a.remove(b),a.remove(A),a.remove(C);for(var s=0;s<n.modalContainer.childNodes.length;s++){var u=n.modalContainer.childNodes[s],c=u.classList;n._finishState(u),c.remove(T),c.remove(w)}o&&o.parentNode.classList.add(b)}return n.destroyOnFinish&&n.destroy(),n}},{key:"_finishState",value:function(e){e.classList.remove(L)}},{key:"_finishAnim",value:function(e,t){e.target.classList.add(L),e.target.removeEventListener(e.type,t,!0)}},{key:"switchModals",value:function(e,n){e.prevModal=n,t._modalInstances.push(e),m["default"].getInstance().open(this,this.modalContainer),n&&(this._finishState(n),f["default"].prefixedAnimateEvent(n,"AnimationEnd",this._finishAnim),n.classList.add(w)),this.currentOpen=e;for(var i=t._modalInstances,r=0;r<i.length;r++)i[r].parentNode.classList.remove(b);this.modalContainer.classList.add(b),f["default"].prefixedAnimateEvent(e,"AnimationEnd",this._finishAnim);for(var o=0;o<this.modalContainer.childNodes.length;o++){var a=this.modalContainer.childNodes[o],s=a.classList.contains(T);a===e?(e.classList.add(T),e.classList.remove(w),this._finishState(e)):(a.classList.remove(T),s&&(this._removeModalFromStack(a),d["default"].dispatchAndFire(a,F)))}}},{key:"createWidget",value:function(n){var i=this,r=this;if(this.loading)return!1;if(n&&n.target){var a=f["default"].parentsUntil(n.target,function(e){return e&&e.flexModalInstance});if(a!==this.container)return!1}var s=void 0,u=void 0,c=void 0,h=void 0,p=!0,m=n instanceof HTMLElement,g=v["default"].isWidget(n);if(m||g)m?s=n:(c=n,s=c.element);else{if(h=n.target,!h)throw new Error("Could not find target, did you pass an event, a HTMLElement or an Widget?");if(p=h.hasAttribute(_),s=h.getAttribute(_),c=v["default"].findWidget(h),h.hasAttribute(y)&&!n.newInstance){var T=function(){var e=new t(i.container).setDestroyOnFinish(!0);return n.newInstance=!0,e.fromEvent(n).then(function(){e.registerEvents(e.getModalContainer())}),{v:!1}}();if("object"===("undefined"==typeof T?"undefined":o(T)))return T.v}p&&(n.stopImmediatePropagation(),n.preventDefault())}if(!p)return!1;var w=this.modalContainer?this.modalContainer.classList:[];if(this.modalContainer)w.add(C);else{this.modalContainer=e.document.createElement("div"),this.modalContainer.className=O+" "+this.options.containerClassNames+" "+C;var L=function(e){return i.loading?!1:f["default"].isPartOfNode(e.target,i.currentOpen)&&!e.target.hasAttribute(E)?!1:void i.close(e)};this.modalContainer.addEventListener(l["default"].getTabEvent(),L,!1),w=this.modalContainer.classList,this.container.appendChild(this.modalContainer)}var F=void 0,x=e.document,I=function(e){if(e){F=x.createElement("div"),F.className=k;var t=x.createElement("div");t.className=S,F.appendChild(t),i.modalContainer.appendChild(F)}else F.parentNode.removeChild(F)};w.add("loading"),w.add(b),requestAnimationFrame(function(){requestAnimationFrame(function(){w.add(A)})}),this.loading=!0,I(!0);var M=c?c.getAsync():null;return v["default"].isWidget(c)&&M?u=M.then(function(e){var t=void 0;if(e instanceof HTMLElement||e instanceof DocumentFragment)t=e;else{var n=x.createElement("div");n.className=r.options.classNames,n.innerHTML=e,n.id=f["default"].guid(),t=n}return c.finalContent=t,d["default"].dispatchAndFire(h,D),t}):!function(){var e=s instanceof HTMLElement||s instanceof DocumentFragment?s:x.getElementById(s);if(!e)throw new Error("Could not found given modal element (content) with ID: "+s);u=new Promise(function(t){t(e)})}(),d["default"].dispatchAndFire(h,N),u.then(function(e){return e.hfWidgetInstance=i,i.modalContainer.appendChild(e),w.remove("loading"),i.loading=!1,I(!1),i.open(e,!0,n),e})}},{key:"open",value:function(e,t,n){t||this.modalContainer.classList.add("open"),this.switchModals(e,this.currentOpen),d["default"].dispatch(e,I).withOriginal(n).fire()}},{key:"registerEvents",value:function(e){var n=this,i=e||this.container;return m["default"].getInstance().addScreenConstraint(t,function(){return!0}),i.flexModalInstance=this,this.eventFunction=function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];n.createWidget.apply(n,t)},i.addEventListener(l["default"].getTabEvent(),this.eventFunction,!1),this.eventContainer=i,this}},{key:"fromWidget",value:function(e){return this.createWidget(e)}},{key:"fromEvent",value:function(e){return this.createWidget(e)}},{key:"setDestroyOnFinish",value:function(e){return this.destroyOnFinish=e,this}},{key:"destroy",value:function(){var t=this.modalContainer,n=0===t.childNodes.length;this.eventContainer&&this.eventContainer.removeEventListener(l["default"].getTabEvent(),this.eventFunction,!0),n&&t.parentNode&&t.parentNode.removeChild(t),e.MutationObserver?!function(){var e=new MutationObserver(function(n){n.forEach(function(){0===t.childNodes.length&&(t.parentNode.removeChild(t),e.disconnect())})});e.observe(t,{childList:!0})}():t.addEventListener("DOMNodeRemoved",function(e){e.target!==t&&t.childNodes.length-1===0&&t.parentNode.removeChild(t)})}}]),t}();M._modalInstances=[],e.addEventListener("keydown",function(e){if(e.keyCode===g){var t=M._modalInstances[M._modalInstances.length-1];t&&v["default"].findWidget(t).close(e)}}),t["default"]=M}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_FORM_AJAX_COMPLETED=t.EVENT_FORM_AFTER_AJAX_SUBMIT=t.EVENT_FORM_SUBMIT=t.EVENT_FORM_READY=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function R(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:R(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(6),d=i(u);n(11);var c=n(3),f=i(c),h=n(1),v=i(h),p=n(2),m=i(p),g=n(5),y=i(g),E="loading",_="data-flexcss-invalid",b="data-remote",C="data-remote-action",T="data-disable-inline-validation",w="data-disable-realtime-validation",O="data-validate",L="data-validation-message",k="data-custom-label",S="data-validate-visibility",A="data-error-target",F="data-depends-selector",x="json",I="input",N=20,D=150,M=t.EVENT_FORM_READY="flexcss.form.ready",P=t.EVENT_FORM_SUBMIT="flexcss.form.submit",V=t.EVENT_FORM_AFTER_AJAX_SUBMIT="flexcss.form.afterAjaxSubmit",j=t.EVENT_FORM_AJAX_COMPLETED="flexcss.form.ajaxCompleted",B=function(t){function n(e,t){r(this,n);var i=o(this,Object.getPrototypeOf(n).call(this));if(!(e instanceof HTMLFormElement))throw"argument {0} form needs to be an form element";return i.form=e,i.tooltips=null,i.currentValidationFuture=new Promise(function(){}),i.options={createTooltips:!0,appendError:!1,ajaxSubmitType:"POST",ajaxJsonContentType:"application/json; charset=utf-8",inlineValidation:!0,realtime:!0,realtimeTimeout:250,formatErrorTooltip:function(e){return'<i class="icon-attention"></i> '+e},inputErrorClass:"invalid",containerErrorClass:"form-error",fetchOptions:{credentials:"include"},tooltipContainer:e,tooltipOptions:{containerClass:"error-tooltip"},scrollToElementDiff:0},Object.assign(i.options,t),v["default"].applyOptionsFromElement(e,i.options),e.hfWidgetInstance=i,i._validators=n.globalValidators,i._remoteValidationFunction=null,i.initFormValidation(),i}return a(n,t),s(n,[{key:"destroy",value:function(){l(Object.getPrototypeOf(n.prototype),"destroy",this).call(this),this.tooltips&&this.tooltips.destroy()}},{key:"_submitFunction",value:function(e,t){var i=e.getAttribute(b),r=e.getAttribute(C)||e.getAttribute("action")||window.location.href,o=x===i,a=this,s=f["default"].dispatch(e,P).withOriginal(t).fire();if(s.defaultPrevented)return a._formStopLoading(),!1;if(null===i)return e.submit();t.preventDefault();var l={"X-Requested-With":"XMLHttpRequest"};o&&Object.assign(l,{"Content-Type":this.options.ajaxJsonContentType});var u=Object.assign(this.options.fetchOptions,{headers:l,method:this.options.ajaxSubmitType}),d=o?fetch(r,Object.assign(u,{body:JSON.stringify(this.serialize())})):fetch(r,Object.assign(u,{body:new FormData(e)}));return f["default"].dispatch(e,V).withOriginal(t).fire(),d.then(function(i){(a._remoteValidationFunction||n.globalRemoteValidationFunction).apply(a,[i]),f["default"].dispatch(e,j).withOriginal(t).withDetail({response:i}).fire(),a._formStopLoading()})}},{key:"serialize",value:function(){var e=['input[name]:not([type="radio"]):enabled','input[type="radio"][name]:checked',"select[name]:enabled","textarea[name]:enabled"],t=this.form.querySelectorAll(e.join(",")),n={};return Array.prototype.forEach.call(t,function(e){var t=n[e.name],i=e.value;t instanceof Array?t.push(i):t?n[e.name]=[n[e.name],i]:n[e.name]=i}),n}},{key:"handleValidation",value:function(e,t){var n=this,i=e instanceof Array||e instanceof NodeList?e:[e];return this._handleValidation(i,t,!0).then(function(e){return e.foundAnyError||n.tooltips&&n.tooltips.removeTooltip(),e}.bind(this))}},{key:"_handleValidation",value:function(e,t,i){var r=this,o=n._createArrayFromInvalidFieldList(e),a=o.length>0;
a&&t&&r._focusElement(o[0]);var s=i?this._customValidationsForElements(e):r.validateCustomFields();return s.then(function(n){a&&(n.foundAnyError=!0);var s=i?e:Array.from(o).concat(n.checkedFields);n.checkedFields=s;var l=r.prepareErrors(s,!1),u=l[0];return u&&(t?(r._focusElement(u),document.activeElement!==u&&r._handleTooltipHideClickAfterChange()):r._handleTooltipHideClickAfterChange(),r.showAndOrCreateTooltip(u)),n})}},{key:"_setupErrorMessages",value:function(e,t){return n.globalErrorMessageHandler?n.globalErrorMessageHandler.apply(this,[e,t]):!1}},{key:"_handleLabels",value:function(e){Object.keys(e).forEach(function(t){var n=this.getForm().querySelectorAll('[for="'+t+'"]'),i=e[t];if(n.length)for(var r=0;r<n.length;r++){var o=n[r];i?this._markElementInvalid(o):this._markElementValid(o)}}.bind(this))}},{key:"_markElementInvalid",value:function(e){e.setAttribute(_,"true"),e.classList.add(this.options.inputErrorClass)}},{key:"_markElementValid",value:function(e){e.removeAttribute(_),e.classList.remove(this.options.inputErrorClass)}},{key:"_getInvalidElements",value:function(){return Array.prototype.filter.call(this.getForm().querySelectorAll(":invalid"),function(e){return!(e instanceof HTMLFieldSetElement)})}},{key:"_removeElementErrors",value:function(e){for(var t=e.querySelectorAll("."+this.options.containerErrorClass),n=e.querySelectorAll("["+_+"]"),i=0;i<t.length;i++)t[i].parentNode.removeChild(t[i]);for(var r=0;r<n.length;r++){var o=n[r];this._markElementValid(o)}}},{key:"registerValidator",value:function(e,t){return this._validators[e]=t,this}},{key:"_runValidation",value:function(e,t){if(!this._validators[e])throw"Could not found validator: "+e;var n=t.classList,i=this._validators[e].apply(this,[t,this.form]);return n.add(E),i.then(function(){n.remove(E)}),i}},{key:"_customValidationsForElements",value:function(e){for(var t=[],i=e.length,r=[],o=0;i>o;o++){var a=e[o],s=a.getAttribute(O),l=a.validity;if(this._validators[s]){if(n._shouldNotValidateField(a)||l&&!l.customError&&!l.valid)continue;r.push(a),t.push(this._runValidation(s,a))}else s&&console.warn("data-validate was set but no validator was found")}return Promise.all(t).then(function(e){for(var t=e.length,n={checkedFields:r,foundAnyError:!1},i=0;t>i;i++)if(!e[i]){n.foundAnyError=!0;break}return n})}},{key:"removeErrors",value:function(){return this._removeElementErrors(this.form),this.tooltips&&this.tooltips.removeTooltip(),this}},{key:"prepareErrors",value:function(e,t){function i(e,t,n){var i=n.getAttribute(k)||n.id,r=t[i];i&&(r=r?r:e,t[i]=r)}t&&this.removeErrors();for(var r={},o=[],a=0;a<e.length;a++){var s=e[a],l=n._findErrorTarget(s),u=l.parentNode,d=s.validity,c=d&&!d.valid;if(!n._shouldNotValidateField(s)){if(s.flexFormsSavedValidity=JSON.parse(JSON.stringify(d)),i(c,r,s),c){t||this._removeElementErrors(u),this._setupErrorMessages(s,d);var f=s.validationMessage;this._markElementInvalid(l),this._markElementInvalid(s),this.options.appendError&&u.insertAdjacentHTML("beforeend",'<div class="'+this.options.containerErrorClass+'">'+f+"</div>"),o.push(s),s.flexFormsSavedValidationMessage=f}else this._markElementValid(l),this._markElementValid(s),delete s.flexFormsSavedValidationMessage,this._removeElementErrors(u);s.setCustomValidity("")}}if(1===e.length){var h=e[0],v=h.getAttribute(k)||h.id;if(v){var p=Array.from(this.getForm().querySelectorAll("["+k+'="'+v+'"], #'+v));p.forEach(function(e){var t=e.validity,n=t&&!t.valid&&this._isElementInvalidElement(e);i(n,r,e)}.bind(this))}}return this._handleLabels(r),o}},{key:"validateCustomFields",value:function(){return this._customValidationsForElements(this.form.querySelectorAll("[data-validate]"))}},{key:"getForm",value:function(){return this.form}},{key:"registerRemoteValidation",value:function(e){return this._remoteValidationFunction=e,this}},{key:"_formatErrorTooltip",value:function(e){return this.options.formatErrorTooltip.apply(this,[e])}},{key:"showAndOrCreateTooltip",value:function(e,t){var i=this;if(!this.tooltips&&this.options.createTooltips&&(this.tooltips=new d["default"](this.options.tooltipContainer,this.options.tooltipOptions)),!this.options.createTooltips)return!1;if(!e.flexFormsSavedValidity)return!1;var r=n._findErrorTarget(e);return!e.flexFormsSavedValidity.valid&&i._isElementInvalidElement(r)?(i.tooltips.createTooltip(r,i._formatErrorTooltip(e.flexFormsSavedValidationMessage),!1),!0):(t&&i.tooltips.removeTooltip(),!1)}},{key:"_isElementInvalidElement",value:function(e){return e.hasAttribute(_)}},{key:"_checkIsInvalid",value:function(e){e.preventDefault();var t=this.getForm().querySelectorAll(":invalid");return this._handleValidation(t,!0,!1)}},{key:"_getDependentFields",value:function(e){var t=e.getAttribute(F),n=[e];return t&&n.push.apply(n,Array.prototype.slice.apply(this.getForm().querySelectorAll(t))),n}},{key:"_handleTooltipInline",value:function(e){this.tooltips&&this.tooltips.removeTooltip(e)}},{key:"initFormValidation",value:function(){function e(e){return!e.hasAttribute(w)&&!e.hasAttribute(T)}function t(){u=!1,clearTimeout(l)}function n(e){var t=e.getAttribute("type");return"radio"!==t&&"checkbox"!==t&&"submit"!==t}function i(e){return!e.hasAttribute(T)}var r=this,o=this.getForm(),a=this,s="invalid";o.addEventListener(s,function(e){e.preventDefault()},!0),v["default"].addEventOnce(s,o,function d(e){a._formLoading();var t=a._checkIsInvalid(e);t&&(a.currentValidationFuture=new Promise(function(n){t.then(function(t){setTimeout(function(){v["default"].addEventOnce(s,o,d,!0)},0),n(t),a._formStopLoading(),t.foundAnyError||(a._formLoading(),a._handleSubmit(e))})}))},!0),this.addEventListener(o,"reset",function(){r.removeErrors()});var l,u=!1;a.options.realtime&&this.addEventListener(o,I,function(t){if(!a._formIsLoading()){var n=t.target;clearTimeout(l),u||(l=setTimeout(function(){var i=document.activeElement===t.target;if(e(n)){i&&a._handleTooltipInline(),u=!0;var r=a._getDependentFields(n);a._customValidationsForElements(r).then(function(){a.prepareErrors(r,!1),i&&a.showAndOrCreateTooltip(t.target),u=!1})}},a.options.realtimeTimeout))}},!0),this.addEventListener(o,"blur",function(e){e.target.flexcssKeepTooltips||a._handleTooltipInline(e.target),delete e.target.flexcssKeepTooltips},!0),this.addEventListener(o,"focus",function(e){a._formIsLoading()||n(e.target)&&setTimeout(function(){a.showAndOrCreateTooltip(e.target)},N)},!0),a.options.inlineValidation&&this.addEventListener(o,"change",function(e){var n=e.target;if(!a._formIsLoading()&&i(n)){t();var r=n.getAttribute("name"),s=r?o.querySelectorAll('[name="'+r+'"]'):[n];1===s.length&&(s=a._getDependentFields(n)),a._customValidationsForElements(s).then(function(){a.prepareErrors(s,!1),n.flexcssKeepTooltips=a.showAndOrCreateTooltip(n,!0),n.flexcssKeepTooltips&&a._handleTooltipHideClickAfterChange()})}}),this.addEventListener(o,"submit",function c(e){a._submitListener(e,c)}),f["default"].dispatchAndFire(o,M)}},{key:"_formLoading",value:function(){this.getForm().classList.add(E)}},{key:"_formStopLoading",value:function(){this.getForm().classList.remove(E)}},{key:"_formIsLoading",value:function(){return this.getForm().classList.contains(E)}},{key:"_handleTooltipHideClickAfterChange",value:function(){var t=this;this.options.createTooltips&&setTimeout(function(){v["default"].addEventOnce(m["default"].getTabEvent(),e.document.body,function(e){t._isElementInvalidElement(e.target)||t._handleTooltipInline()})},D)}},{key:"_focusElement",value:function(e){e.focus(),v["default"].scrollToElement(e,this.options.scrollToElementDiff)}},{key:"_submitListener",value:function(e,t){var n=this.getForm(),i=this,r="submit";return this._formIsLoading()?(e.preventDefault(),!1):(this._formLoading(),n.removeEventListener(r,t),this.removeErrors(),e.preventDefault(),void(n.checkValidity()?(n.addEventListener(r,t),i.currentValidationFuture=new Promise(function(e){var t=i.validateCustomFields();t.then(function(t){var n=i._getInvalidElements(),r=i.prepareErrors(n,!1),o=r[0];o&&(i._focusElement(o),i.showAndOrCreateTooltip(o,!0)),e(t)})}),i.currentValidationFuture.then(function(t){t.foundAnyError?i._formStopLoading():i._handleSubmit(e)})):(i._formStopLoading(),n.addEventListener(r,t))))}},{key:"_handleSubmit",value:function(e){this._submitFunction(this.form,e)}}],[{key:"_shouldNotValidateField",value:function(e){var t=n._findErrorTarget(e);return t instanceof HTMLFieldSetElement||void 0===e.validity||t.hasAttribute(S)&&!v["default"].isVisible(t)}},{key:"_createArrayFromInvalidFieldList",value:function(e){for(var t=[],i=0;i<e.length;++i){var r=e[i];r.validity&&!r.validity.valid&&(n._shouldNotValidateField(r)||t.push(r))}return t}},{key:"_findErrorTarget",value:function(t){var n=t.getAttribute(A)||t,i=n instanceof HTMLElement?n:e.document.getElementById(n);if(!i)throw"Given error target did not exsits:"+t;return i}},{key:"registerErrorMessageHandler",value:function(e){n.globalErrorMessageHandler=e}},{key:"init",value:function(e,t){for(var i=e instanceof HTMLElement?e.querySelectorAll("form"):document.querySelectorAll(e),r=[],o=0;o<i.length;o++)r.push(new n(i[o],t));return r}},{key:"registerValidator",value:function(e,t){return n.globalValidators[e]=t,n}},{key:"registerGlobalRemoteValidationFunction",value:function(e){return n.globalRemoteValidationFunction=e,n}}]),n}(y["default"]);B.globalValidators=[],B.globalRemoteValidationFunction=function(){},B.globalErrorMessageHandler=function(e,t){if(!t.customError){var n=e.getAttribute(L);n&&e.setCustomValidity(n)}},t["default"]=B}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){return function(){clearTimeout(e.timeout),e.timeout=setTimeout(e,t)}}},function(e,t,n){n(12),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function r(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function s(e){var t=new FileReader;return t.readAsText(e),o(t)}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},v.blob?(this.blob=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=r(this);return e?e:Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(c)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e){var t=e.toUpperCase();return p.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(d.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=u(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function c(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function f(e){var t=new i,n=e.getAllResponseHeaders().trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),i=n.shift().trim(),r=n.join(":").trim();t.append(i,r)}),t}function h(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){i.prototype.append=function(e,i){e=t(e),i=n(i);var r=this.map[e];r||(r=[],this.map[e]=r),r.push(i)},i.prototype["delete"]=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,i){this.map[t(e)]=[n(i)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(i){e.call(t,i,n,this)},this)},this)};var v={blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e},p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this)},l.call(d.prototype),l.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];h.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=h,e.fetch=function(e,t){return new Promise(function(n,i){function r(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=d.prototype.isPrototypeOf(e)&&!t?e:new d(e,t);var a=new XMLHttpRequest;a.onload=function(){var e=1223===a.status?204:a.status;if(100>e||e>599)return void i(new TypeError("Network request failed"));var t={status:e,statusText:a.statusText,headers:f(a),url:r()},o="response"in a?a.response:a.responseText;n(new h(o,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_DROPDOWN_CLOSED=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(4),h=i(f),v=n(7),p=i(v),m="data-collision-container",g="data-darkener-container",y="init",E="data-target",_="data-close-dropdown",b="data-dropdown",C="loading",T="darkener-dropdown",w="open",O="dropdown",L=t.EVENT_DROPDOWN_CLOSED="flexcss.dropdown.closed",k=function(){function t(n,i){r(this,t);var o=e.document;if(this.container=n instanceof HTMLElement?n:o.getElementById(n),this.currentOpen=null,this.currentTarget=null,this.darkener=i instanceof HTMLElement?i:document.getElementById(i),this.destroyOnClose=!1,!this.darkener||!this.container)throw new Error("required elements not found (darkener and container element)")}return o(t,[{key:"_delegateFunction",value:function(e){var t=this.currentOpen,n=s["default"].closestCallback(e.target,function(e){return e instanceof HTMLElement&&e.hasAttribute(b)}),i=n===this.currentTarget;if(t&&!s["default"].isPartOfNode(e.target,t)||i)return this.close(),i&&e.preventDefault(),i?!1:this._delegateFunction(e);if(n&&!t){if(e.preventDefault(),e.stopImmediatePropagation(),n.isLoading)return!1;this.createDropdown(n)}else t&&(e.target.hasAttribute(_)&&(e.preventDefault(),this.close()),s["default"].isPartOfNode(e.target,t)||this.close())}},{key:"registerEvents",value:function(){return p["default"].getInstance().addScreenConstraint(t,function(e){return e<u["default"].get().smallBreakpoint}),this.container.addEventListener(u["default"].getTabEvent(),this._delegateFunction.bind(this),!0),this}},{key:"destroy",value:function(){return this.container.removeEventListener(u["default"].getTabEvent(),this._delegateFunction.bind(this),!0),this}},{key:"setDestroyOnClose",value:function(e){return this.destroyOnClose=e,this}},{key:"toggleDarkenerToggler",value:function(e,t){var n="toggle-"+(e.id||T),i=this.container.classList;t?i.add(n):i.remove(n)}},{key:"close",value:function(){var e=this,t=this.currentOpen;if(!t)return!1;var n=t.flexDarkenerInstance||this.darkener,i=t,r=new Promise(function(r){"fixed"===window.getComputedStyle(t).position?s["default"].addEventOnce(u["default"].getTransitionEvent(),t,function o(e){var a=this;return e.srcElement!==t?s["default"].addEventOnce(u["default"].getTransitionEvent(),t,o.bind(this)):void requestAnimationFrame(function(){return c["default"].dispatchAndFire(i,L),null!==a.currentOpen?!1:(a.toggleDarkenerToggler(n,!1),void r(!0))})}.bind(e)):(r(!0),c["default"].dispatchAndFire(i,L))});return p["default"].getInstance().close(),t.classList.remove(w),t.flexDarkenerInstance?t.flexDarkenerInstance.classList.remove(y):this.darkener.classList.remove(y),this.currentOpen=null,this.currentTarget=null,this.destroyOnClose&&this.destroy(),r}},{key:"createDropdown",value:function(t,n){var i=this,r=e.document;if(!t)throw new Error("Dropdown target not found");var o=n||h["default"].findWidget(t),a=void 0,l=t.getAttribute(b),u=r.getElementById(l),d=!u&&h["default"].isWidget(o)?o.getAsync():!1;if(d)t.classList.add(C),t.isLoading=!0,a=d.then(function(e){if(e instanceof HTMLElement)return e.id&&t.setAttribute(b,e.id),e;var n=r.createElement("div");return n.className=O,n.innerHTML=e,n.id=s["default"].guid(),t.setAttribute(b,n.id),i.container.appendChild(n),n}).then(function(e){return t.isLoading=!1,t.classList.remove(C),e});else{if(!u)throw new Error('Could not found Dropdown container with ID "'+l+'"');a=new Promise(function(e){e(u)})}a.then(function(n){i.currentOpen&&i.close(),t.dropdownContent=n;var o="absolute"===e.getComputedStyle(n).position;if(n.hfWidgetInstance=i,!t.flexCollisionContainer){var a=t.getAttribute(m);t.flexCollisionContainer=a?r.getElementById(a)||document.documentElement:document.documentElement}if(n.classList.toggle(w),n.classList.contains(w)&&(i.currentOpen=n,i.currentTarget=t),p["default"].getInstance().open(i,n),o){var l=t.getAttribute(E);l=l?r.getElementById(l):t,s["default"].setupPositionNearby(l,n,t.flexCollisionContainer)}else{var u=t.getAttribute(g);u?(n.flexDarkenerInstance=r.getElementById(u),(n.flexDarkenerInstance||i.darkener).classList.toggle(y)):i.darkener.classList.toggle(y),i.toggleDarkenerToggler(n.flexDarkenerInstance||i.darkener,!0),n.style.left="0",n.style.top="auto"}})}}]),t}();t["default"]=k}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(8),l=i(s),u=n(2),d=i(u),c=n(4),f=i(c),h="data-original-width",v="data-original-height",p="data-src",m="has-prev",g="has-next",y="loading",E="data-no-thumbnail",_="data-href",b="href",C=39,T=37,w="data-close-modal",O=function(){function t(e,n,i,o){r(this,t);var a=e instanceof HTMLElement?e:document.getElementById(e);this._modalAppend=i||e,this._resizeEvent=null,this._keyboardNextEvent=null,this._future=null,this._nextFuture=this._future,this._imageContainer=null,this._modalContainerDiv=null,this._contentContainer=null,this._closerContainerDiv=null,this._delegateContainer=a,this._attributeSelector=n,this._widget=null,this._isOpen=!1,this.target=null,this.img=null,this._isLoading=!1,this.options={registerPrevNextEvents:!0,closeOnLast:!0,onNext:function(){return!0},onClose:function(){},getNext:null,getPrev:null,onSwitchImage:function(){}},Object.assign(this.options,o)}return a(t,[{key:"findImmediateNextTarget",value:function(e){return e&&e.children[0].hasAttribute(this._attributeSelector)?e.children[0]:null}},{key:"getNext",value:function(e){return this.options.getNext?this.options.getNext.apply(this,[e]):this.findImmediateNextTarget(e.parentNode.nextElementSibling)}},{key:"getPrev",value:function(e){return this.options.getPrev?this.options.getPrev.apply(this,[e]):this.findImmediateNextTarget(e.parentNode.previousElementSibling)}},{key:"registerEvents",value:function(e){var t=this;this._delegateContainer.addEventListener(d["default"].getTabEvent(),function(n){var i=n.target,r=i.parentNode,o=i.hasAttribute(t._attributeSelector),a=r&&r.hasAttribute(t._attributeSelector);!o&&a&&(o=!0,i=r),o&&(n.preventDefault(),t.open(i).then(function(n){e&&e.apply(t,[n,i])}))})}},{key:"getContentContainer",value:function(){return this._contentContainer}},{key:"switchImageByDirection",value:function(e){var t=e?this.getPrev(this.target):this.getNext(this.target);return this.options.onNext.apply(this,[t])?this.switchImage(t):new Promise(function(e,n){return n(t)})}},{key:"isLoading",value:function(){return this._isLoading}},{key:"_runOptionalClose",value:function(){this.options.closeOnLast&&this.modal.close()}},{key:"_setupPrevNextStates",value:function(){var e=this.target,t=this.getPrev(e),n=this.getNext(e),i=m,r=g;t?this._imageContainer.classList.add(i):this._imageContainer.classList.remove(i),n?this._imageContainer.classList.add(r):this._imageContainer.classList.remove(r)}},{key:"_calculateContainer",value:function(e){var t=this;d["default"].isIE()&&setTimeout(function(){t._imageContainer.style.height=e.offsetHeight+"px"},0)}},{key:"switchImage",value:function(e){var n=this,i=this,r=this.img;return this._isLoading=!0,i._nextFuture=new Promise(function(a,s){if(i.options.onSwitchImage.apply(i,[i._nextFuture]),e){var l=function(){var o=e.hasAttribute(E)?e:e.children[0]||e,l=e.getAttribute(_)||e.getAttribute(b),u=o.getAttribute(p)||o.src||l,d=new Image;return u?(n.target=e,d.src=u,i._imageContainer.classList.add(y),void d.addEventListener("load",function(){r.src=u,i._imageContainer.style.backgroundImage="url("+u+")",t._setupMaxWidthHeight(e,r,d),i._calculateContainer(r),i.highRes(o,l),i._setupPrevNextStates(),i._imageContainer.classList.remove(y),n._isLoading=!1,a(u,n.target)})):(s(e),{v:void 0})}();if("object"===("undefined"==typeof l?"undefined":o(l)))return l.v}else s(n)}),i._nextFuture}},{key:"highRes",value:function(e,t){var n=this;if(t&&e.src!==t){var i=new Image;i.src=t,i.addEventListener("load",function(){n._getSrc(e)===n.img.src&&(n.img.src=t,n._imageContainer.style.backgroundImage="url("+t+")")})}}},{key:"_getSrc",value:function(e){return e.getAttribute(p)||e.src}},{key:"open",value:function(n){var i=this,r=this;return n?(this.target=n,this._isOpen&&n?this.switchImage(n).then(function(){return i}):(this._isOpen=!0,this._widget=(new f["default"]).setAsync(function(){var o=n.hasAttribute(E)?n:n.children[0]||n,a=n.getAttribute(_)||n.getAttribute(b),l=i._getSrc(o)||a,u=new Image;return u.src=l,i._imageContainer=document.createElement("div"),i._modalContainerDiv=document.createElement("div"),i._closerContainerDiv=document.createElement("i"),i._contentContainer=document.createElement("div"),i._closerContainerDiv.className="modal-close modal-close-lightbox icon-cancel-1",i._closerContainerDiv.setAttribute(w,w),i._modalContainerDiv.className="modal image-modal",i._modalContainerDiv.appendChild(i._imageContainer),i._modalContainerDiv.appendChild(i._contentContainer),i._modalContainerDiv.appendChild(i._closerContainerDiv),i._contentContainer.className="content-container",i._isLoading=!0,i._future=new Promise(function(s){u.addEventListener("load",function(){i._imageContainer.className="image-container";var c=document.createElement("img");i.img=c,c.src=l,t._setupMaxWidthHeight(n,c,u),i._imageContainer.appendChild(c),i._imageContainer.style.backgroundImage="url("+l+")",s(r._modalContainerDiv),i._isLoading=!1,d["default"].isIE()&&(r._resizeEvent=e.addEventListener("resize",function(){setTimeout(function(){r._imageContainer.style.height=c.offsetHeight+"px"},0)})),r.options.registerPrevNextEvents?(r._setupPrevNextStates(),r._imageContainer.addEventListener(d["default"].getTabEvent(),function(t){if(!r.isLoading()){t.preventDefault();var n=t,i=e.TouchEvent&&n instanceof TouchEvent?n.changedTouches[0].pageX:n.pageX,o=r._imageContainer.getBoundingClientRect(),a=o.left,s=o.width,l=i-a;r.switchImageByDirection(s/2>l)["catch"](function(){r._runOptionalClose()})}}),r._keyboardNextEvent=function(e){if(e.keyCode===C||e.keyCode===T){if(r.isLoading())return;r.switchImageByDirection(e.keyCode===T)["catch"](function(){r._runOptionalClose()})}},e.addEventListener("keydown",r._keyboardNextEvent)):r._imageContainer.addEventListener(d["default"].getTabEvent(),function(){r._runOptionalClose()}),r.highRes(o,a)})}),i._future.then(function(){r._calculateContainer(i.img)}),r._modalContainerDiv.addEventListener(s.EVENT_MODAL_CLOSED,function(){i._modalContainerDiv.parentNode.removeChild(i._modalContainerDiv),i.options.onClose.apply(r),i._isOpen=!1,i.modal.destroy(),i._keyboardNextEvent&&e.removeEventListener("keydown",r._keyboardNextEvent),i._resizeEvent&&e.removeEventListener("resize",r._resizeEvent)}),i._future}),this._nextFuture=this._future,r._widget?(this.modal=new l["default"](this._modalAppend),this.modal.close().fromWidget(r._widget).then(function(){return r._future.then(function(){return r})})):!1)):!1}}],[{key:"_setupMaxWidthHeight",value:function(e,t,n){var i=e.getAttribute(h),r=e.getAttribute(v);i&&r?(t.style.maxWidth=i+"px",t.style.maxHeight=r+"px"):(t.style.maxWidth=n.width+"px",t.style.maxHeight=n.height+"px")}}]),t}();t["default"]=O}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_TOGGLE=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),s=i(a),l=n(1),u=i(l),d=n(3),c=i(d),f=n(7),h=i(f),v="data-close-offcanvas",p="data-offcanvas",m="init",g="open",y=3,E=t.EVENT_TOGGLE="flexcss.offcanvas.toggle",_=function(){function t(n,i,o,a){var l=this;r(this,t);var d=e.document,c=0,f=n instanceof HTMLElement?n:d.getElementById(n),h=i instanceof HTMLElement?i:d.getElementById(i),v="toggle-"+h.id||"darkener",p=v+"-open",m=function(){return window.innerWidth>=s["default"].get().smallBreakpoint};if(!h||!f)throw new Error("Could not find needed elements (Darkener and/or NavigationId)");this.darkener=h,this.darkenerClassToggle=v,this.darkenerClassToggleInstant=p,this.globalToggleClass=s["default"].get().canvasToggledClass,this.navigationContainer=f,this.navigationContainerId=f.id,this.navigationContainerId||(this.navigationContainerId=u["default"].guid(),f.id=this.navigationContainerId),a||(f.addEventListener("touchstart",function(e){m()||(c=e.touches[0].clientX,f.mustHide=!1)}),f.addEventListener("touchmove",function(e){if(!m()){var t=e.touches[0].clientX,n=f,i=n.style,r=c-t,a=n.getBoundingClientRect(),s=o>0?0>=r:r>=0;if(s){i.transition="transform 0s ease",i.webkitTransition="-webkit-transform 0s ease",n.mustHide=o>0?-1*r>a.width/y:r>a.width/y;var l="translate3d("+-1*r+"px,0,0)";i.transform=l,i.webkitTransform=l}}}),f.addEventListener("touchend",function(){if(!m()){var e=f,t=e.style;if(e.mustHide){var n=e.getBoundingClientRect().width*o;t.transition="transform .2s ease",t.webkitTransition="-webkit-transform .2s ease";var i="translate3d("+n+"px,0,0)";t.transform=i,t.webkitTransform=i,l._remove().then(function(){l.resetTransform(t)}),l._removeInstant()}else l.resetTransform(t)}}))}return o(t,[{key:"resetTransform",value:function(e){e.transform="",e.transition="",e.webkitTransform="",e.webkitTransition=""}},{key:"_remove",value:function(n){var i=this;return new Promise(function(r){u["default"].addEventOnce(s["default"].getTransitionEvent(),i.navigationContainer,function o(i){var a=this;return i.target!==this.navigationContainer?u["default"].addEventOnce(s["default"].getTransitionEvent(),this.navigationContainer,o.bind(this)):void requestAnimationFrame(function(){t.currentOpen=null;var i=e.document.documentElement.classList;i.remove(a.darkenerClassToggle),i.remove(a.globalToggleClass),n&&c["default"].dispatchAndFire(a.navigationContainer,E),r()})}.bind(i))})}},{key:"_removeInstant",value:function(){this.navigationContainer.classList.remove(g),e.document.documentElement.classList.remove(this.darkenerClassToggleInstant),this.darkener.classList.remove(m),h["default"].getInstance().close()}},{key:"toggle",value:function(n){var i=this;n&&n.preventDefault(),this.resetTransform(this.navigationContainer.style);var r=this.darkener.classList,o=this.darkenerClassToggle,a=this.darkenerClassToggleInstant,l=this.navigationContainer.classList;if(t.currentOpen)return this.close(n);u["default"].addEventOnce(s["default"].getTransitionEvent(),this.navigationContainer,function(){n&&c["default"].dispatchAndFire(i.navigationContainer,E)}),t.currentOpen=this,h["default"].getInstance().open(this,this.navigationContainer);var d=e.document.documentElement.classList;d.add(this.globalToggleClass),d.add(a),d.add(o),r.add(m),l.add(g)}},{key:"close",value:function(e){if(this.navigationContainer.classList.contains(g)){var t=this._remove(e);return this._removeInstant(),t}return new Promise(function(e){return e()})}},{key:"registerEvents",value:function(n){var i=this,r=n||e.document;h["default"].getInstance().addScreenConstraint(t,function(e){return e<s["default"].get().smallBreakpoint}),r.addEventListener(s["default"].getTabEvent(),function(e){if(!t.currentOpen||t.currentOpen===i){var n=i.navigationContainerId,r=e.target.getAttribute(p)===n;u["default"].isPartOfNode(e.target,i.navigationContainer)?e.target.hasAttribute(v)&&i.toggle(e):(r||t.currentOpen===i&&e.target===i.darkener)&&i.toggle(e)}})}}]),t}();_.currentOpen=null,t["default"]=_}).call(t,function(){return this}())},function(e,t,n){(function(e){
"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_TAB_OPENED=t.EVENT_TAB_CLOSED=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),s=i(a),l=n(4),u=i(l),d=n(1),c=i(d),f=n(3),h=i(f),v=t.EVENT_TAB_CLOSED="flexcss.tab.closed",p=t.EVENT_TAB_OPENED="flexcss.tab.opened",m="data-toggle",g="active",y="loading",E="data-toggle-list",_=function(){function t(n){r(this,t);var i=e.document;if(this.container=n instanceof HTMLElement?n:i.getElementById(n),this.loading=!1,!this.container)throw new Error("Toggleable container with id "+n+" not found")}return o(t,[{key:"_listener",value:function(t){var n=t.target,i=n.parentNode,r=e.document;if(!n.hasAttribute(m)){if(!i||!i.hasAttribute(m))return;n=i}if(n.hasAttribute(m)){var o=n.getAttribute(m),a=r.getElementById(o);t.preventDefault(),this.loading||this.toggleTarget(a,n)}}},{key:"registerEvents",value:function(){return this.container.addEventListener(s["default"].getTabEvent(),this._listener.bind(this)),this}},{key:"toggleTarget",value:function(n,i){var r=this,o=i;if(o||n){o||(o=document.querySelector("["+m+'="'+n.id+'"]'));var a=void 0,s=o.classList,l=o.parentNode,d=e.document;if(a=new Promise(function(e,t){if(n)e(n);else{var i=u["default"].findWidget(o),r=i?i.getAsync():null;u["default"].isWidget(i)&&r?a=r.then(function(t){if(!(t instanceof HTMLElement))throw new Error("Dynamically creating toggle-content is not supported right now.\n                            Return an HTMLElement instance");var n=c["default"].guid();t.id=n,o.setAttribute(m,n),e(t)}):t("Target not given")}}),l){var f=c["default"].parentsUntil(o,function(e){return e&&e.hasAttribute&&e.hasAttribute(E)}),_=l.classList;if(f){if(_.contains(g))return;_.toggle(g),_.add(y)}if(f)for(var b=0;b<f.children.length;b++){var C=f.children[b],T=C.children[0];if(C!==l&&(C.classList.remove(g),T)){var w=T.getAttribute(m),O=w?d.getElementById(w):null;O&&(h["default"].dispatchAndFire(O,v),O.classList.remove(g),T.classList.remove(g))}}}s&&(s.toggle(g),s.add(y)),this.loading=!0,a.then(function(e){h["default"].dispatchAndFire(e,p),t._handleLoaded(o),e.classList.toggle(g),r.loading=!1})["catch"](function(){r.loading=!1,t._handleLoaded(o)})}}}],[{key:"_handleLoaded",value:function(e){var t=e.parentNode.classList;e.classList.remove(y),t&&t.remove(y)}}]),t}();t["default"]=_}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LightBox=t.Dropdown=t.OffCanvas=t.Toggleable=t.Util=t.Settings=t.Widget=t.Modal=t.Tooltip=t.Form=void 0;var r=n(9),o=i(r),a=n(6),s=i(a),l=n(8),u=i(l),d=n(4),c=i(d),f=n(2),h=i(f),v=n(16),p=i(v),m=n(15),g=i(m),y=n(13),E=i(y),_=n(14),b=i(_),C=n(1),T=i(C);t.Form=o["default"],t.Tooltip=s["default"],t.Modal=u["default"],t.Widget=c["default"],t.Settings=h["default"],t.Util=T["default"],t.Toggleable=p["default"],t.OffCanvas=g["default"],t.Dropdown=E["default"],t.LightBox=b["default"]}])});
//# sourceMappingURL=../maps/flexcss.min.map