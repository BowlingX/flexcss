{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///flexcss.js","webpack:///webpack/bootstrap 88efd6f76822119cde90","webpack:///./src/export.js","webpack:///./src/main/Form.js","webpack:///./src/main/Tooltip.js","webpack:///./src/main/Modal.js","webpack:///./src/main/Widget.js","webpack:///./src/main/Toggleable.js","webpack:///./src/main/OffCanvas.js","webpack:///./src/main/Dropdown.js","webpack:///./src/main/LightBox.js","webpack:///./src/main/util/Settings.js","webpack:///./~/babel-runtime/helpers.js","webpack:///./~/babel-runtime/core-js.js","webpack:///./src/main/util/Event.js","webpack:///./src/main/util/Util.js","webpack:///./~/isomorphic-fetch/npm-client.js","webpack:///./~/isomorphic-fetch/~/whatwg-fetch/fetch.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_babelHelpers","Form","interopRequire","Tooltip","Modal","Widget","Settings","Toggleable","OffCanvas","Dropdown","LightBox","_core","defaults","interopRequireWildcard","Event","Util","ERROR_CLASS_NAME","INPUT_ERROR_CLASS","LOADING_CLASS","ARIA_INVALID","REMOTE","REMOTE_ACTION","ATTR_DISABLE_INLINE","ATTR_VALIDATOR","EVENT_FORM_READY","EVENT_FORM_SUBMIT","EVENT_FORM_AFTER_AJAX_SUBMIT","EVENT_FORM_AJAX_COMPLETED","form","options","classCallCheck","HTMLFormElement","tooltips","currentValidationFuture","Promise","createTooltips","appendError","ajaxSubmitType","ajaxJsonContentType","inlineValidation","Object","assign","applyOptionsFromElement","hfWidgetInstance","_validators","globalValidators","_remoteValidationFunction","initFormValidation","prototypeProperties","_createArrayFromInvalidFieldList","value","list","arr","i","length","n","HTMLFieldSetElement","push","writable","configurable","_formatErrorTooltip","error","registerErrorMessageHandler","errorFunc","globalErrorMessageHandler","init","selector","forms","HTMLElement","querySelectorAll","document","registerValidator","name","validator","registerGlobalRemoteValidationFunction","func","globalRemoteValidationFunction","_submitFunction","thisForm","e","shouldUseAjax","getAttribute","ajaxPostUrl","window","location","href","useJson","self","ev","dispatch","withOriginal","fire","defaultPrevented","classList","remove","submit","add","preventDefault","serverCall","fetch","headers","Content-Type","method","body","JSON","stringify","serialize","FormData","then","r","apply","withDetail","selectors","inputs","join","result","Array","prototype","forEach","input","exists","_setupErrorMessages","field","validity","_removeElementErrors","thisParent","errors","inputsWithErrorClasses","elementErrorIndex","parentNode","removeChild","inputErrorIndex","removeTooltip","_runValidation","validationRef","cl","future","_customValidationsForElements","fields","futures","fieldsLength","checkedFields","iVal","customError","valid","console","warn","all","allFutures","arguments","l","foundAnyError","fI","removeErrors","prepareErrors","removeAllErrors","parent","flexFormsSavedValidity","parse","msg","validationMessage","setAttribute","insertAdjacentHTML","flexFormsSavedValidationMessage","setCustomValidity","validateCustomFields","getForm","registerRemoteValidation","showAndOrCreateTooltip","target","containerClass","setTimeout","contains","createTooltip","_checkIsInvalid","invalidFields","indexOf","focus","validation","_checkIsValidBlurFocusElement","attr","maybeDisableOnBlur","hasAttribute","HTMLSelectElement","HTMLInputElement","HTMLTextAreaElement","invalidFormFired","addEventListener","resolve","hasError","submitListener","_submitListener","_submitListenerWrapper","toString","dispatchAndFire","removeEventListener","checkValidity","f","_handleSubmit","defineProperty","global","CLASS_NAMES_TOOLTIP","CLASS_NAMES_OPEN","doc","DelegateContainer","container","getElementById","tooltipContainer","text","removeTitle","trim","createElement","_restoreClassNames","appendChild","style","left","top","innerHTML","flexTooltipCurrentTarget","oldTitle","removeAttribute","setupPositionNearby","className","registerEvents","HTML_ELEMENT","documentElement","ATTR_CREATE_NEW","ATTR_CLOSE","ATTR_NAME","CLS_CONTAINER_CURRENT","CLS_OPEN","CLS_CURRENT","CLS_PART_OF_STACK","CLS_MODAL_OPEN","CLS_MODAL_CONTAINER","CLS_ANIM_END","CLS_LOADER_CONTAINER","CLS_LOADER","EVENT_MODAL_CLOSED","EVENT_MODAL_BEFORE_CLOSED","EVENT_MODAL_OPENED","EVENT_MODAL_INIT","EVENT_MODAL_ASYNC_TARGET_LOADED","currentOpen","loading","classNames","closeOnEscape","closeOnBackgroundClick","destroyOnFinish","eventContainer","eventFunction","dataMainPageContainer","currentScrollTop","modalContainer","_removeModalFromStack","t","_modalInstances","splice","get","scrollbarUpdateNodes","position","scrollTop","paddingRight","getModalContainer","close","KeyboardEvent","type","CONST_TAB_EVENT","_finishState","prevModal","switchModals","lastContainer","childNodes","node","destroy","_finishAnim","co","last","prefixedAnimateEvent","instances","isCurrent","handleScrollbar","pageYOffset","parseInt","getComputedStyle","CONST_SCROLLBAR_WIDTH","createWidget","foundInstance","parentsUntil","flexModalInstance","targetContent","widget","hasTarget","isHtmlElement","isWidget","element","findWidget","newInstance","setDestroyOnFinish","fromEvent","stopImmediatePropagation","modalContainerClasses","closeModalFunction","isPartOfNode","loader","toggleLoader","show","loaderLoader","async","getAsync","DocumentFragment","guid","finalContent","el","hfContainerInstance","open","modal","internal","delegate","delegateContainer","fromWidget","v","MutationObserver","observer","mutations","disconnect","observe","childList","keyCode","lastModal","_this","asyncContent","setAsync","s","bind","undefined","getFinalContent","setElement","EVENT_TAB_CLOSED","EVENT_TAB_OPENED","ACTIVE_CLASS","ATTR_TOGGLE_LIST","ContainerId","_handleLoaded","parentClassList","_listener","refId","ref","toggleTarget","querySelector","maybeToggleNode","elClassList","failure","toggle","children","targetRef","reason","ATTR_CLOSE_SIDEBAR","TOGGLE_CLASS","INIT_CLASS","OPEN_CLASS","HIDE_FACTOR","NavigationId","ToggleNavigationId","Darkener","factor","disableTouch","touched","navigationContainer","toggler","darkener","DARKENER_CLASS_TOGGLE","resetStyles","transform","transition","webkitTransform","webkitTransition","shouldNotTouch","innerWidth","smallBreakpoint","requestAnimationFrame","touches","clientX","mustHide","x","calc","bounds","getBoundingClientRect","compare","width","addEventOnce","CONST_TRANSITION_EVENT","darkenerFadeDelay","togglerF","bodyClass","darkenerClass","oldClassNames","ATTR_CC","ATTR_DARKENER","DARKENER_INIT","ATTR_DATA_TARGET","ATTR_CLOSE_DROPDOWN","STATE_LOADING","CLS_DARKENER_DROPDOWN","CLS_DROPDOWN","EVENT_DROPDOWN_CLOSED","destroyOnClose","_delegateFunction","targetHas","parentHas","isLoading","createDropdown","setDestroyOnClose","toggleDarkenerToggler","instance","cls","darkenerInstance","flexDarkenerInstance","thisCurrentOpen","CONST_CANVAS_TOGGLE","thisWidget","data","dropdownContainerElement","dropdownContent","isAbsolute","flexCollisionContainer","collisionC","selfTarget","d","_Modal","ATTR_MAX_WIDTH","ATTR_MAX_HEIGHT","ATTR_SRC","CLS_HAS_PREV","CLS_HAS_NEXT","CLS_LOADING","ATTR_NO_THUMBNAIL","ATTR_DATA_HREF","ATTR_HREF","KEY_NEXT","KEY_PREV","AttributeSelector","ModalAppend","thisDelegateContainer","_modalAppend","_resizeEvent","_keyboardNextEvent","_future","_nextFuture","_imageContainer","_modalContainerDiv","_contentContainer","_closerContainerDiv","_delegateContainer","_attributeSelector","_widget","_isOpen","img","_isLoading","registerPrevNextEvents","closeOnLast","onNext","onClose","onSwitchImage","_setupMaxWidthHeight","loadedImage","nextMaxWidth","nextMaxHeight","maxWidth","maxHeight","height","getNext","next","nextElementSibling","getPrev","previous","previousElementSibling","onOpen","validTarget","parentIsValid","getContentContainer","switchImageByDirection","direction","switchImage","_runOptionalClose","_setupPrevNextStates","hasPrev","hasNext","hasPrevClass","hasNextClass","_calculateContainer","isIE","offsetHeight","reject","nextThumb","nextHighRes","nextSource","src","nextImgObject","Image","backgroundImage","highRes","thisThumbnail","thisImgHighResolution","highImageObj","_getSrc","thumbnail","imgHighResolution","imgSrc","imageObj","pageX","TouchEvent","changedTouches","rect","imgX","wrapperWidth","posX","GLOBAL_SETTINGS","setup","settings","isIosDevice","_CONST_IS_IOS","navigator","userAgent","match","isTouchDevice","_CONST_IS_TOUCH","msMaxTouchPoints","_CONST_IS_IE","getScrollBarWidth","whichTransitionEndEvent","helpers","__esModule","inherits","subClass","superClass","TypeError","create","constructor","enumerable","__proto__","obj","keys","getOwnPropertyNames","key","getOwnPropertyDescriptor","child","staticProps","instanceProps","defineProperties","applyConstructor","Constructor","args","taggedTemplateLiteral","strings","raw","freeze","taggedTemplateLiteralLoose","toArray","isArray","from","toConsumableArray","arr2","slicedToArray","$for","isIterable","_step","_arr","_iterator","getIterator","done","objectWithoutProperties","hasOwnProperty","hasOwn","slice","Function","asyncToGenerator","fn","gen","step","arg","info","callNext","callThrow","default","_typeof","Symbol","_extends","source","_x","_x2","_x3","_again","object","property","receiver","desc","getter","getPrototypeOf","set","_x4","_function","setter","objectDestructuringEmpty","temporalUndefined","temporalAssertDefined","val","undef","ReferenceError","selfGlobal","framework","isObject","it","isFunction","setToStringTag","tag","stat","has","PROTOTYPE","SYMBOL_TAG","hidden","cof","classof","O","T","part","assertFunction","_","path","holder","_args","that","_length","j","invoke","ctx","a","b","un","toObject","ES5Object","assertDefined","returnIt","returnThis","ownKeys","assertObject","getSymbols","getNames","concat","keyOf","getKeys","index","array","String","split","createArrayMethod","isMap","isFilter","isSome","isEvery","isFindIndex","noholes","callbackfn","res","toLength","createArrayContains","isContains","toIndex","sameNaN","generic","A","B","number","toInteger","isNaN","trunc","min","MAX_SAFE_INTEGER","max","lz","num","createReplacer","regExp","replace","isStatic","replacer","createPointAt","pos","charCodeAt","charAt","assert","condition","msg1","msg2","assertInstance","descriptor","bitmap","simpleSet","createDefiner","DESC","uid","SYMBOL","sid","random","TO_STRING","getWellKnownSymbol","safeSymbol","DOT","assignHidden","setSpecies","C","isNative","SYMBOL_SPECIES","$define","own","out","exp","isGlobal","GLOBAL","STATIC","ObjectProto","core","FORCED","BIND","WRAP","param","PROTO","setIterator","SYMBOL_ITERATOR","FF_ITERATOR","ArrayProto","createIterator","NAME","proto","IteratorPrototype","defineIterator","DEFAULT","iter","iterProto","Iterators","defineStdIterators","Base","IS_SET","createIter","kind","entries","KEY","VALUE","values","BUGGY_ITERATORS","iterResult","hasExt","ITERATOR","ext","getIter","stepCall","checkDangerIterClosing","danger","return","closeIterator","iterator","ret","safeIterClose","exec","forOf","iterable","REFERENCE_GET","Dict","exportGlobal","OBJECT","FUNCTION","ARRAY","STRING","NUMBER","REGEXP","DATE","MAP","SET","WEAKMAP","WEAKSET","PROMISE","MATH","ARGUMENTS","CONSTRUCTOR","TO_STRING_TAG","TO_LOCALE","HAS_OWN","FOR_EACH","PROCESS","CREATE_ELEMENT","Number","Map","Set","WeakMap","WeakSet","Math","RangeError","setImmediate","clearImmediate","isFinite","process","nextTick","html","FunctionProto","Infinity","test","setPrototypeOf","getOwnDescriptor","getOwnPropertySymbols","isFrozen","S","unshift","pow","abs","ceil","floor","REDUCE_ERROR","SYMBOL_UNSCOPABLES","ArrayUnscopables","NODE","old","noConflict","ITER","TAG","SymbolRegistry","AllSymbols","description","sym","symbolStatics","for","keyFor","species","toStringTag","unscopables","pure","useSetter","useSimple","names","objectStatic","is","y","buggy","wrapObjectMethod","MODE","o","isInteger","EPSILON","isSafeInteger","MIN_SAFE_INTEGER","parseFloat","asinh","log","sqrt","expm1","E","sign","acosh","NaN","atanh","cbrt","clz32","cosh","fround","Float32Array","hypot","sum","len1","len2","larg","imul","UInt16","xn","yn","xl","yl","log1p","log10","LN10","log2","LN2","sinh","tanh","fromCharCode","assertNotRegExp","fromCodePoint","code","len","callSite","sln","codePointAt","endsWith","searchString","endPosition","end","includes","repeat","count","str","startsWith","arrayLike","mapfn","mapping","of","copyWithin","start","to","fin","inc","fill","endPos","find","findIndex","at","iterated","k","point","ONREADYSTATECHANGE","run","queue","listner","event","defer","channel","port","postMessage","MessageChannel","counter","importScripts","port2","port1","onmessage","asap","RECORD","isThenable","handledRejectionOrHasOnRejected","promise","react","record","chain","h","fail","P","notify","ok","emit","cb","rej","err","wrapper","getConstructor","executor","onFulfilled","onRejected","catch","remaining","results","race","getCollection","methods","commonMethods","isWeak","initFromIterable","ADDER","fixSVZ","buggyZero","Native","inst","UID","O1","SIZE","LAST","FIRST","entry","fastKey","getEntry","def","prev","defWeak","leakStore","WEAK","LEAK","tmp","collectionMethods","clear","delete","weakMethods","Enumerate","wrap","reflectGet","propertyKey","reflectSet","V","existingDescriptor","ownDesc","isExtensible","reflect","construct","argumentsList","deleteProperty","enumerate","preventExtensions","Reflect","createObjectToArray","isEntries","getOwnPropertyDescriptors","escape","REFERENCE","setMapMethods","MapProto","REFERENCE_SET","REFERENCE_DELETE","referenceGet","referenceSet","referenceDelete","DICT","DictIterator","createDictIter","createDictMethod","createDictReduce","isTurn","memo","findKey","dict","dictMethods","map","filter","some","every","mapPairs","reduce","turn","isDict","ENTRIES","FN","createChainIterator","Iter","I","$forProto","MapIter","FilterIter","delay","time","toLocaleString","tie","bound","only","numberArguments","isThat","mixin","make","numberMethods","NumberIterator","lim","escapeHTMLDict","&","<",">","\"","'","unescapeHTMLDict","escapeHTML","unescapeHTML","formatRegExp","flexioRegExp","locales","current","SECONDS","MINUTES","HOURS","MONTH","YEAR","createFormat","prefix","template","locale","unit","addLocale","lang","months","weekdays","format","formatUTC","arrayStatics","setArrayStatics","NodeList","enabled","enable","disable","CustomEvent","params","evt","bubbles","cancelable","detail","createEvent","initCustomEvent","EventHandler","defaultOptions","withOptions","originalEvent","dispatchEvent","PFX","COL_LEFT_CLASS","COL_RIGHT_CLASS","COL_BOTTOM_CLASS","callback","thisFunction","_thisFunction","_thisFunctionWrapper","toLowerCase","transitions","OTransition","MozTransition","WebkitTransition","now","s4","substring","inner","outer","visibility","overflow","w1","offsetWidth","w2","clientWidth","dashToCamelCase","g","toUpperCase","base","attrs","attributes","nodeName","nodeValue","elementToPosition","collisionContainer","centerHorizontal","positionTop","amountTop","amountLeft","offsetTop","offsetLeft","targetPosition","elementRect","colRect","targetTop","targetRight","right","isCollisionTop","isCollisionBottom","innerHeight","isCollisionLeft","targetLeft","isCollisionRight","rightPosition","leftCentered","collisionCentered","normalizeName","normalizeValue","Headers","append","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","support","_initBody","_bodyInit","_bodyText","Blob","isPrototypeOf","_bodyBlob","formData","_bodyFormData","Error","rejected","arrayBuffer","decode","json","normalizeMethod","upcased","Request","url","credentials","mode","referrer","bytes","shift","decodeURIComponent","xhr","head","pairs","getAllResponseHeaders","header","Response","bodyInit","status","statusText","getAll","XDomainRequest","responseURL","getResponseHeader","legacyCors","origin","protocol","host","XMLHttpRequest","contentType","withCredentials","response","responseText","responseType","setRequestHeader","send","polyfill"],"mappings":"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","file":"flexcss.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FlexCss\"] = factory();\n\telse\n\t\troot[\"FlexCss\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FlexCss\"] = factory();\n\telse\n\t\troot[\"FlexCss\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar Form = _babelHelpers.interopRequire(__webpack_require__(1));\n\n\tvar Tooltip = _babelHelpers.interopRequire(__webpack_require__(2));\n\n\tvar Modal = _babelHelpers.interopRequire(__webpack_require__(3));\n\n\tvar Widget = _babelHelpers.interopRequire(__webpack_require__(4));\n\n\tvar Settings = _babelHelpers.interopRequire(__webpack_require__(9));\n\n\tvar Toggleable = _babelHelpers.interopRequire(__webpack_require__(5));\n\n\tvar OffCanvas = _babelHelpers.interopRequire(__webpack_require__(6));\n\n\tvar Dropdown = _babelHelpers.interopRequire(__webpack_require__(7));\n\n\tvar LightBox = _babelHelpers.interopRequire(__webpack_require__(8));\n\n\t// default export as component object\n\tmodule.exports = {\n\t    Form: Form,\n\t    Tooltip: Tooltip,\n\t    Modal: Modal,\n\t    Widget: Widget,\n\t    Settings: Settings,\n\t    Toggleable: Toggleable,\n\t    OffCanvas: OffCanvas,\n\t    Dropdown: Dropdown,\n\t    LightBox: LightBox\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar _core = __webpack_require__(11)[\"default\"];\n\n\t/*global Form, HTMLFormElement, fetch, FormData*/\n\n\tvar Tooltip = _babelHelpers.interopRequire(__webpack_require__(2));\n\n\t_babelHelpers.defaults(exports, _babelHelpers.interopRequireWildcard(__webpack_require__(14)));\n\n\tvar Event = _babelHelpers.interopRequire(__webpack_require__(12));\n\n\tvar Util = _babelHelpers.interopRequire(__webpack_require__(13));\n\n\tvar ERROR_CLASS_NAME = \"form-error\";\n\tvar INPUT_ERROR_CLASS = \"invalid\";\n\tvar LOADING_CLASS = \"loading\";\n\tvar ARIA_INVALID = \"aria-invalid\";\n\tvar REMOTE = \"data-remote\";\n\tvar REMOTE_ACTION = \"data-remote-action\";\n\tvar ATTR_DISABLE_INLINE = \"data-disable-inline-validation\";\n\tvar ATTR_VALIDATOR = \"data-validate\";\n\n\t/**\n\t * Triggered when form is fully initialized and handlers are binded\n\t * @type {string}\n\t */\n\tvar EVENT_FORM_READY = exports.EVENT_FORM_READY = \"flexcss.form.ready\";\n\t/**\n\t * Fires when a form is submitted, cancelable\n\t * @type {string}\n\t */\n\tvar EVENT_FORM_SUBMIT = exports.EVENT_FORM_SUBMIT = \"flexcss.form.submit\";\n\t/**\n\t * Fired directly after the form has been submitted via ajax\n\t * @type {string}\n\t */\n\tvar EVENT_FORM_AFTER_AJAX_SUBMIT = exports.EVENT_FORM_AFTER_AJAX_SUBMIT = \"flexcss.form.afterAjaxSubmit\";\n\t/**\n\t * Fired when ajax events did complete\n\t * @type {string}\n\t */\n\tvar EVENT_FORM_AJAX_COMPLETED = exports.EVENT_FORM_AJAX_COMPLETED = \"flexcss.form.ajaxCompleted\";\n\n\t/**\n\t * A HTML5 Form Validation replacement\n\t */\n\n\tvar Form = (function () {\n\t    /**\n\t     * @param {HTMLElement} form\n\t     * @param [options] optional options\n\t     */\n\n\t    function Form(form, options) {\n\t        _babelHelpers.classCallCheck(this, Form);\n\n\t        if (!(form instanceof HTMLFormElement)) {\n\t            throw \"argument {0} form needs to be an form element\";\n\t        }\n\n\t        /**\n\t         * The Form\n\t         * @type {HTMLElement}\n\t         */\n\t        this.form = form;\n\n\t        /**\n\t         * @type {Tooltip}\n\t         */\n\t        this.tooltips = null;\n\n\t        /**\n\t         * @type {Promise}\n\t         */\n\t        this.currentValidationFuture = new _core.Promise(function () {});\n\n\t        /**\n\t         * Default options\n\t         * @type {Object}\n\t         */\n\t        this.options = {\n\t            // if true creates tooltips above element, uses FlexCss Tooltips\n\t            createTooltips: true,\n\t            // if true appends error message after input element\n\t            appendError: false,\n\t            // type of ajax submit\n\t            ajaxSubmitType: \"POST\",\n\t            // json content type if ajax method is set to json\n\t            ajaxJsonContentType: \"application/json; charset=utf-8\",\n\t            // allow inline validation\n\t            inlineValidation: true\n\t        };\n\n\t        // overwrite default options\n\t        _core.Object.assign(this.options, options);\n\n\t        // apply settings from attributes\n\t        Util.applyOptionsFromElement(form, this.options);\n\n\t        // set form class as widget\n\t        // Forms are very different to classical widgets,\n\t        // we will not use our base widget class for this but just self\n\t        form.hfWidgetInstance = this;\n\n\t        /**\n\t         * A List of Validators\n\t         * @type {Object}\n\t         * @private\n\t         */\n\t        this._validators = Form.globalValidators;\n\n\t        /**\n\t         * @type {Function}\n\t         * @private\n\t         */\n\t        this._remoteValidationFunction = null;\n\n\t        this.initFormValidation();\n\t    }\n\n\t    _babelHelpers.prototypeProperties(Form, {\n\t        _createArrayFromInvalidFieldList: {\n\n\t            /**\n\t             * Creates an array from a node list with invalid items\n\t             * On Firefox also Fieldset's seems to be invalid, remove them\n\t             * @param list\n\t             * @returns {Array}\n\t             * @private\n\t             */\n\n\t            value: function _createArrayFromInvalidFieldList(list) {\n\t                var arr = [];\n\t                for (var i = 0; i < list.length; ++i) {\n\t                    var n = list[i];\n\t                    if (!(n instanceof HTMLFieldSetElement)) {\n\t                        arr.push(n);\n\t                    }\n\t                }\n\t                return arr;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _formatErrorTooltip: {\n\n\t            /**\n\t             * Formats the error content for the tooltip\n\t             * @param {String} error\n\t             * @returns {String}\n\t             * @private\n\t             */\n\n\t            value: function _formatErrorTooltip(error) {\n\t                return \"<i class=\\\"icon-attention\\\"></i> \" + error;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        registerErrorMessageHandler: {\n\n\t            /**\n\t             * Registers a global event Handler\n\t             * @param errorFunc\n\t             */\n\n\t            value: function registerErrorMessageHandler(errorFunc) {\n\t                Form.globalErrorMessageHandler = errorFunc;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        init: {\n\n\t            /**\n\t             * Initialize forms for a specific selector\n\t             * @param {String} selector\n\t             * @param {Object} [options]\n\t             */\n\n\t            value: function init(selector, options) {\n\t                var forms = selector instanceof HTMLElement ? selector.querySelectorAll(\"form\") : document.querySelectorAll(selector);\n\t                for (var i = 0; i < forms.length; i++) {\n\t                    new Form(forms[i], options);\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        registerValidator: {\n\n\t            /**\n\t             * Registers a global validator that is usable on all form instances\n\t             * @param {String} name\n\t             * @param {Function} validator\n\t             * @returns {Function}\n\t             */\n\n\t            value: function registerValidator(name, validator) {\n\t                Form.globalValidators[name] = validator;\n\t                return Form;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        registerGlobalRemoteValidationFunction: {\n\n\t            /**\n\t             * Registers a global function that is called when a form should validate the response of a server\n\t             * @param {Function} func\n\t             * @returns {Form}\n\t             */\n\n\t            value: function registerGlobalRemoteValidationFunction(func) {\n\t                Form.globalRemoteValidationFunction = func;\n\t                return Form;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    }, {\n\t        _submitFunction: {\n\n\t            /**\n\t             * Submits this form, either via ajax or just classical (default)\n\t             * @param {HTMLFormElement} thisForm\n\t             * @param {Event} e\n\t             * @private\n\t             * @returns {Promise|boolean} returns false if submit is cancled\n\t             */\n\n\t            value: function _submitFunction(thisForm, e) {\n\t                var shouldUseAjax = thisForm.getAttribute(REMOTE),\n\t                    ajaxPostUrl = thisForm.getAttribute(REMOTE_ACTION) || thisForm.getAttribute(\"action\") || window.location.href,\n\t                    useJson = \"json\" === shouldUseAjax,\n\t                    self = this;\n\n\t                var ev = Event.dispatch(thisForm, EVENT_FORM_SUBMIT).withOriginal(e).fire();\n\n\t                // abort execution is event was prevented\n\t                if (ev.defaultPrevented) {\n\t                    thisForm.classList.remove(LOADING_CLASS);\n\t                    return false;\n\t                }\n\n\t                if (null === shouldUseAjax) {\n\t                    // submit\n\t                    return thisForm.submit();\n\t                }\n\n\t                thisForm.classList.add(LOADING_CLASS);\n\n\t                // prevent form from submit normally\n\t                e.preventDefault();\n\t                // support either JSON request payload or normal payload submission\n\t                var serverCall = useJson ? fetch(ajaxPostUrl, {\n\t                    headers: {\n\t                        \"Content-Type\": this.options.ajaxJsonContentType\n\t                    },\n\t                    method: this.options.ajaxSubmitType,\n\t                    body: JSON.stringify(this.serialize())\n\t                }) : fetch(ajaxPostUrl, {\n\t                    method: this.options.ajaxSubmitType,\n\t                    body: new FormData(thisForm)\n\t                });\n\n\t                Event.dispatch(thisForm, EVENT_FORM_AFTER_AJAX_SUBMIT).withOriginal(e).fire();\n\n\t                return serverCall.then(function (r) {\n\t                    (self._remoteValidationFunction || Form.globalRemoteValidationFunction).apply(self, [r]);\n\n\t                    Event.dispatch(thisForm, EVENT_FORM_AJAX_COMPLETED).withOriginal(e).withDetail(r).fire();\n\t                    // always remove error class\n\t                    thisForm.classList.remove(LOADING_CLASS);\n\t                });\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        serialize: {\n\n\t            /**\n\t             * Serializes a form to a json object\n\t             * @returns {Object}\n\t             */\n\n\t            value: function serialize() {\n\t                var selectors = [\"input[name]:not([type=\\\"radio\\\"]):enabled\", \"input[type=\\\"radio\\\"][name]:checked\", \"select[name]:enabled\", \"textarea[name]:enabled\"],\n\t                    inputs = this.form.querySelectorAll(selectors.join(\",\")),\n\t                    result = {};\n\n\t                Array.prototype.forEach.call(inputs, function (input) {\n\t                    var exists = result[input.name],\n\t                        value = input.value;\n\t                    if (exists instanceof Array) {\n\t                        exists.push(value);\n\t                    } else if (exists) {\n\t                        result[input.name] = [result[input.name], value];\n\t                    } else {\n\t                        result[input.name] = value;\n\t                    }\n\t                });\n\n\t                return result;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _setupErrorMessages: {\n\n\t            /**\n\t             * @param {HTMLElement} field\n\t             * @param {ValidityState} validity\n\t             * @returns {*}\n\t             * @private\n\t             */\n\n\t            value: function _setupErrorMessages(field, validity) {\n\t                return Form.globalErrorMessageHandler ? Form.globalErrorMessageHandler.apply(this, [field, validity]) : false;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _removeElementErrors: {\n\n\t            /**\n\t             * @param {HTMLElement} thisParent\n\t             * @private\n\t             */\n\n\t            value: function _removeElementErrors(thisParent) {\n\t                var errors = thisParent.querySelectorAll(\".\" + ERROR_CLASS_NAME),\n\t                    inputsWithErrorClasses = thisParent.querySelectorAll(\".\" + INPUT_ERROR_CLASS);\n\t                for (var elementErrorIndex = 0; elementErrorIndex < errors.length; elementErrorIndex++) {\n\t                    errors[elementErrorIndex].parentNode.removeChild(errors[elementErrorIndex]);\n\t                }\n\t                for (var inputErrorIndex = 0; inputErrorIndex < inputsWithErrorClasses.length; inputErrorIndex++) {\n\t                    inputsWithErrorClasses[inputErrorIndex].classList.remove(INPUT_ERROR_CLASS);\n\t                    if (this.tooltips) {\n\t                        this.tooltips.removeTooltip(inputsWithErrorClasses[inputErrorIndex]);\n\t                    }\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        registerValidator: {\n\n\t            /**\n\t             * Registers a custom validator\n\t             * @param {String} name\n\t             * @param {Function} validator a validation function should always return either a Future(true) or Future(false)\n\t             * even when the field has been invalidated with `setCustomValidity`, because of different browser `bugs`\n\t             * we can't rely on that\n\t             * @returns {Form}\n\t             */\n\n\t            value: function registerValidator(name, validator) {\n\t                this._validators[name] = validator;\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _runValidation: {\n\n\t            /**\n\t             * Runs async validation\n\t             * @param {String} validationRef\n\t             * @param {HTMLElement} field\n\t             * @returns {Promise}\n\t             * @private\n\t             */\n\n\t            value: function _runValidation(validationRef, field) {\n\t                if (!this._validators[validationRef]) {\n\t                    throw \"Could not found validator: \" + validationRef;\n\t                }\n\t                var cl = field.classList,\n\t                    future = this._validators[validationRef].apply(this, [field, this.form]);\n\t                cl.add(LOADING_CLASS);\n\t                future.then(function () {\n\t                    cl.remove(LOADING_CLASS);\n\t                });\n\t                return future;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _customValidationsForElements: {\n\n\t            /**\n\t             * Run custom validations for elements, validations are done async do support XHR Requests or other stuff\n\t             *\n\t             * @param {Array|NodeList} fields\n\t             * @returns {Promise} contains either true if validations passed or false if something went wrong\n\t             * @private\n\t             */\n\n\t            value: function _customValidationsForElements(fields) {\n\t                var futures = [],\n\t                    fieldsLength = fields.length,\n\t                    checkedFields = [];\n\t                for (var iVal = 0; iVal < fieldsLength; iVal++) {\n\t                    var field = fields[iVal],\n\t                        validationRef = field.getAttribute(ATTR_VALIDATOR),\n\t                        validity = field.validity;\n\t                    if (this._validators[validationRef]) {\n\t                        // use local validation first and then continue with custom validations\n\t                        if (!validity.customError && !validity.valid) {\n\t                            continue;\n\t                        }\n\t                        checkedFields.push(field);\n\t                        futures.push(this._runValidation(validationRef, field));\n\t                    } else {\n\t                        if (validationRef) {\n\t                            console.warn(\"data-validate was set but no validator was found\");\n\t                        }\n\t                    }\n\t                }\n\t                return _core.Promise.all(futures).then(function () {\n\t                    var allFutures = arguments,\n\t                        l = allFutures.length;\n\t                    var result = {\n\t                        checkedFields: checkedFields,\n\t                        foundAnyError: false\n\t                    };\n\n\t                    for (var fI = 0; fI < l; fI++) {\n\t                        if (!allFutures[fI]) {\n\t                            result.foundAnyError = true;\n\t                        }\n\t                    }\n\t                    return result;\n\t                });\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        removeErrors: {\n\n\t            /**\n\t             * Remove all errors for this form\n\t             * @returns {Form}\n\t             */\n\n\t            value: function removeErrors() {\n\t                this._removeElementErrors(this.form);\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        prepareErrors: {\n\n\t            /**\n\t             * Will handle errors for given fields\n\t             * @param {Array|NodeList} fields\n\t             * @param {Boolean} removeAllErrors\n\t             */\n\n\t            value: function prepareErrors(fields, removeAllErrors) {\n\t                if (removeAllErrors) {\n\t                    this._removeElementErrors(this.form);\n\t                }\n\t                // We save all validations in an extra property because we need to reset the validity due some\n\t                // implementation errors in other browsers then chrome\n\t                for (var i = 0; i < fields.length; i++) {\n\t                    var field = fields[i],\n\t                        parent = field.parentNode,\n\t                        validity = field.validity;\n\t                    field.flexFormsSavedValidity = JSON.parse(JSON.stringify(validity));\n\t                    if (validity && !validity.valid) {\n\t                        if (!removeAllErrors) {\n\t                            // Remove current errors:\n\t                            this._removeElementErrors(parent);\n\t                        }\n\t                        var msg = field.validationMessage;\n\t                        // setup custom error messages:\n\t                        this._setupErrorMessages(field, validity);\n\t                        field.classList.add(\"invalid\");\n\t                        field.setAttribute(ARIA_INVALID, \"true\");\n\t                        if (this.options.appendError) {\n\t                            parent.insertAdjacentHTML(\"beforeend\", \"<div class=\\\"\" + ERROR_CLASS_NAME + \"\\\">\" + msg + \"</div>\");\n\t                        }\n\t                        field.flexFormsSavedValidationMessage = msg;\n\t                    } else {\n\t                        field.classList.remove(\"invalid\");\n\t                        field.setAttribute(ARIA_INVALID, \"false\");\n\n\t                        this._removeElementErrors(parent);\n\t                    }\n\t                    // We have to reset the custom validity here to allow native validations work again\n\t                    field.setCustomValidity(\"\");\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        validateCustomFields: {\n\n\t            /**\n\t             * Validates all custom fields\n\t             * @returns {Promise}\n\t             */\n\n\t            value: function validateCustomFields() {\n\t                return this._customValidationsForElements(this.form.querySelectorAll(\"[data-validate]\"));\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        getForm: {\n\n\t            /**\n\t             * This form\n\t             * @returns {HTMLElement}\n\t             */\n\n\t            value: function getForm() {\n\t                return this.form;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        registerRemoteValidation: {\n\n\t            /**\n\t             * Registers a function that handles remote validation\n\t             * @param {Function} func\n\t             * @returns {Form}\n\t             */\n\n\t            value: function registerRemoteValidation(func) {\n\t                this._remoteValidationFunction = func;\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        showAndOrCreateTooltip: {\n\n\t            /**\n\t             * Creates a tooltip at given element, will only create a new instance if not created\n\t             * @param {HTMLElement} target\n\t             * @param {Boolean} [remove]\n\t             */\n\n\t            value: function showAndOrCreateTooltip(target, remove) {\n\n\t                var self = this;\n\t                if (!this.tooltips && this.options.createTooltips) {\n\t                    this.tooltips = new Tooltip(this.getForm(), {\n\t                        containerClass: \"error-tooltip\"\n\t                    });\n\t                }\n\n\t                if (!this.options.createTooltips) {\n\t                    return;\n\t                }\n\n\t                setTimeout(function () {\n\t                    if (!target.flexFormsSavedValidity) {\n\t                        return;\n\t                    }\n\t                    if (!target.flexFormsSavedValidity.valid && target.classList.contains(INPUT_ERROR_CLASS)) {\n\t                        self.tooltips.createTooltip(target, Form._formatErrorTooltip(target.flexFormsSavedValidationMessage), false);\n\t                    } else {\n\t                        if (remove) {\n\t                            self.tooltips.removeTooltip(target);\n\t                        }\n\t                    }\n\t                }, 0);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _checkIsInvalid: {\n\n\t            /**\n\t             * Handles invalid event of a form\n\t             * @param {Event} e\n\t             * @returns {Promise|boolean}\n\t             * @private\n\t             */\n\n\t            value: function _checkIsInvalid(e) {\n\t                e.preventDefault();\n\t                var invalidFields = this.getForm().querySelectorAll(\":invalid\"),\n\t                    self = this;\n\t                var arr = Form._createArrayFromInvalidFieldList(invalidFields);\n\t                // Prevent fire this N times:\n\t                if (arr.indexOf(e.target) > 0) {\n\t                    return false;\n\t                }\n\t                // focus the first field:\n\t                if (arr.length > 0) {\n\t                    setTimeout(function () {\n\t                        arr[0].focus();\n\t                        self.showAndOrCreateTooltip(arr[0]);\n\t                    }, 0);\n\t                }\n\n\t                var validation = self.validateCustomFields();\n\t                this.prepareErrors(arr, true);\n\t                return validation;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        initFormValidation: {\n\n\t            /**\n\t             * Initializes validation for a given form, registers event handlers\n\t             */\n\n\t            value: function initFormValidation() {\n\t                // Suppress the default bubbles\n\t                var form = this.getForm(),\n\t                    invalidFormFired = false,\n\t                    self = this;\n\t                form.addEventListener(\"invalid\", function (e) {\n\t                    var result = self._checkIsInvalid(e);\n\t                    if (result) {\n\t                        this.currentValidationFuture = new _core.Promise(function (resolve) {\n\t                            result.then(function (r) {\n\t                                self.prepareErrors(r.checkedFields, false);\n\t                                resolve(r);\n\t                                invalidFormFired = false;\n\t                            });\n\t                        });\n\t                    }\n\t                }, true);\n\n\t                // handle focus out for text elements\n\t                // Will show an error if field was invalid the first time\n\t                form.addEventListener(\"blur\", function (e) {\n\t                    if (self.tooltips) {\n\t                        self.tooltips.removeTooltip(e.target);\n\t                    }\n\t                    var target = e.target,\n\t                        hasError = false;\n\n\t                    if (!_checkIsValidBlurFocusElement(target)) {\n\t                        return;\n\t                    }\n\n\t                    if (target.classList.contains(INPUT_ERROR_CLASS)) {\n\t                        hasError = true;\n\t                    }\n\t                    self._customValidationsForElements([e.target]).then(function () {\n\t                        self.prepareErrors([e.target], false);\n\t                        if (!hasError) {\n\t                            self.showAndOrCreateTooltip(e.target);\n\t                        }\n\t                    });\n\t                }, true);\n\n\t                /**\n\t                 * Validates if target is a valid input field to check blur and focus events\n\t                 *\n\t                 * @param {HTMLElement} target\n\t                 * @returns {boolean}\n\t                 */\n\t                function _checkIsValidBlurFocusElement(target) {\n\t                    if (!self.options.inlineValidation) {\n\t                        return false;\n\t                    }\n\n\t                    var attr = target.getAttribute(\"type\"),\n\t                        maybeDisableOnBlur = target.hasAttribute(ATTR_DISABLE_INLINE);\n\t                    if (maybeDisableOnBlur) {\n\t                        return false;\n\t                    }\n\t                    return !(attr === \"checkbox\" || attr === \"option\" || attr === \"submit\" || !(target instanceof HTMLSelectElement || target instanceof HTMLInputElement || target instanceof HTMLTextAreaElement));\n\t                }\n\n\t                // handle focus on input elements\n\t                // will show an error if field is invalid\n\t                form.addEventListener(\"focus\", function (e) {\n\t                    // do not track errors for checkbox and radios on focus:\n\t                    if (!_checkIsValidBlurFocusElement(e.target)) {\n\t                        return;\n\t                    }\n\t                    self.showAndOrCreateTooltip(e.target);\n\t                }, true);\n\n\t                // Handle change for checkbox, radios and selects\n\t                form.addEventListener(\"change\", function (e) {\n\t                    var name = e.target.getAttribute(\"name\");\n\t                    if (name) {\n\t                        var inputs = form.querySelectorAll(\"[name=\\\"\" + name + \"\\\"]\");\n\t                        self._customValidationsForElements(inputs).then(function () {\n\t                            self.prepareErrors(inputs, false);\n\t                            self.showAndOrCreateTooltip(e.target, true);\n\t                        });\n\t                    }\n\t                });\n\n\t                // prevent default if form is invalid\n\t                var submitListener = (function (_submitListener) {\n\t                    var _submitListenerWrapper = function submitListener(_x) {\n\t                        return _submitListener.apply(this, arguments);\n\t                    };\n\n\t                    _submitListenerWrapper.toString = function () {\n\t                        return _submitListener.toString();\n\t                    };\n\n\t                    return _submitListenerWrapper;\n\t                })(function (e) {\n\t                    self._submitListener(e, submitListener);\n\t                });\n\t                form.addEventListener(\"submit\", submitListener);\n\n\t                Event.dispatchAndFire(form, EVENT_FORM_READY);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _submitListener: {\n\n\t            /**\n\t             * Listener that is executed on form submit\n\t             * @param e\n\t             * @param submitListener\n\t             * @returns {boolean}\n\t             * @private\n\t             */\n\n\t            value: function _submitListener(e, submitListener) {\n\n\t                var form = this.getForm(),\n\t                    self = this;\n\n\t                if (form.classList.contains(LOADING_CLASS)) {\n\t                    e.preventDefault();\n\t                    return false;\n\t                }\n\n\t                form.classList.add(LOADING_CLASS);\n\t                form.removeEventListener(\"submit\", submitListener);\n\t                this._removeElementErrors(form);\n\t                e.preventDefault();\n\t                // reset:\n\t                if (form.checkValidity()) {\n\t                    form.addEventListener(\"submit\", submitListener);\n\t                    // Custom validations did never pass\n\t                    self.currentValidationFuture = new _core.Promise(function (resolve) {\n\n\t                        var validation = self.validateCustomFields();\n\t                        validation.then(function (r) {\n\t                            // focus first invalid field:\n\t                            for (var i = 0; i < r.checkedFields.length; i++) {\n\t                                var f = r.checkedFields[i];\n\t                                if (!f.validity.valid) {\n\t                                    // Focus element and show tooltip, we explicitly showing tooltip here, because\n\t                                    // element might have focus already\n\t                                    self.showAndOrCreateTooltip(f, true);\n\t                                    f.focus();\n\t                                    break;\n\t                                }\n\t                            }\n\t                            self.prepareErrors(r.checkedFields, false);\n\t                            resolve(r);\n\t                        });\n\t                    });\n\t                    self.currentValidationFuture.then(function (r) {\n\t                        form.classList.remove(LOADING_CLASS);\n\t                        if (!r.foundAnyError) {\n\t                            // Handle submitting the form to server:\n\t                            self._handleSubmit(e);\n\t                        }\n\t                    });\n\t                } else {\n\t                    form.classList.remove(LOADING_CLASS);\n\t                    form.addEventListener(\"submit\", submitListener);\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _handleSubmit: {\n\n\t            /**\n\t             * Handles submitting, optionally allows to stop submitting\n\t             * @param e\n\t             * @private\n\t             */\n\n\t            value: function _handleSubmit(e) {\n\t                this._submitFunction(this.form, e);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return Form;\n\t})();\n\n\texports[\"default\"] = Form;\n\n\t/**\n\t * Global validators\n\t * @type {Array}\n\t */\n\tForm.globalValidators = [];\n\n\t/**\n\t * Global Remote validation function\n\t */\n\tForm.globalRemoteValidationFunction = function () {};\n\n\tForm.globalErrorMessageHandler = function () {};\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar _core = __webpack_require__(11)[\"default\"];\n\n\tvar Util = _babelHelpers.interopRequire(__webpack_require__(13));\n\n\t/**\n\t * @type {string}\n\t */\n\tvar CLASS_NAMES_TOOLTIP = \"tooltip-container\";\n\t/**\n\t * @type {string}\n\t */\n\tvar CLASS_NAMES_OPEN = \"open\";\n\n\tvar doc = global.document;\n\n\t/**\n\t * Simple Tooltip\n\t */\n\n\tvar Tooltip = (function () {\n\n\t    /**\n\t     * Creates a Tooltip\n\t     * @param {HTMLElement|String} DelegateContainer\n\t     * @param {Object} options\n\t     */\n\n\t    function Tooltip(DelegateContainer, options) {\n\t        _babelHelpers.classCallCheck(this, Tooltip);\n\n\t        /**\n\t         * The Container where possible events are captured\n\t         */\n\t        this.container = DelegateContainer instanceof HTMLElement ? DelegateContainer : doc.getElementById(DelegateContainer);\n\n\t        if (!this.container) {\n\t            throw \"Could not create Tooltip, DelegateContainer not found\";\n\t        }\n\n\t        /**\n\t         * The Container where tooltips are stored for this instance\n\t         * @type {HTMLElement}\n\t         */\n\t        this.tooltipContainer = null;\n\n\t        /**\n\t         * Default Options\n\t         */\n\t        this.options = {\n\t            containerClass: \"\"\n\t        };\n\n\t        _core.Object.assign(this.options, options);\n\t    }\n\n\t    _babelHelpers.prototypeProperties(Tooltip, null, {\n\t        createTooltip: {\n\n\t            /**\n\t             * Creates and shows a tooltip\n\t             * @param {HTMLElement} target where is this tooltip positioned\n\t             * @param {String} text text content in tooltip, will be NOT escaped\n\t             * @param {Boolean} removeTitle removes title element if given\n\t             */\n\n\t            value: function createTooltip(target, text, removeTitle) {\n\t                // abort if text is empty\n\t                var self = this;\n\t                if (!text || text && text.trim() === \"\") {\n\t                    return;\n\t                }\n\t                var tooltipContainer = this.tooltipContainer;\n\n\t                if (!tooltipContainer) {\n\t                    tooltipContainer = doc.createElement(\"div\");\n\t                    this._restoreClassNames(tooltipContainer);\n\t                    this.container.appendChild(tooltipContainer);\n\t                    this.tooltipContainer = tooltipContainer;\n\t                }\n\t                tooltipContainer.style.left = \"auto\";\n\t                tooltipContainer.style.top = \"auto\";\n\t                tooltipContainer.innerHTML = text;\n\t                tooltipContainer.flexTooltipCurrentTarget = target;\n\t                if (removeTitle) {\n\t                    target.oldTitle = text;\n\t                    target.removeAttribute(\"title\");\n\t                }\n\n\t                Util.setupPositionNearby(target, tooltipContainer, this.container, true, true);\n\n\t                tooltipContainer.classList.add(CLASS_NAMES_OPEN);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _restoreClassNames: {\n\t            value: function _restoreClassNames(container) {\n\t                container.className = [CLASS_NAMES_TOOLTIP, this.options.containerClass].join(\" \");\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        removeTooltip: {\n\n\t            /**\n\t             * Removes a Tooltip on given target\n\t             * @param {HTMLElement} target\n\t             */\n\n\t            value: function removeTooltip(target) {\n\t                if (this.tooltipContainer) {\n\t                    if (this.tooltipContainer.flexTooltipCurrentTarget !== target) {\n\t                        return;\n\t                    }\n\t                    this.tooltipContainer.classList.remove(CLASS_NAMES_OPEN);\n\t                }\n\t                if (target.oldTitle) {\n\t                    target.setAttribute(\"title\", target.oldTitle);\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        registerEvents: {\n\n\t            /**\n\t             * Initilizes mouse events on container element\n\t             */\n\n\t            value: function registerEvents() {\n\t                var self = this;\n\t                this.container.addEventListener(\"mouseover\", function (e) {\n\t                    if (e.target.hasAttribute(\"data-tooltip\")) {\n\t                        self.createTooltip(e.target, e.target.getAttribute(\"title\"), true);\n\t                    }\n\t                });\n\n\t                this.container.addEventListener(\"mouseout\", function (e) {\n\t                    if (e.target.hasAttribute(\"data-tooltip\")) {\n\t                        self.removeTooltip(e.target);\n\t                    }\n\t                });\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return Tooltip;\n\t})();\n\n\tmodule.exports = Tooltip;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar _core = __webpack_require__(11)[\"default\"];\n\n\t/*global KeyboardEvent*/\n\n\tvar Settings = _babelHelpers.interopRequire(__webpack_require__(9));\n\n\tvar Event = _babelHelpers.interopRequire(__webpack_require__(12));\n\n\tvar Util = _babelHelpers.interopRequire(__webpack_require__(13));\n\n\tvar Widget = _babelHelpers.interopRequire(__webpack_require__(4));\n\n\tvar HTML_ELEMENT = global.document.documentElement;\n\n\t/* Attribute Names */\n\tvar ATTR_CREATE_NEW = \"data-new-instance\";\n\tvar ATTR_CLOSE = \"data-close-modal\";\n\tvar ATTR_NAME = \"data-modal\";\n\n\t/* Class names */\n\tvar CLS_CONTAINER_CURRENT = \"front\";\n\tvar CLS_OPEN = \"open\";\n\tvar CLS_CURRENT = \"current\";\n\tvar CLS_PART_OF_STACK = \"part-of-stack\";\n\tvar CLS_MODAL_OPEN = \"modal-open\";\n\tvar CLS_MODAL_CONTAINER = \"modal-container\";\n\tvar CLS_ANIM_END = \"modal-anim-end\";\n\tvar CLS_LOADER_CONTAINER = \"loader-container\";\n\tvar CLS_LOADER = \"loader\";\n\t/* Events */\n\n\t/**\n\t * Event triggered when modal is closed\n\t * @type {string}\n\t */\n\tvar EVENT_MODAL_CLOSED = exports.EVENT_MODAL_CLOSED = \"flexcss.modal.closed\";\n\t/**\n\t * Event triggered before a modal is closed, cancelable\n\t * @type {string}\n\t */\n\tvar EVENT_MODAL_BEFORE_CLOSED = exports.EVENT_MODAL_BEFORE_CLOSED = \"flexcss.modal.beforeClose\";\n\t/**\n\t * Event triggered when a modal is opened\n\t * @type {string}\n\t */\n\tvar EVENT_MODAL_OPENED = exports.EVENT_MODAL_OPENED = \"flexcss.modal.opened\";\n\n\t/**\n\t * Event triggered when modal is initilized, called on target\n\t * @type {string}\n\t */\n\tvar EVENT_MODAL_INIT = exports.EVENT_MODAL_INIT = \"flexcss.modal.init\";\n\n\t/**\n\t * Triggered when the content of an async modal on a target is loaded, called on target\n\t * @type {string}\n\t */\n\tvar EVENT_MODAL_ASYNC_TARGET_LOADED = exports.EVENT_MODAL_ASYNC_TARGET_LOADED = \"flexcss.modal.asyncTargetLoaded\";\n\n\t/**\n\t * A Modal Implementation\n\t */\n\n\tvar Modal = (function () {\n\t    function Modal(DelegateContainer, options) {\n\t        _babelHelpers.classCallCheck(this, Modal);\n\n\t        var doc = global.document,\n\t            container = DelegateContainer instanceof HTMLElement ? DelegateContainer : doc.getElementById(DelegateContainer);\n\n\t        // Instance vars:\n\t        if (!container) {\n\t            throw \"Could not found container element by given ID/Element: \" + DelegateContainer;\n\t        }\n\n\t        this.currentOpen = null;\n\n\t        this.loading = false;\n\n\t        this.container = container;\n\n\t        /**\n\t         * Default Options\n\t         */\n\t        this.options = {\n\t            classNames: \"modal\",\n\t            closeOnEscape: true,\n\t            closeOnBackgroundClick: true,\n\t            destroyOnFinish: false\n\t        };\n\n\t        _core.Object.assign(this.options, options);\n\n\t        // Container where events are delegated\n\t        this.eventContainer = null;\n\t        this.eventFunction = null;\n\n\t        this.dataMainPageContainer = global.document.body;\n\n\t        this.currentScrollTop = 0;\n\n\t        this.modalContainer = null;\n\n\t        // Destroy full modal instance when no dialogs are bind to?\n\t        // Otherwise container is recycled\n\t        this.destroyOnFinish = this.options.destroyOnFinish;\n\t    }\n\n\t    _babelHelpers.prototypeProperties(Modal, null, {\n\t        _removeModalFromStack: {\n\n\t            /**\n\t             * Removes this modal from global stack\n\t             * Will handle fixing main html element too\n\t             * @private\n\t             * @param n\n\t             */\n\n\t            value: function _removeModalFromStack(n) {\n\t                var t = Modal._modalInstances.indexOf(n),\n\t                    self = this;\n\t                if (t > -1) {\n\t                    Modal._modalInstances.splice(t, 1);\n\t                    if (0 === Modal._modalInstances.length) {\n\t                        HTML_ELEMENT.classList.remove(CLS_MODAL_OPEN);\n\t                        Settings.get().scrollbarUpdateNodes.forEach(function (n) {\n\t                            // restore scrollPosition:\n\t                            if (self.dataMainPageContainer) {\n\t                                self.dataMainPageContainer.style.position = \"static\";\n\t                                self.dataMainPageContainer.style.top = \"0px\";\n\t                                // reset scrollTop\n\t                                document.documentElement.scrollTop = self.currentScrollTop;\n\t                                document.body.scrollTop = self.currentScrollTop;\n\t                            }\n\t                            n.style.paddingRight = \"\";\n\t                        });\n\t                    }\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        getModalContainer: {\n\n\t            /**\n\t             * Modal container that contains all `stacked` modals for this instance\n\t             * @returns {HTMLElement}\n\t             */\n\n\t            value: function getModalContainer() {\n\t                return this.modalContainer;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        close: {\n\n\t            /**\n\t             * Closes the current open modal of this stack\n\t             * @params [e], optional event\n\t             * @returns {*}\n\t             */\n\n\t            value: function close(e) {\n\t                var self = this;\n\n\t                // close only on keyboard if instance should\n\t                if (!self.options.closeOnEscape && e instanceof KeyboardEvent) {\n\t                    return false;\n\t                }\n\n\t                // close only on background if instance should\n\t                if (!self.options.closeOnBackgroundClick && e && e.type === Settings.CONST_TAB_EVENT && !e.target.hasAttribute(ATTR_CLOSE)) {\n\t                    return false;\n\t                }\n\n\t                // if an instance is currently loading, prevent from closing\n\t                if (self.loading) {\n\t                    return false;\n\t                }\n\n\t                if (e) {\n\t                    e.preventDefault();\n\t                }\n\n\t                if (self.currentOpen) {\n\t                    // dispatch beforeClose event, if prevented prevent modal from closing\n\t                    var ev = Event.dispatchAndFire(self.currentOpen, EVENT_MODAL_BEFORE_CLOSED);\n\t                    if (ev.defaultPrevented) {\n\t                        return false;\n\t                    }\n\n\t                    this._finishState(self.currentOpen);\n\t                    // if there is an previous modal\n\t                    if (self.currentOpen.prevModal) {\n\t                        // switch to the next modal\n\t                        return self.switchModals(self.currentOpen.prevModal, self.currentOpen.prevModal.prevModal || null);\n\t                    }\n\n\t                    // finally trigger closed event\n\t                    Event.dispatchAndFire(self.currentOpen, EVENT_MODAL_CLOSED);\n\t                }\n\t                self._removeModalFromStack(self.currentOpen);\n\n\t                // Full stack closed:\n\t                self.currentOpen = null;\n\t                if (self.modalContainer) {\n\t                    // setup next open\n\t                    var lastContainer = Modal._modalInstances[Modal._modalInstances.length - 1],\n\t                        classList = self.modalContainer.classList;\n\t                    classList.remove(CLS_CONTAINER_CURRENT);\n\t                    classList.remove(CLS_OPEN);\n\t                    // Remove all current classes from child-nodes\n\t                    for (var i = 0; i < self.modalContainer.childNodes.length; i++) {\n\t                        var node = self.modalContainer.childNodes[i],\n\t                            cl = node.classList;\n\t                        // remove applied styles\n\t                        self._finishState(node);\n\t                        cl.remove(CLS_CURRENT);\n\t                        cl.remove(CLS_PART_OF_STACK);\n\t                    }\n\t                    if (lastContainer) {\n\t                        lastContainer.parentNode.classList.add(CLS_CONTAINER_CURRENT);\n\t                    }\n\t                }\n\n\t                if (self.destroyOnFinish) {\n\t                    self.destroy();\n\t                }\n\t                return self;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _finishState: {\n\n\t            /**\n\t             * Resets a target when newly initilizes\n\t             * @param target\n\t             * @private\n\t             */\n\n\t            value: function _finishState(target) {\n\t                target.classList.remove(CLS_ANIM_END);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _finishAnim: {\n\n\t            /**\n\t             * Handler called when a Modal has finished an animation\n\t             * @param e\n\t             * @param self\n\t             * @private\n\t             */\n\n\t            value: function _finishAnim(e, self) {\n\t                e.target.classList.add(CLS_ANIM_END);\n\t                e.target.removeEventListener(e.type, self, true);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        switchModals: {\n\n\t            /**\n\t             * Brings the given modal to front\n\t             * @param co\n\t             * @param last\n\t             */\n\n\t            value: function switchModals(co, last) {\n\t                co.prevModal = last;\n\t                Modal._modalInstances.push(co);\n\n\t                if (last) {\n\t                    this._finishState(last);\n\t                    Util.prefixedAnimateEvent(last, \"AnimationEnd\", this._finishAnim);\n\t                    last.classList.add(CLS_PART_OF_STACK);\n\t                }\n\t                // set new currentOpen\n\t                this.currentOpen = co;\n\n\t                // bring current container to the front\n\t                var instances = Modal._modalInstances;\n\n\t                for (var m = 0; m < instances.length; m++) {\n\t                    instances[m].parentNode.classList.remove(CLS_CONTAINER_CURRENT);\n\t                }\n\t                this.modalContainer.classList.add(CLS_CONTAINER_CURRENT);\n\t                // remove animations if animations has been completed, fixes various bugs:\n\t                // - fixes nested scrolling element issue in iOS Browsers / Mobile-Safari\n\t                Util.prefixedAnimateEvent(co, \"AnimationEnd\", this._finishAnim);\n\n\t                for (var i = 0; i < this.modalContainer.childNodes.length; i++) {\n\t                    var n = this.modalContainer.childNodes[i],\n\t                        isCurrent = n.classList.contains(CLS_CURRENT);\n\t                    if (n === co) {\n\t                        co.classList.add(CLS_CURRENT);\n\t                        co.classList.remove(CLS_PART_OF_STACK);\n\t                        this._finishState(co);\n\t                    } else {\n\t                        n.classList.remove(CLS_CURRENT);\n\t                        if (isCurrent) {\n\t                            this._removeModalFromStack(n);\n\t                            Event.dispatchAndFire(n, EVENT_MODAL_CLOSED);\n\t                        }\n\t                    }\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        handleScrollbar: {\n\t            value: function handleScrollbar() {\n\t                var self = this;\n\t                if (0 === Modal._modalInstances.length) {\n\t                    HTML_ELEMENT.classList.add(CLS_MODAL_OPEN);\n\t                    // save current scrollTop:\n\t                    var scrollTop = global.pageYOffset,\n\t                        c = self.dataMainPageContainer;\n\t                    self.currentScrollTop = scrollTop;\n\t                    if (c) {\n\t                        c.style.top = scrollTop * -1 + \"px\";\n\t                        c.style.position = \"fixed\";\n\t                    }\n\t                    Settings.get().scrollbarUpdateNodes.forEach(function (n) {\n\t                        n.style.paddingRight = parseInt(global.getComputedStyle(n).paddingRight) + Settings.CONST_SCROLLBAR_WIDTH + \"px\";\n\t                    });\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        createWidget: {\n\n\t            /**\n\t             * Creates a Modal and opens it (later)\n\t             * @param e\n\t             * @returns {Promise|boolean}\n\t             */\n\n\t            value: function createWidget(e) {\n\t                var self = this;\n\t                if (this.loading) {\n\t                    return false;\n\t                }\n\n\t                // check if another modal has registered events on this dom path:\n\t                if (e && e.target) {\n\t                    var foundInstance = Util.parentsUntil(e.target, function (node) {\n\t                        return node && node.flexModalInstance;\n\t                    });\n\n\t                    // if another instance has been found, abort\n\t                    if (foundInstance !== this.container) {\n\t                        return false;\n\t                    }\n\t                }\n\t                var targetContent,\n\t                    future,\n\t                    widget,\n\t                    target,\n\t                    hasTarget = true,\n\t                    isHtmlElement = e instanceof HTMLElement,\n\t                    isWidget = e instanceof Widget;\n\t                if (isHtmlElement || isWidget) {\n\t                    if (isHtmlElement) {\n\t                        targetContent = e;\n\t                    } else {\n\t                        widget = e;\n\t                        targetContent = widget.element;\n\t                    }\n\t                } else {\n\t                    target = e.target;\n\t                    hasTarget = target.hasAttribute(ATTR_NAME);\n\t                    targetContent = target.getAttribute(ATTR_NAME);\n\t                    widget = Widget.findWidget(target);\n\t                    if (target.hasAttribute(ATTR_CREATE_NEW) && !e.newInstance) {\n\t                        var newInstance = new Modal(this.container).setDestroyOnFinish(true);\n\t                        e.newInstance = true;\n\t                        newInstance.fromEvent(e).then(function () {\n\t                            newInstance.registerEvents(newInstance.getModalContainer());\n\t                        });\n\t                        return false;\n\t                    }\n\t                    if (hasTarget) {\n\t                        e.stopImmediatePropagation();\n\t                        e.preventDefault();\n\t                    }\n\t                }\n\n\t                if (!hasTarget) {\n\t                    return false;\n\t                }\n\n\t                var modalContainerClasses = this.modalContainer ? this.modalContainer.classList : [];\n\n\t                // lazy create modal container\n\t                if (!this.modalContainer) {\n\t                    this.modalContainer = global.document.createElement(\"div\");\n\t                    this.modalContainer.className = CLS_MODAL_CONTAINER + \" \" + CLS_OPEN;\n\t                    var closeModalFunction = function closeModalFunction(e) {\n\t                        if (self.loading) {\n\t                            return false;\n\t                        }\n\t                        if (Util.isPartOfNode(e.target, self.currentOpen)) {\n\t                            if (!e.target.hasAttribute(ATTR_CLOSE)) {\n\t                                return false;\n\t                            }\n\t                        }\n\t                        self.close(e);\n\t                    };\n\n\t                    this.modalContainer.addEventListener(Settings.CONST_TAB_EVENT, closeModalFunction, false);\n\n\t                    modalContainerClasses = this.modalContainer.classList;\n\t                    this.container.appendChild(this.modalContainer);\n\t                } else {\n\t                    modalContainerClasses.add(CLS_OPEN);\n\t                }\n\n\t                var loader,\n\t                    doc = global.document,\n\t                    toggleLoader = function toggleLoader(show) {\n\t                    if (show) {\n\t                        loader = doc.createElement(\"div\");\n\t                        loader.className = CLS_LOADER_CONTAINER;\n\t                        var loaderLoader = doc.createElement(\"div\");\n\t                        loaderLoader.className = CLS_LOADER;\n\t                        loader.appendChild(loaderLoader);\n\t                        self.modalContainer.appendChild(loader);\n\t                    } else {\n\t                        loader.parentNode.removeChild(loader);\n\t                    }\n\t                };\n\n\t                this.handleScrollbar();\n\n\t                modalContainerClasses.add(CLS_CONTAINER_CURRENT);\n\t                modalContainerClasses.add(\"loading\");\n\t                this.loading = true;\n\t                toggleLoader(true);\n\t                var async = widget ? widget.getAsync() : null;\n\t                if (widget instanceof Widget && async) {\n\t                    future = async.then(function (r) {\n\t                        var result;\n\t                        if (r instanceof HTMLElement || r instanceof DocumentFragment) {\n\t                            result = r;\n\t                        } else {\n\t                            // Create container Element:\n\t                            var element = doc.createElement(\"div\");\n\t                            element.className = self.options.classNames;\n\t                            element.innerHTML = r;\n\t                            element.id = Util.guid();\n\t                            result = element;\n\t                        }\n\t                        widget.finalContent = result;\n\t                        Event.dispatchAndFire(target, EVENT_MODAL_ASYNC_TARGET_LOADED);\n\t                        return result;\n\t                    });\n\t                } else {\n\t                    var el = targetContent instanceof HTMLElement || targetContent instanceof DocumentFragment ? targetContent : doc.getElementById(targetContent);\n\t                    if (el) {\n\t                        future = new _core.Promise(function (resolve) {\n\t                            resolve(el);\n\t                        });\n\t                    } else {\n\t                        throw \"Could not found given modal element (content) with ID: \" + targetContent;\n\t                    }\n\t                }\n\n\t                Event.dispatchAndFire(target, EVENT_MODAL_INIT);\n\n\t                return future.then(function (el) {\n\t                    el.hfContainerInstance = self;\n\t                    self.modalContainer.appendChild(el);\n\t                    modalContainerClasses.remove(\"loading\");\n\t                    self.loading = false;\n\t                    toggleLoader(false);\n\n\t                    self.open(el, true);\n\n\t                    return el;\n\t                });\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        open: {\n\n\t            /**\n\t             * Open's an already rendered modal\n\t             * @param {HTMLElement} modal\n\t             * @param {Boolean} [internal], set to true to prevent container management\n\t             */\n\n\t            value: function open(modal, internal) {\n\n\t                if (!internal) {\n\t                    this.modalContainer.classList.add(\"open\");\n\t                    this.handleScrollbar();\n\t                }\n\t                this.switchModals(modal, this.currentOpen);\n\n\t                Event.dispatchAndFire(modal, EVENT_MODAL_OPENED);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        registerEvents: {\n\t            value: function registerEvents(delegate) {\n\t                var delegateContainer = delegate || this.container,\n\t                    self = this;\n\n\t                // register modal instance so we can detect multiple registrars\n\t                delegateContainer.flexModalInstance = self;\n\t                self.eventFunction = function () {\n\t                    self.createWidget.apply(self, arguments);\n\t                };\n\t                delegateContainer.addEventListener(Settings.CONST_TAB_EVENT, self.eventFunction, false);\n\n\t                self.eventContainer = delegateContainer;\n\t                return self;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        fromWidget: {\n\n\t            /**\n\t             * Creates a new Dialog Instance either directly from HTML Element or a Widget instance\n\t             * @param {HTMLElement|Widget} widget instance or html element\n\t             * @returns {Promise}\n\t             */\n\n\t            value: function fromWidget(widget) {\n\t                return this.createWidget(widget);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        fromEvent: {\n\n\t            /**\n\t             * Creates a Widget from event\n\t             * @param e\n\t             * @returns {Promise}\n\t             */\n\n\t            value: function fromEvent(e) {\n\t                return this.createWidget(e);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        setDestroyOnFinish: {\n\t            value: function setDestroyOnFinish(v) {\n\t                this.destroyOnFinish = v;\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        destroy: {\n\n\t            /**\n\t             * Destroy this widget instance, cleans empty DOM nodes\n\t             * Will use fast MutationObserver if available, otherwise falls back to DOMNodeRemoved event\n\t             */\n\n\t            value: function destroy() {\n\t                var self = this,\n\t                    modalContainer = this.modalContainer;\n\t                // Remove event listener on destroy, do not remove DOM node\n\t                if (self.eventContainer) {\n\t                    self.eventContainer.removeEventListener(Settings.CONST_TAB_EVENT, self.eventFunction, true);\n\t                }\n\n\t                if (0 === modalContainer.childNodes.length) {\n\t                    if (modalContainer.parentNode) {\n\t                        modalContainer.parentNode.removeChild(modalContainer);\n\t                    }\n\t                }\n\t                if (global.MutationObserver) {\n\t                    var observer = new MutationObserver(function (mutations) {\n\t                        mutations.forEach(function () {\n\t                            if (0 === modalContainer.childNodes.length) {\n\t                                modalContainer.parentNode.removeChild(modalContainer);\n\t                                observer.disconnect();\n\t                            }\n\t                        });\n\t                    });\n\t                    observer.observe(modalContainer, { childList: true });\n\t                } else {\n\t                    modalContainer.addEventListener(\"DOMNodeRemoved\", function (e) {\n\t                        if (e.target !== modalContainer && 0 === modalContainer.childNodes.length - 1) {\n\t                            modalContainer.parentNode.removeChild(modalContainer);\n\t                        }\n\t                    });\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return Modal;\n\t})();\n\n\texports[\"default\"] = Modal;\n\n\t// Static variable that keeps track of all open modals\n\tModal._modalInstances = [];\n\n\t// Global keydown listener for modal\n\tglobal.addEventListener(\"keydown\", function (e) {\n\t    \"use strict\";\n\t    if (27 === e.keyCode) {\n\t        var lastModal = Modal._modalInstances[Modal._modalInstances.length - 1];\n\t        if (lastModal) {\n\t            lastModal.hfContainerInstance.close(e);\n\t        }\n\t    }\n\t});\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar _core = __webpack_require__(11)[\"default\"];\n\n\t/**\n\t * A Widget provides async content on a specific target (e.g. a modal link)\n\t */\n\n\tvar Widget = (function () {\n\n\t    /**\n\t     * Creates a new Widget\n\t     * @param [element], optional define the content of widget\n\t     */\n\n\t    function Widget(element) {\n\t        var _this = this;\n\n\t        _babelHelpers.classCallCheck(this, Widget);\n\n\t        /**\n\t         *\n\t         * @type {Promise}\n\t         */\n\t        this.asyncContent = null;\n\n\t        if (element) {\n\t            /**\n\t             * @type {HTMLElement}\n\t             */\n\t            this.element = element instanceof HTMLElement ? element : global.document.getElementById(element);\n\t            if (this.element) {\n\t                this.element.hfWidgetInstance = this;\n\t                this.setAsync((function () {\n\t                    return new _core.Promise((function (s) {\n\t                        s(_this.element);\n\t                    }).bind(_this));\n\t                }).bind(this));\n\t            } else {\n\t                throw \"Could not found element with ID: \" + element;\n\t            }\n\t        }\n\t        /**\n\t         * The final resulted content that a widget did create (e.g. a modal container)\n\t         * @type {HTMLElement}\n\t         */\n\t        this.finalContent = null;\n\t    }\n\n\t    _babelHelpers.prototypeProperties(Widget, {\n\t        findWidget: {\n\n\t            /**\n\t             * Will find a widget on a Element\n\t             * @param {HTMLElement} element\n\t             * @returns {Widget|undefined}\n\t             */\n\n\t            value: function findWidget(element) {\n\t                return element ? element.hfWidgetInstance : undefined;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    }, {\n\t        getAsync: {\n\n\t            /**\n\t             *\n\t             * @returns {Promise}\n\t             */\n\n\t            value: function getAsync() {\n\t                return this.asyncContent();\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        setAsync: {\n\n\t            /**\n\t             * @param {() => Promise} async\n\t             * @returns {Widget}\n\t             */\n\n\t            value: function setAsync(async) {\n\t                this.asyncContent = async;\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        getFinalContent: {\n\n\t            /**\n\t             * @returns {HTMLElement}\n\t             */\n\n\t            value: function getFinalContent() {\n\t                return this.finalContent;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        setElement: {\n\t            /**\n\t             * @param {HTMLElement} element\n\t             * @returns {Widget}\n\t             */\n\n\t            value: function setElement(element) {\n\t                this.element = element;\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        destroy: {\n\n\t            /**\n\t             * Destroys the generated content of this widget\n\t             * @returns {boolean}\n\t             */\n\n\t            value: function destroy() {\n\n\t                if (this.finalContent && this.finalContent.parentNode) {\n\t                    this.finalContent.parentNode.removeChild(this.finalContent);\n\t                    return true;\n\t                }\n\n\t                delete this.element;\n\t                delete this.asyncContent;\n\t                delete this.finalContent;\n\n\t                return false;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return Widget;\n\t})();\n\n\tmodule.exports = Widget;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar _core = __webpack_require__(11)[\"default\"];\n\n\tvar Settings = _babelHelpers.interopRequire(__webpack_require__(9));\n\n\tvar Widget = _babelHelpers.interopRequire(__webpack_require__(4));\n\n\tvar Util = _babelHelpers.interopRequire(__webpack_require__(13));\n\n\tvar Event = _babelHelpers.interopRequire(__webpack_require__(12));\n\n\t/**\n\t * Event that is fired when a tab is closed\n\t * @type {string}\n\t */\n\n\tvar EVENT_TAB_CLOSED = exports.EVENT_TAB_CLOSED = \"flexcss.tab.closed\";\n\n\t/**\n\t * Event that is fired when a tab has been opened\n\t * @type {string}\n\t */\n\tvar EVENT_TAB_OPENED = exports.EVENT_TAB_OPENED = \"flexcss.tab.opened\";\n\t/**\n\t * @type {string}\n\t */\n\tvar ATTR_NAME = \"data-toggle\";\n\t/**\n\t * @type {string}\n\t */\n\tvar ACTIVE_CLASS = \"active\";\n\t/**\n\t * @type {string}\n\t */\n\tvar LOADING_CLASS = \"loading\";\n\n\t/**\n\t * @type {string}\n\t */\n\tvar ATTR_TOGGLE_LIST = \"data-toggle-list\";\n\n\t/**\n\t * Creates a toggleable element, either for tabs or a single toggle\n\t */\n\n\tvar Toggleable = (function () {\n\t    function Toggleable(ContainerId) {\n\t        _babelHelpers.classCallCheck(this, Toggleable);\n\n\t        var doc = global.document;\n\n\t        this.container = ContainerId instanceof HTMLElement ? ContainerId : doc.getElementById(ContainerId);\n\n\t        this.loading = false;\n\n\t        if (!this.container) {\n\t            throw \"Toggleable container with id \\\"\" + ContainerId + \"\\\" not found\";\n\t        }\n\t    }\n\n\t    _babelHelpers.prototypeProperties(Toggleable, {\n\t        _handleLoaded: {\n\n\t            /**\n\t             * @param el\n\t             * @private\n\t             */\n\n\t            value: function _handleLoaded(el) {\n\t                var parentClassList = el.parentNode.classList;\n\t                el.classList.remove(LOADING_CLASS);\n\t                if (parentClassList) {\n\t                    parentClassList.remove(LOADING_CLASS);\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    }, {\n\t        _listener: {\n\n\t            /**\n\t             * Listener\n\t             * @param {Event} e\n\t             * @private\n\t             */\n\n\t            value: function _listener(e) {\n\t                var target = e.target,\n\t                    parent = target.parentNode,\n\t                    doc = global.document;\n\n\t                // support target child element to clicked\n\t                if (!target.hasAttribute(ATTR_NAME)) {\n\t                    if (parent && parent.hasAttribute(ATTR_NAME)) {\n\t                        target = parent;\n\t                    } else {\n\t                        return;\n\t                    }\n\t                }\n\n\t                if (!target.hasAttribute(ATTR_NAME)) {\n\t                    return;\n\t                }\n\n\t                var refId = target.getAttribute(ATTR_NAME),\n\t                    ref = doc.getElementById(refId);\n\n\t                e.preventDefault();\n\n\t                if (this.loading) {\n\t                    return;\n\t                }\n\n\t                this.toggleTarget(ref, target);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        registerEvents: {\n\n\t            /**\n\t             * Registers Events for this instance\n\t             * @returns {Toggleable}\n\t             */\n\n\t            value: function registerEvents() {\n\t                this.container.addEventListener(Settings.CONST_TAB_EVENT, this._listener.bind(this));\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        toggleTarget: {\n\n\t            /**\n\t             * Toggles given `ref`\n\t             * @param {HTMLElement} ref\n\t             * @param {HTMLElement} [target] optional target node\n\t             */\n\n\t            value: function toggleTarget(ref, target) {\n\t                var _this = this;\n\n\t                if (!target && !ref) {\n\t                    return;\n\t                }\n\t                if (!target) {\n\t                    target = document.querySelector(\"[\" + ATTR_NAME + \"=\\\"\" + ref.id + \"\\\"]\");\n\t                }\n\n\t                var maybeToggleNode,\n\t                    future,\n\t                    elClassList = target.classList,\n\t                    parentClassList,\n\t                    parent = target.parentNode,\n\t                    doc = global.document;\n\n\t                future = new _core.Promise(function (resolve, failure) {\n\t                    if (ref) {\n\t                        resolve(ref);\n\t                    } else {\n\t                        var widget = Widget.findWidget(target),\n\t                            async = widget ? widget.getAsync() : null;\n\t                        if (widget instanceof Widget && async) {\n\t                            future = async.then(function (r) {\n\t                                if (r instanceof HTMLElement) {\n\t                                    var id = Util.guid();\n\t                                    r.id = id;\n\t                                    target.setAttribute(ATTR_NAME, id);\n\t                                    resolve(r);\n\t                                } else {\n\t                                    throw \"Dynamically creating toggle-content is not supported right now. \" + \"Return an HTMLElement instance\";\n\t                                }\n\t                            });\n\t                        } else {\n\t                            failure(\"Target not given\");\n\t                        }\n\t                    }\n\t                });\n\n\t                if (parent) {\n\t                    maybeToggleNode = Util.parentsUntil(target, function (n) {\n\t                        return n.hasAttribute(ATTR_TOGGLE_LIST);\n\t                    });\n\n\t                    parentClassList = parent.classList;\n\t                    // Abort if element is already active and if is part of a toggle list\n\t                    if (maybeToggleNode && !parentClassList.contains(ACTIVE_CLASS)) {\n\t                        parentClassList.toggle(ACTIVE_CLASS);\n\t                        parentClassList.add(LOADING_CLASS);\n\t                    } else {\n\t                        return;\n\t                    }\n\n\t                    if (maybeToggleNode) {\n\t                        for (var i = 0; i < maybeToggleNode.children.length; i++) {\n\t                            var n = maybeToggleNode.children[i],\n\t                                targetRef = n.children[0];\n\t                            if (n !== parent) {\n\t                                n.classList.remove(ACTIVE_CLASS);\n\t                                if (targetRef) {\n\t                                    var attr = targetRef.getAttribute(ATTR_NAME),\n\t                                        el = attr ? doc.getElementById(attr) : null;\n\t                                    if (el) {\n\t                                        Event.dispatchAndFire(el, EVENT_TAB_CLOSED);\n\t                                        el.classList.remove(ACTIVE_CLASS);\n\t                                        targetRef.classList.remove(ACTIVE_CLASS);\n\t                                    }\n\t                                }\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t                if (elClassList) {\n\t                    elClassList.toggle(ACTIVE_CLASS);\n\t                    elClassList.add(LOADING_CLASS);\n\t                }\n\t                this.loading = true;\n\t                future.then((function (r) {\n\t                    Event.dispatchAndFire(r, EVENT_TAB_OPENED);\n\t                    Toggleable._handleLoaded(target);\n\t                    r.classList.toggle(ACTIVE_CLASS);\n\t                    this.loading = false;\n\t                }).bind(this))[\"catch\"](function (reason) {\n\t                    _this.loading = false;\n\t                    Toggleable._handleLoaded(target);\n\t                    console.warn(reason);\n\t                });\n\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return Toggleable;\n\t})();\n\n\texports[\"default\"] = Toggleable;\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar Settings = _babelHelpers.interopRequire(__webpack_require__(9));\n\n\tvar Util = _babelHelpers.interopRequire(__webpack_require__(13));\n\n\t/**\n\t * @type {string}\n\t */\n\tvar ATTR_CLOSE_SIDEBAR = \"data-close-sidebar\";\n\t/**\n\t * @type {string}\n\t */\n\tvar TOGGLE_CLASS = \"toggled-canvas\";\n\t/**\n\t * @type {string}\n\t */\n\tvar INIT_CLASS = \"init\";\n\t/**\n\t * @type {string}\n\t */\n\tvar OPEN_CLASS = \"open\";\n\t/**\n\t * @type {number}\n\t */\n\tvar HIDE_FACTOR = 7;\n\n\t/**\n\t * A OffCanvas Implementation\n\t */\n\n\tvar OffCanvas =\n\n\t/**\n\t * Creates an off-canvas navigation\n\t * @param {HTMLElement|String} NavigationId\n\t * @param {HTMLElement|String} ToggleNavigationId\n\t * @param {HTMLElement|String} Darkener\n\t * @param {int} factor positive will expect right sidebar, positive left\n\t * @param {bool} [disableTouch] if true all touch events are disabled\n\t * @constructor\n\t */\n\tfunction OffCanvas(NavigationId, ToggleNavigationId, Darkener, factor, disableTouch) {\n\t    _babelHelpers.classCallCheck(this, OffCanvas);\n\n\t    var doc = global.document,\n\t        touched = 0,\n\t        body = doc.body,\n\t        navigationContainer = NavigationId instanceof HTMLElement ? NavigationId : doc.getElementById(NavigationId),\n\t        toggler = ToggleNavigationId instanceof HTMLElement ? ToggleNavigationId : doc.getElementById(ToggleNavigationId),\n\t        darkener = Darkener instanceof HTMLElement ? Darkener : doc.getElementById(Darkener),\n\t        DARKENER_CLASS_TOGGLE = \"toggle-\" + darkener.id || \"darkener\",\n\t        resetStyles = function resetStyles(s) {\n\t        s.transform = \"\";\n\t        s.transition = \"\";\n\t        s.webkitTransform = \"\";\n\t        s.webkitTransition = \"\";\n\t    },\n\t        shouldNotTouch = function shouldNotTouch() {\n\t        return window.innerWidth >= Settings.get().smallBreakpoint;\n\t    };\n\n\t    if (!disableTouch) {\n\t        navigationContainer.addEventListener(\"touchstart\", function (e) {\n\t            requestAnimationFrame(function () {\n\t                if (shouldNotTouch()) {\n\t                    return;\n\t                }\n\t                touched = e.touches[0].clientX;\n\t                var target = navigationContainer,\n\t                    style = target.style;\n\t                target.mustHide = false;\n\t                style.transition = \"transform 0s ease\";\n\t                style.webkitTransition = \"-webkit-transform 0s ease\";\n\t            });\n\t        });\n\t        navigationContainer.addEventListener(\"touchmove\", function (e) {\n\n\t            if (shouldNotTouch()) {\n\t                return;\n\t            }\n\t            var x = e.touches[0].clientX,\n\t                target = navigationContainer,\n\t                style = target.style,\n\t                calc = touched - x,\n\t                bounds = target.getBoundingClientRect(),\n\t                compare = factor > 0 ? calc <= 0 : calc >= 0;\n\t            if (compare) {\n\t                target.mustHide = factor > 0 ? calc * -1 > bounds.width / HIDE_FACTOR : calc > bounds.width / HIDE_FACTOR;\n\t                style.transform = \"translate3d(\" + calc * -1 + \"px,0,0)\";\n\t                style.webkitTransform = \"translate3d(\" + calc * -1 + \"px,0,0)\";\n\t            }\n\t        });\n\t        navigationContainer.addEventListener(\"touchend\", function () {\n\n\t            requestAnimationFrame(function () {\n\t                if (shouldNotTouch()) {\n\t                    return;\n\t                }\n\t                var target = navigationContainer,\n\t                    style = target.style;\n\n\t                if (target.mustHide) {\n\t                    var width = target.getBoundingClientRect().width * factor;\n\t                    style.transition = \"transform .2s ease\";\n\t                    style.webkitTransition = \"-webkit-transform .2s ease\";\n\n\t                    style.transform = \"translate3d(\" + width + \"px,0,0)\";\n\t                    style.webkitTransform = \"translate3d(\" + width + \"px,0,0)\";\n\n\t                    Util.addEventOnce(Settings.CONST_TRANSITION_EVENT, target, function () {\n\t                        // add timeout because transition event fires a little to early\n\t                        setTimeout(function () {\n\t                            resetStyles(style);\n\t                            body.classList.remove(TOGGLE_CLASS);\n\t                            body.classList.remove(DARKENER_CLASS_TOGGLE);\n\t                        }, Settings.get().darkenerFadeDelay);\n\t                    });\n\n\t                    target.classList.remove(OPEN_CLASS);\n\t                    darkener.classList.remove(INIT_CLASS);\n\t                } else {\n\t                    resetStyles(style);\n\t                }\n\t            });\n\t        });\n\t    }\n\t    var togglerF = function togglerF(e) {\n\t        e.preventDefault();\n\t        var bodyClass = body.classList,\n\t            darkenerClass = darkener.classList;\n\t        if (navigationContainer.classList.contains(OPEN_CLASS)) {\n\t            Util.addEventOnce(Settings.CONST_TRANSITION_EVENT, navigationContainer, function () {\n\t                // add timeout because transition event fires a little to early\n\t                setTimeout(function () {\n\t                    bodyClass.remove(TOGGLE_CLASS);\n\t                    bodyClass.remove(DARKENER_CLASS_TOGGLE);\n\t                }, Settings.get().darkenerFadeDelay);\n\t            });\n\t            navigationContainer.classList.remove(OPEN_CLASS);\n\t            darkener.classList.remove(INIT_CLASS);\n\t        } else {\n\t            bodyClass.add(TOGGLE_CLASS);\n\t            bodyClass.add(DARKENER_CLASS_TOGGLE);\n\t            darkenerClass.add(INIT_CLASS);\n\t            navigationContainer.classList.add(OPEN_CLASS);\n\t        }\n\t    };\n\t    toggler.addEventListener(\"touchstart\", function (e) {\n\t        e.target.oldClassNames = e.target.className;\n\t        e.target.className = \"active \" + e.target.oldClassNames;\n\t    });\n\n\t    toggler.addEventListener(\"touchend\", function (e) {\n\t        e.target.className = e.target.oldClassNames;\n\t    });\n\n\t    toggler.addEventListener(Settings.CONST_TAB_EVENT, togglerF);\n\n\t    darkener.addEventListener(Settings.CONST_TAB_EVENT, function (e) {\n\t        if (navigationContainer.classList.contains(OPEN_CLASS)) {\n\t            e.preventDefault();\n\t            togglerF(e);\n\t        }\n\t    });\n\n\t    navigationContainer.addEventListener(Settings.CONST_TAB_EVENT, function (e) {\n\t        if (e.target.hasAttribute(ATTR_CLOSE_SIDEBAR)) {\n\t            e.preventDefault();\n\t            togglerF(e);\n\t        }\n\t    });\n\t};\n\n\tmodule.exports = OffCanvas;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar _core = __webpack_require__(11)[\"default\"];\n\n\tvar Util = _babelHelpers.interopRequire(__webpack_require__(13));\n\n\tvar Settings = _babelHelpers.interopRequire(__webpack_require__(9));\n\n\tvar Event = _babelHelpers.interopRequire(__webpack_require__(12));\n\n\tvar Widget = _babelHelpers.interopRequire(__webpack_require__(4));\n\n\t/**\n\t * @type {string}\n\t */\n\tvar ATTR_CC = \"data-collision-container\";\n\t/**\n\t * @type {string}\n\t */\n\tvar ATTR_DARKENER = \"data-darkener-container\";\n\t/**\n\t * @type {string}\n\t */\n\tvar DARKENER_INIT = \"init\";\n\t/**\n\t * @type {string}\n\t */\n\tvar ATTR_DATA_TARGET = \"data-target\";\n\t/**\n\t * @type {string}\n\t */\n\tvar ATTR_CLOSE_DROPDOWN = \"data-close-dropdown\";\n\t/**\n\t * @type {string}\n\t */\n\tvar ATTR_NAME = \"data-dropdown\";\n\t/**\n\t * @type {string}\n\t */\n\tvar STATE_LOADING = \"loading\";\n\n\tvar CLS_DARKENER_DROPDOWN = \"darkener-dropdown\";\n\t/**\n\t * @type {string}\n\t */\n\tvar CLS_OPEN = \"open\";\n\n\t/**\n\t * @type {string}\n\t */\n\tvar CLS_DROPDOWN = \"dropdown\";\n\n\t/**\n\t * @type {string}\n\t */\n\tvar EVENT_DROPDOWN_CLOSED = exports.EVENT_DROPDOWN_CLOSED = \"flexcss.dropdown.closed\";\n\n\t/**\n\t * A Dropdown\n\t */\n\n\tvar Dropdown = (function () {\n\t    function Dropdown(DelegateContainer, Darkener) {\n\t        _babelHelpers.classCallCheck(this, Dropdown);\n\n\t        var doc = global.document;\n\n\t        /**\n\t         * Container Element\n\t         * @type {HTMLElement}\n\t         */\n\t        this.container = DelegateContainer instanceof HTMLElement ? DelegateContainer : doc.getElementById(DelegateContainer);\n\n\t        this.currentOpen = null;\n\t        /**\n\t         * @type {HTMLElement}\n\t         */\n\t        this.darkener = Darkener instanceof HTMLElement ? Darkener : document.getElementById(Darkener);\n\n\t        this.destroyOnClose = false;\n\n\t        if (!this.darkener || !this.container) {\n\t            throw \"required elements not found (darkener and container element)\";\n\t        }\n\t    }\n\n\t    _babelHelpers.prototypeProperties(Dropdown, null, {\n\t        _delegateFunction: {\n\n\t            /**\n\t             * Method that handles delegation events for dropdowns\n\t             * @param e\n\t             * @returns {*}\n\t             * @private\n\t             */\n\n\t            value: function _delegateFunction(e) {\n\t                var currentOpen = this.currentOpen;\n\t                if (currentOpen && !Util.isPartOfNode(e.target, currentOpen)) {\n\t                    this.close();\n\t                    return this._delegateFunction(e);\n\t                }\n\t                var targetHas = e.target.hasAttribute(ATTR_NAME),\n\t                    parentHas = e.target.parentNode ? e.target.parentNode.hasAttribute(ATTR_NAME) : false,\n\t                    target = targetHas ? e.target : e.target.parentNode;\n\n\t                if (targetHas || parentHas && !currentOpen) {\n\t                    e.preventDefault();\n\t                    e.stopImmediatePropagation();\n\n\t                    if (target.isLoading) {\n\t                        return;\n\t                    }\n\t                    this.createDropdown(target);\n\t                } else {\n\t                    if (currentOpen) {\n\t                        if (e.target.hasAttribute(ATTR_CLOSE_DROPDOWN)) {\n\t                            e.preventDefault();\n\t                            this.close();\n\t                        }\n\t                        if (!Util.isPartOfNode(e.target, currentOpen)) {\n\t                            this.close();\n\t                        }\n\t                    }\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        registerEvents: {\n\n\t            /**\n\t             * Register Events for this dropdown container\n\t             * @returns {Dropdown}\n\t             */\n\n\t            value: function registerEvents() {\n\t                this.container.addEventListener(Settings.CONST_TAB_EVENT, this._delegateFunction.bind(this), true);\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        destroy: {\n\n\t            /**\n\t             * Destroys this instance, unbinds events\n\t             * @returns {Dropdown}\n\t             */\n\n\t            value: function destroy() {\n\t                this.container.removeEventListener(Settings.CONST_TAB_EVENT, this._delegateFunction.bind(this), true);\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        setDestroyOnClose: {\n\n\t            /**\n\t             * Destroys instance on close of dropdown\n\t             * @param v\n\t             * @returns {Dropdown}\n\t             */\n\n\t            value: function setDestroyOnClose(v) {\n\t                this.destroyOnClose = v;\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        toggleDarkenerToggler: {\n\n\t            /**\n\t             * Will add the right class to container for specific darkener id\n\t             * @param instance\n\t             * @param show\n\t             */\n\n\t            value: function toggleDarkenerToggler(instance, show) {\n\t                var cls = \"toggle-\" + (instance.id || CLS_DARKENER_DROPDOWN),\n\t                    classList = this.container.classList;\n\t                if (show) {\n\t                    classList.add(cls);\n\t                } else {\n\t                    classList.remove(cls);\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        close: {\n\n\t            /**\n\t             * Closes Dropdown on current instance\n\t             * @return {Boolean|Promise}\n\t             */\n\n\t            value: function close() {\n\t                var _this = this;\n\n\t                var currentOpen = this.currentOpen;\n\t                if (!currentOpen) {\n\t                    return false;\n\t                }\n\t                var future,\n\t                    darkenerInstance = currentOpen.flexDarkenerInstance || this.darkener,\n\t                    thisCurrentOpen = currentOpen;\n\n\t                future = new _core.Promise(function (resolve) {\n\t                    if (window.getComputedStyle(currentOpen).position === \"fixed\") {\n\t                        Util.addEventOnce(Settings.CONST_TRANSITION_EVENT, currentOpen, (function () {\n\t                            setTimeout((function () {\n\t                                Event.dispatchAndFire(thisCurrentOpen, EVENT_DROPDOWN_CLOSED);\n\t                                // if a new dropdown has been opened in the meantime, do not remove darkener\n\t                                if (null !== this.currentOpen) {\n\t                                    return;\n\t                                }\n\t                                this.toggleDarkenerToggler(darkenerInstance, false);\n\t                                this.container.classList.remove(Settings.CONST_CANVAS_TOGGLE);\n\t                                resolve(true);\n\t                            }).bind(this), Settings.get().darkenerFadeDelay);\n\t                        }).bind(_this));\n\t                    } else {\n\t                        resolve(true);\n\t                        Event.dispatchAndFire(thisCurrentOpen, EVENT_DROPDOWN_CLOSED);\n\t                    }\n\t                });\n\n\t                currentOpen.classList.remove(CLS_OPEN);\n\n\t                if (currentOpen.flexDarkenerInstance) {\n\t                    currentOpen.flexDarkenerInstance.classList.remove(DARKENER_INIT);\n\t                } else {\n\t                    this.darkener.classList.remove(DARKENER_INIT);\n\t                }\n\n\t                this.currentOpen = null;\n\n\t                if (this.destroyOnClose) {\n\t                    this.destroy();\n\t                }\n\n\t                return future;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        createDropdown: {\n\n\t            /**\n\t             * Creates a dropdown on given target and opens it\n\t             * @param {HTMLElement} target target where this dropdown is placed\n\t             * @param {FlexCss.Widget} [thisWidget] if given will use widget instead of widget instance\n\t             * @return {FlexCss.Dropdown}\n\t             */\n\n\t            value: function createDropdown(target, thisWidget) {\n\t                var doc = global.document;\n\n\t                if (!target) {\n\t                    throw \"Dropdown target not found\";\n\t                }\n\n\t                var widget = thisWidget || Widget.findWidget(target),\n\t                    future,\n\t                    data = target.getAttribute(ATTR_NAME),\n\t                    dropdownContainerElement = doc.getElementById(data),\n\t                    async = !dropdownContainerElement && widget instanceof Widget ? widget.getAsync() : false;\n\n\t                if (async) {\n\t                    target.classList.add(STATE_LOADING);\n\t                    target.isLoading = true;\n\t                    future = async.then(function (r) {\n\t                        if (r instanceof HTMLElement) {\n\t                            if (r.id) {\n\t                                target.setAttribute(ATTR_NAME, r.id);\n\t                            }\n\t                            return r;\n\t                        } else {\n\t                            // Create container Element:\n\t                            var element = doc.createElement(\"div\");\n\t                            element.className = CLS_DROPDOWN;\n\t                            element.innerHTML = r;\n\t                            element.id = Util.guid();\n\t                            // Cache target for later use:\n\t                            target.setAttribute(ATTR_NAME, element.id);\n\t                            this.container.appendChild(element);\n\t                            return element;\n\t                        }\n\t                    }).then(function (r) {\n\t                        target.isLoading = false;\n\t                        target.classList.remove(STATE_LOADING);\n\t                        return r;\n\t                    });\n\t                } else {\n\t                    if (!dropdownContainerElement) {\n\t                        throw \"Could not found Dropdown container with ID \\\"\" + data + \"\\\"\";\n\t                    }\n\t                    future = new _core.Promise(function (r) {\n\t                        r(dropdownContainerElement);\n\t                    });\n\t                }\n\n\t                future.then((function (dropdownContent) {\n\t                    if (this.currentOpen) {\n\t                        this.close();\n\t                    }\n\t                    // Skip one frame to show animation\n\t                    target.dropdownContent = dropdownContent;\n\t                    var isAbsolute = global.getComputedStyle(dropdownContent).position === \"absolute\";\n\n\t                    if (!target.flexCollisionContainer) {\n\t                        var collisionC = target.getAttribute(ATTR_CC);\n\t                        target.flexCollisionContainer = collisionC ? doc.getElementById(collisionC) || document.body : document.body;\n\t                    }\n\n\t                    dropdownContent.classList.toggle(CLS_OPEN);\n\t                    if (dropdownContent.classList.contains(CLS_OPEN)) {\n\t                        this.currentOpen = dropdownContent;\n\t                    }\n\t                    if (isAbsolute) {\n\t                        // Check collision:\n\t                        var selfTarget = target.getAttribute(ATTR_DATA_TARGET);\n\t                        selfTarget = selfTarget ? doc.getElementById(selfTarget) : target;\n\t                        Util.setupPositionNearby(selfTarget, dropdownContent, target.flexCollisionContainer);\n\t                    } else {\n\t                        this.container.classList.add(Settings.CONST_CANVAS_TOGGLE);\n\t                        // optionally get custom darkener container for target\n\t                        var d = target.getAttribute(ATTR_DARKENER);\n\t                        if (d) {\n\t                            dropdownContent.flexDarkenerInstance = doc.getElementById(d);\n\t                            (dropdownContent.flexDarkenerInstance || this.darkener).classList.toggle(DARKENER_INIT);\n\t                        } else {\n\t                            this.darkener.classList.toggle(DARKENER_INIT);\n\t                        }\n\n\t                        this.toggleDarkenerToggler(dropdownContent.flexDarkenerInstance || this.darkener, true);\n\n\t                        dropdownContent.style.left = \"0\";\n\t                        dropdownContent.style.top = \"auto\";\n\t                    }\n\t                }).bind(this));\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return Dropdown;\n\t})();\n\n\texports[\"default\"] = Dropdown;\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar _core = __webpack_require__(11)[\"default\"];\n\n\t/* global Image, TouchEvent*/\n\n\tvar _Modal = __webpack_require__(3);\n\n\tvar Modal = _babelHelpers.interopRequire(_Modal);\n\n\tvar EVENT_MODAL_CLOSED = _Modal.EVENT_MODAL_CLOSED;\n\n\tvar Settings = _babelHelpers.interopRequire(__webpack_require__(9));\n\n\tvar Widget = _babelHelpers.interopRequire(__webpack_require__(4));\n\n\tvar ATTR_MAX_WIDTH = \"data-original-width\";\n\tvar ATTR_MAX_HEIGHT = \"data-original-height\";\n\tvar ATTR_SRC = \"data-src\";\n\n\tvar CLS_HAS_PREV = \"has-prev\";\n\tvar CLS_HAS_NEXT = \"has-next\";\n\tvar CLS_LOADING = \"loading\";\n\n\tvar ATTR_NO_THUMBNAIL = \"data-no-thumbnail\";\n\tvar ATTR_DATA_HREF = \"data-href\";\n\tvar ATTR_HREF = \"href\";\n\n\tvar KEY_NEXT = 39;\n\tvar KEY_PREV = 37;\n\tvar ATTR_CLOSE = \"data-close-modal\";\n\t/**\n\t * A Simple LightBox\n\t */\n\n\tvar LightBox = (function () {\n\n\t    /**\n\t     * Creates a new Lightbox\n\t     * @param DelegateContainer\n\t     * @param AttributeSelector\n\t     * @param ModalAppend\n\t     * @param [options]\n\t     */\n\n\t    function LightBox(DelegateContainer, AttributeSelector, ModalAppend, options) {\n\t        _babelHelpers.classCallCheck(this, LightBox);\n\n\t        var thisDelegateContainer = DelegateContainer instanceof HTMLElement ? DelegateContainer : document.getElementById(DelegateContainer);\n\n\t        this._modalAppend = ModalAppend || DelegateContainer;\n\t        /**\n\t         * @type {Function}\n\t         */\n\t        this._resizeEvent = null;\n\t        /**\n\t         * @type {Function}\n\t         */\n\t        this._keyboardNextEvent = null;\n\t        /**\n\t         * @type {Promise}\n\t         */\n\t        this._future = null;\n\t        /**\n\t         * @type {Promise}\n\t         */\n\t        this._nextFuture = this._future;\n\t        /**\n\t         * @type {HTMLElement}\n\t         */\n\t        this._imageContainer = null;\n\t        /**\n\t         * @type {HTMLElement}\n\t         */\n\t        this._modalContainerDiv = null;\n\t        /**\n\t         * @type {HTMLElement}\n\t         */\n\t        this._contentContainer = null;\n\t        /**\n\t         * @type {HTMLElement}\n\t         */\n\t        this._closerContainerDiv = null;\n\t        /**\n\t         * @type {HTMLElement}\n\t         */\n\t        this._delegateContainer = thisDelegateContainer;\n\t        /**\n\t         * @type {HTMLElement}\n\t         */\n\t        this._attributeSelector = AttributeSelector;\n\t        /**\n\t         * @type {Widget}\n\t         */\n\t        this._widget = null;\n\t        /**\n\t         * @type {boolean}\n\t         */\n\t        this._isOpen = false;\n\t        /**\n\t         * @type {HTMLElement}\n\t         */\n\t        this.target = null;\n\t        /**\n\t         * @type {HTMLElement}\n\t         */\n\t        this.img = null;\n\t        /**\n\t         * @type {boolean}\n\t         */\n\t        this._isLoading = false;\n\n\t        /**\n\t         * Default options\n\t         */\n\t        this.options = {\n\t            // set if prev and next should be available\n\t            registerPrevNextEvents: true,\n\t            // set if modal should be closed after last image\n\t            closeOnLast: true,\n\t            // called when next image is requested (either by keyboard or click\n\t            onNext: function onNext() {\n\t                return true;\n\t            },\n\t            onClose: function onClose() {},\n\t            // called when underlying target changed\n\t            onSwitchImage: function onSwitchImage() {}\n\t        };\n\n\t        _core.Object.assign(this.options, options);\n\t    }\n\n\t    _babelHelpers.prototypeProperties(LightBox, {\n\t        _setupMaxWidthHeight: {\n\n\t            /**\n\t             * Setup max-width and max-height\n\t             * @param {HTMLElement} target\n\t             * @param {HTMLElement} img\n\t             * @param {HTMLElement} loadedImage\n\t             * @private\n\t             */\n\n\t            value: function _setupMaxWidthHeight(target, img, loadedImage) {\n\t                var nextMaxWidth = target.getAttribute(ATTR_MAX_WIDTH),\n\t                    nextMaxHeight = target.getAttribute(ATTR_MAX_HEIGHT);\n\t                if (nextMaxWidth && nextMaxHeight) {\n\t                    img.style.maxWidth = nextMaxWidth + \"px\";\n\t                    img.style.maxHeight = nextMaxHeight + \"px\";\n\t                } else {\n\t                    img.style.maxWidth = loadedImage.width + \"px\";\n\t                    img.style.maxHeight = loadedImage.height + \"px\";\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    }, {\n\t        getNext: {\n\n\t            /**\n\t             * Will fetch the next element of a lightBox\n\t             * @param target\n\t             * @returns {*}\n\t             */\n\n\t            value: function getNext(target) {\n\t                var next = target.parentNode.nextElementSibling;\n\t                if (next && next.children[0].hasAttribute(this._attributeSelector)) {\n\t                    return next.children[0];\n\t                }\n\t                return null;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        getPrev: {\n\n\t            /**\n\t             * Will fetch the previous element of a lightBox\n\t             * @param {HTMLElement} target\n\t             * @returns {null|HTMLElement}\n\t             */\n\n\t            value: function getPrev(target) {\n\t                var previous = target.parentNode.previousElementSibling;\n\t                if (previous && previous.children[0].hasAttribute(this._attributeSelector)) {\n\t                    return previous.children[0];\n\t                }\n\t                return null;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        registerEvents: {\n\n\t            /**\n\t             * Registers events for delegate container\n\t             */\n\n\t            value: function registerEvents(onOpen) {\n\t                this._delegateContainer.addEventListener(Settings.CONST_TAB_EVENT, (function (e) {\n\t                    var target = e.target,\n\t                        parent = target.parentNode,\n\t                        validTarget = target.hasAttribute(this._attributeSelector),\n\t                        parentIsValid = parent && parent.hasAttribute(this._attributeSelector);\n\t                    if (!validTarget && parentIsValid) {\n\t                        validTarget = true;\n\t                        target = parent;\n\t                    }\n\t                    if (validTarget) {\n\t                        e.preventDefault();\n\t                        this.open(target).then((function (r) {\n\t                            if (onOpen) {\n\t                                onOpen.apply(this, [r, target]);\n\t                            }\n\t                        }).bind(this));\n\t                    }\n\t                }).bind(this));\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        getContentContainer: {\n\n\t            /**\n\t             * @returns {HTMLElement}\n\t             */\n\n\t            value: function getContentContainer() {\n\t                return this._contentContainer;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        switchImageByDirection: {\n\n\t            /**\n\t             * Switches to the next image\n\t             * @param {boolean} direction\n\t             */\n\n\t            value: function switchImageByDirection(direction) {\n\t                var next = direction ? this.getPrev(this.target) : this.getNext(this.target);\n\t                if (this.options.onNext.apply(this, [next])) {\n\t                    return this.switchImage(next);\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        isLoading: {\n\n\t            /**\n\t             * Checks if lightbox is currently loading\n\t             * @returns {boolean}\n\t             */\n\n\t            value: function isLoading() {\n\t                return this._isLoading;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _runOptionalClose: {\n\n\t            /**\n\t             * Checks if modal should be closed\n\t             * @private\n\t             */\n\n\t            value: function _runOptionalClose() {\n\t                if (this.options.closeOnLast) {\n\t                    this.modal.close();\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _setupPrevNextStates: {\n\t            value: function _setupPrevNextStates() {\n\t                var target = this.target,\n\t                    hasPrev = this.getPrev(target),\n\t                    hasNext = this.getNext(target),\n\t                    hasPrevClass = CLS_HAS_PREV,\n\t                    hasNextClass = CLS_HAS_NEXT;\n\t                // because IE does not support the second toggle parameter, we need to do this manually\n\t                if (hasPrev) {\n\t                    this._imageContainer.classList.add(hasPrevClass);\n\t                } else {\n\t                    this._imageContainer.classList.remove(hasPrevClass);\n\t                }\n\t                if (hasNext) {\n\t                    this._imageContainer.classList.add(hasNextClass);\n\t                } else {\n\t                    this._imageContainer.classList.remove(hasNextClass);\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _calculateContainer: {\n\n\t            /**\n\t             * @param img\n\t             * @private\n\t             */\n\n\t            value: function _calculateContainer(img) {\n\t                if (Settings.isIE()) {\n\t                    setTimeout((function () {\n\t                        this._imageContainer.style.height = img.offsetHeight + \"px\";\n\t                    }).bind(this), 0);\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        switchImage: {\n\n\t            /**\n\t             * Switch to a specific image\n\t             * @param next\n\t             * @returns {*}\n\t             */\n\n\t            value: function switchImage(next) {\n\t                var _this = this;\n\n\t                var self = this,\n\t                    img = this.img;\n\t                this._isLoading = true;\n\t                self._nextFuture = new _core.Promise((function (resolve, reject) {\n\t                    // notify observers about image switching\n\t                    self.options.onSwitchImage.apply(self, [self._nextFuture]);\n\t                    if (next) {\n\t                        var nextThumb = next.hasAttribute(ATTR_NO_THUMBNAIL) ? next : next.children[0] || next,\n\t                            nextHighRes = next.getAttribute(ATTR_DATA_HREF) || next.getAttribute(ATTR_HREF),\n\t                            nextSource = nextThumb.getAttribute(ATTR_SRC) || nextThumb.src || nextHighRes,\n\t                            nextImgObject = new Image();\n\n\t                        if (!nextSource) {\n\t                            reject(next);\n\t                            return;\n\t                        }\n\t                        // set new target to next element\n\t                        _this.target = next;\n\t                        nextImgObject.src = nextSource;\n\t                        self._imageContainer.classList.add(CLS_LOADING);\n\t                        nextImgObject.addEventListener(\"load\", (function () {\n\t                            img.src = nextSource;\n\t                            self._imageContainer.style.backgroundImage = \"url(\" + nextSource + \")\";\n\t                            LightBox._setupMaxWidthHeight(nextThumb, img, nextImgObject);\n\t                            self._calculateContainer(img);\n\t                            self.highRes(nextThumb, nextHighRes);\n\t                            self._setupPrevNextStates();\n\t                            self._imageContainer.classList.remove(CLS_LOADING);\n\t                            this._isLoading = false;\n\t                            resolve(nextSource, this.target);\n\t                        }).bind(_this));\n\t                    } else {\n\t                        reject(_this);\n\t                    }\n\t                }).bind(this));\n\t                return self._nextFuture;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        highRes: {\n\n\t            /**\n\t             * Setup High-Resolution picture\n\t             * @param {HTMLElement} thisThumbnail\n\t             * @param {String} thisImgHighResolution\n\t             */\n\n\t            value: function highRes(thisThumbnail, thisImgHighResolution) {\n\n\t                if (thisImgHighResolution && thisThumbnail.src !== thisImgHighResolution) {\n\t                    var highImageObj = new Image();\n\t                    highImageObj.src = thisImgHighResolution;\n\t                    highImageObj.addEventListener(\"load\", (function () {\n\t                        // if current image is still available\n\t                        if (this._getSrc(thisThumbnail) === this.img.src) {\n\t                            this.img.src = thisImgHighResolution;\n\t                            this._imageContainer.style.backgroundImage = \"url(\" + thisImgHighResolution + \")\";\n\t                        }\n\t                    }).bind(this));\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        _getSrc: {\n\n\t            /**\n\t             * Extracts the source of an image\n\t             * @param target\n\t             * @returns {String|null}\n\t             * @private\n\t             */\n\n\t            value: function _getSrc(target) {\n\t                return target.getAttribute(ATTR_SRC) || target.src;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        open: {\n\n\t            /**\n\t             * Will show a lightBox on given target\n\t             * @param {HTMLElement} target\n\t             * @returns {$.Deferred|*}\n\t             */\n\n\t            value: function open(target) {\n\t                var self = this;\n\n\t                if (!target) {\n\t                    return false;\n\t                }\n\n\t                this.target = target;\n\n\t                // if lightBox is open, we just switch to the new target image\n\t                if (this._isOpen && target) {\n\t                    return this.switchImage(target).then((function () {\n\t                        return this;\n\t                    }).bind(this));\n\t                }\n\n\t                this._isOpen = true;\n\n\t                /**\n\t                 * Setup Widget for modal\n\t                 * @type {Widget}\n\t                 */\n\t                this._widget = new Widget().setAsync((function () {\n\t                    var _this = this;\n\n\t                    // thumbnail is either target itself or expected to be first childNode\n\t                    var thumbnail = target.hasAttribute(ATTR_NO_THUMBNAIL) ? target : target.children[0] || target;\n\n\t                    var imgHighResolution = target.getAttribute(ATTR_DATA_HREF) || target.getAttribute(ATTR_HREF),\n\t                        imgSrc = this._getSrc(thumbnail) || imgHighResolution;\n\n\t                    var imageObj = new Image();\n\t                    imageObj.src = imgSrc;\n\t                    this._imageContainer = document.createElement(\"div\");\n\t                    this._modalContainerDiv = document.createElement(\"div\");\n\t                    this._closerContainerDiv = document.createElement(\"i\");\n\t                    this._contentContainer = document.createElement(\"div\");\n\n\t                    this._closerContainerDiv.className = \"modal-close modal-close-lightbox icon-cancel-1\";\n\t                    this._closerContainerDiv.setAttribute(ATTR_CLOSE, ATTR_CLOSE);\n\n\t                    this._modalContainerDiv.className = \"modal image-modal\";\n\t                    this._modalContainerDiv.appendChild(this._imageContainer);\n\t                    this._modalContainerDiv.appendChild(this._contentContainer);\n\t                    this._modalContainerDiv.appendChild(this._closerContainerDiv);\n\t                    this._contentContainer.className = \"content-container\";\n\t                    this._isLoading = true;\n\t                    this._future = new _core.Promise((function (resolve) {\n\t                        imageObj.addEventListener(\"load\", (function () {\n\t                            this._imageContainer.className = \"image-container\";\n\t                            var img = document.createElement(\"img\");\n\t                            // current image\n\t                            this.img = img;\n\n\t                            img.src = imgSrc;\n\t                            LightBox._setupMaxWidthHeight(target, img, imageObj);\n\t                            this._imageContainer.appendChild(img);\n\t                            this._imageContainer.style.backgroundImage = \"url(\" + imgSrc + \")\";\n\n\t                            resolve(self._modalContainerDiv);\n\t                            this._isLoading = false;\n\n\t                            if (Settings.isIE()) {\n\t                                self._resizeEvent = global.addEventListener(\"resize\", function () {\n\t                                    setTimeout(function () {\n\t                                        self._imageContainer.style.height = img.offsetHeight + \"px\";\n\t                                    }, 0);\n\t                                });\n\t                            }\n\n\t                            if (self.options.registerPrevNextEvents) {\n\t                                self._setupPrevNextStates();\n\t                                // prev or next on touch/click\n\t                                self._imageContainer.addEventListener(Settings.CONST_TAB_EVENT, function (e) {\n\t                                    if (self.isLoading()) {\n\t                                        return;\n\t                                    }\n\t                                    e.preventDefault();\n\n\t                                    var ev = e;\n\t                                    var pageX = global.TouchEvent && ev instanceof TouchEvent ? ev.changedTouches[0].pageX : ev.pageX;\n\t                                    var rect = self._imageContainer.getBoundingClientRect(),\n\t                                        imgX = rect.left,\n\t                                        wrapperWidth = rect.width,\n\t                                        posX = pageX - imgX;\n\n\t                                    self.switchImageByDirection(wrapperWidth / 2 > posX)[\"catch\"](function () {\n\t                                        self._runOptionalClose();\n\t                                    });\n\t                                });\n\n\t                                // register keyboard events\n\t                                self._keyboardNextEvent = function (e) {\n\t                                    if (e.keyCode === KEY_NEXT || e.keyCode === KEY_PREV) {\n\t                                        if (self.isLoading()) {\n\t                                            return;\n\t                                        }\n\t                                        self.switchImageByDirection(e.keyCode === KEY_PREV)[\"catch\"](function () {\n\t                                            self._runOptionalClose();\n\t                                        });\n\t                                    }\n\t                                };\n\t                                global.addEventListener(\"keydown\", self._keyboardNextEvent);\n\t                            } else {\n\t                                self._imageContainer.addEventListener(Settings.CONST_TAB_EVENT, function () {\n\t                                    self._runOptionalClose();\n\t                                });\n\t                            }\n\n\t                            self.highRes(thumbnail, imgHighResolution);\n\t                        }).bind(_this));\n\t                    }).bind(this));\n\t                    this._future.then(function () {\n\t                        self._calculateContainer(this.img);\n\t                    });\n\t                    self._modalContainerDiv.addEventListener(EVENT_MODAL_CLOSED, (function () {\n\t                        // cleanup:\n\t                        this._modalContainerDiv.parentNode.removeChild(this._modalContainerDiv);\n\t                        this.options.onClose.apply(self);\n\t                        this._isOpen = false;\n\t                        this.modal.destroy();\n\t                        // unbind events\n\t                        if (this._keyboardNextEvent) {\n\t                            global.removeEventListener(\"keydown\", self._keyboardNextEvent);\n\t                        }\n\t                        if (this._resizeEvent) {\n\t                            global.removeEventListener(\"resize\", self._resizeEvent);\n\t                        }\n\t                    }).bind(this));\n\n\t                    return this._future;\n\t                }).bind(this));\n\n\t                this._nextFuture = this._future;\n\n\t                if (self._widget) {\n\t                    this.modal = new Modal(this._modalAppend);\n\t                    // make sure we close stack before\n\t                    return this.modal.close().fromWidget(self._widget).then(function () {\n\t                        return self._future.then(function () {\n\t                            return self;\n\t                        });\n\t                    });\n\t                } else {\n\t                    return false;\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return LightBox;\n\t})();\n\n\tmodule.exports = LightBox;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar _core = __webpack_require__(11)[\"default\"];\n\n\tvar Util = _babelHelpers.interopRequire(__webpack_require__(13));\n\n\t/**\n\t * Global Settings\n\t */\n\tvar GLOBAL_SETTINGS = {\n\t    // defined breakpoint for small devices < n\n\t    smallBreakpoint: 768,\n\t    // nodes that should be updated when no scrollbar is expected\n\t    scrollbarUpdateNodes: [global.document.body],\n\t    // additional Delay until darkener is fully hidden\n\t    darkenerFadeDelay: 100\n\t};\n\n\t/**\n\t * Utility class that setups global settings\n\t */\n\n\tvar Settings = (function () {\n\t    function Settings() {\n\t        _babelHelpers.classCallCheck(this, Settings);\n\t    }\n\n\t    _babelHelpers.prototypeProperties(Settings, {\n\t        setup: {\n\n\t            /**\n\t             * Setup global settings, overwrite default values\n\t             * @param {Object} settings\n\t             */\n\n\t            value: function setup(settings) {\n\t                _core.Object.assign(GLOBAL_SETTINGS, settings);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        get: {\n\n\t            /**\n\t             * Access to global settings\n\t             * @returns {Object}\n\t             */\n\n\t            value: function get() {\n\t                return GLOBAL_SETTINGS;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        isIosDevice: {\n\n\t            /**\n\t             * Detects a IOS Device, caches subsequent calls\n\t             * @returns {boolean}\n\t             */\n\n\t            value: function isIosDevice() {\n\t                if (!Settings._CONST_IS_IOS) {\n\t                    Settings._CONST_IS_IOS = global.navigator.userAgent.match(/(iPad|iPhone|iPod)/i);\n\t                }\n\n\t                return Settings._CONST_IS_IOS;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        isTouchDevice: {\n\n\t            /**\n\t             * Detects a touch device, caches subsequent calls\n\t             * @returns {boolean}\n\t             */\n\n\t            value: function isTouchDevice() {\n\t                if (!Settings._CONST_IS_TOUCH) {\n\t                    Settings._CONST_IS_TOUCH = \"ontouchstart\" in window || !!global.navigator.msMaxTouchPoints;\n\t                }\n\t                return Settings._CONST_IS_TOUCH;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        isIE: {\n\n\t            /**\n\t             * Checks if current browser is Internet Explorer\n\t             * @returns {boolean|*}\n\t             */\n\n\t            value: function isIE() {\n\t                if (!Settings._CONST_IS_IE) {\n\t                    Settings._CONST_IS_IE = \"ActiveXObject\" in window;\n\t                }\n\t                return Settings._CONST_IS_IE;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return Settings;\n\t})();\n\n\tmodule.exports = Settings;\n\n\t// Settings Statics, used by widgets\n\n\t// Measure scrollbar width\n\tSettings.CONST_SCROLLBAR_WIDTH = Util.getScrollBarWidth();\n\t// detect right transition end event\n\tSettings.CONST_TRANSITION_EVENT = Util.whichTransitionEndEvent();\n\n\tSettings.CONST_TAB_EVENT = \"click\";\n\n\tSettings._CONST_IS_IOS = null;\n\n\tSettings._CONST_IS_TOUCH = null;\n\n\tSettings.CONST_CANVAS_TOGGLE = \"toggled-canvas\";\n\n\tSettings._CONST_IS_IE = null;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _core = __webpack_require__(11)[\"default\"];\n\n\tvar helpers = exports[\"default\"] = {};\n\texports.__esModule = true;\n\n\thelpers.inherits = function (subClass, superClass) {\n\t  if (typeof superClass !== \"function\" && superClass !== null) {\n\t    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n\t  }\n\n\t  subClass.prototype = Object.create(superClass && superClass.prototype, {\n\t    constructor: {\n\t      value: subClass,\n\t      enumerable: false,\n\t      writable: true,\n\t      configurable: true\n\t    }\n\t  });\n\t  if (superClass) subClass.__proto__ = superClass;\n\t};\n\n\thelpers.defaults = function (obj, defaults) {\n\t  var keys = _core.Object.getOwnPropertyNames(defaults);\n\n\t  for (var i = 0; i < keys.length; i++) {\n\t    var key = keys[i];\n\n\t    var value = _core.Object.getOwnPropertyDescriptor(defaults, key);\n\n\t    if (value && value.configurable && obj[key] === undefined) {\n\t      Object.defineProperty(obj, key, value);\n\t    }\n\t  }\n\n\t  return obj;\n\t};\n\n\thelpers.prototypeProperties = function (child, staticProps, instanceProps) {\n\t  if (staticProps) Object.defineProperties(child, staticProps);\n\t  if (instanceProps) Object.defineProperties(child.prototype, instanceProps);\n\t};\n\n\thelpers.applyConstructor = function (Constructor, args) {\n\t  var instance = Object.create(Constructor.prototype);\n\t  var result = Constructor.apply(instance, args);\n\t  return result != null && (typeof result == \"object\" || typeof result == \"function\") ? result : instance;\n\t};\n\n\thelpers.taggedTemplateLiteral = function (strings, raw) {\n\t  return _core.Object.freeze(Object.defineProperties(strings, {\n\t    raw: {\n\t      value: _core.Object.freeze(raw)\n\t    }\n\t  }));\n\t};\n\n\thelpers.taggedTemplateLiteralLoose = function (strings, raw) {\n\t  strings.raw = raw;\n\t  return strings;\n\t};\n\n\thelpers.interopRequire = function (obj) {\n\t  return obj && obj.__esModule ? obj[\"default\"] : obj;\n\t};\n\n\thelpers.toArray = function (arr) {\n\t  return Array.isArray(arr) ? arr : _core.Array.from(arr);\n\t};\n\n\thelpers.toConsumableArray = function (arr) {\n\t  if (Array.isArray(arr)) {\n\t    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n\t    return arr2;\n\t  } else {\n\t    return _core.Array.from(arr);\n\t  }\n\t};\n\n\thelpers.slicedToArray = function (arr, i) {\n\t  if (Array.isArray(arr)) {\n\t    return arr;\n\t  } else if (_core.$for.isIterable(Object(arr))) {\n\t    var _arr = [];\n\n\t    for (var _iterator = _core.$for.getIterator(arr), _step; !(_step = _iterator.next()).done;) {\n\t      _arr.push(_step.value);\n\n\t      if (i && _arr.length === i) break;\n\t    }\n\n\t    return _arr;\n\t  } else {\n\t    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n\t  }\n\t};\n\n\thelpers.objectWithoutProperties = function (obj, keys) {\n\t  var target = {};\n\n\t  for (var i in obj) {\n\t    if (keys.indexOf(i) >= 0) continue;\n\t    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n\t    target[i] = obj[i];\n\t  }\n\n\t  return target;\n\t};\n\n\thelpers.hasOwn = Object.prototype.hasOwnProperty;\n\thelpers.slice = Array.prototype.slice;\n\thelpers.bind = Function.prototype.bind;\n\n\thelpers.defineProperty = function (obj, key, value) {\n\t  return Object.defineProperty(obj, key, {\n\t    value: value,\n\t    enumerable: true,\n\t    configurable: true,\n\t    writable: true\n\t  });\n\t};\n\n\thelpers.asyncToGenerator = function (fn) {\n\t  return function () {\n\t    var gen = fn.apply(this, arguments);\n\t    return new _core.Promise(function (resolve, reject) {\n\t      var callNext = step.bind(null, \"next\");\n\t      var callThrow = step.bind(null, \"throw\");\n\n\t      function step(key, arg) {\n\t        try {\n\t          var info = gen[key](arg);\n\t          var value = info.value;\n\t        } catch (error) {\n\t          reject(error);\n\t          return;\n\t        }\n\n\t        if (info.done) {\n\t          resolve(value);\n\t        } else {\n\t          _core.Promise.resolve(value).then(callNext, callThrow);\n\t        }\n\t      }\n\n\t      callNext();\n\t    });\n\t  };\n\t};\n\n\thelpers.interopRequireWildcard = function (obj) {\n\t  return obj && obj.__esModule ? obj : {\n\t    \"default\": obj\n\t  };\n\t};\n\n\thelpers._typeof = function (obj) {\n\t  return obj && obj.constructor === _core.Symbol ? \"symbol\" : typeof obj;\n\t};\n\n\thelpers._extends = _core.Object.assign || function (target) {\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    var source = arguments[i];\n\n\t    for (var key in source) {\n\t      if (Object.prototype.hasOwnProperty.call(source, key)) {\n\t        target[key] = source[key];\n\t      }\n\t    }\n\t  }\n\n\t  return target;\n\t};\n\n\thelpers.get = function get(_x, _x2, _x3) {\n\t  var _again = true;\n\n\t  _function: while (_again) {\n\t    _again = false;\n\t    var object = _x,\n\t        property = _x2,\n\t        receiver = _x3;\n\t    desc = parent = getter = undefined;\n\n\t    var desc = _core.Object.getOwnPropertyDescriptor(object, property);\n\n\t    if (desc === undefined) {\n\t      var parent = _core.Object.getPrototypeOf(object);\n\n\t      if (parent === null) {\n\t        return undefined;\n\t      } else {\n\t        _x = parent;\n\t        _x2 = property;\n\t        _x3 = receiver;\n\t        _again = true;\n\t        continue _function;\n\t      }\n\t    } else if (\"value\" in desc && desc.writable) {\n\t      return desc.value;\n\t    } else {\n\t      var getter = desc.get;\n\n\t      if (getter === undefined) {\n\t        return undefined;\n\t      }\n\n\t      return getter.call(receiver);\n\t    }\n\t  }\n\t};\n\n\thelpers.set = function set(_x, _x2, _x3, _x4) {\n\t  var _again = true;\n\n\t  _function: while (_again) {\n\t    _again = false;\n\t    var object = _x,\n\t        property = _x2,\n\t        value = _x3,\n\t        receiver = _x4;\n\t    desc = parent = setter = undefined;\n\n\t    var desc = _core.Object.getOwnPropertyDescriptor(object, property);\n\n\t    if (desc === undefined) {\n\t      var parent = _core.Object.getPrototypeOf(object);\n\n\t      if (parent !== null) {\n\t        _x = parent;\n\t        _x2 = property;\n\t        _x3 = value;\n\t        _x4 = receiver;\n\t        _again = true;\n\t        continue _function;\n\t      }\n\t    } else if (\"value\" in desc && desc.writable) {\n\t      return desc.value = value;\n\t    } else {\n\t      var setter = desc.set;\n\n\t      if (setter !== undefined) {\n\t        return setter.call(receiver, value);\n\t      }\n\t    }\n\t  }\n\t};\n\n\thelpers.classCallCheck = function (instance, Constructor) {\n\t  if (!(instance instanceof Constructor)) {\n\t    throw new TypeError(\"Cannot call a class as a function\");\n\t  }\n\t};\n\n\thelpers.objectDestructuringEmpty = function (obj) {\n\t  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n\t};\n\n\thelpers.temporalUndefined = {};\n\n\thelpers.temporalAssertDefined = function (val, name, undef) {\n\t  if (val === undef) {\n\t    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n\t  }\n\n\t  return true;\n\t};\n\n\thelpers.selfGlobal = typeof global === \"undefined\" ? self : global;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Core.js 0.6.1\n\t * https://github.com/zloirock/core-js\n\t * License: http://rock.mit-license.org\n\t *  2015 Denis Pushkarev\n\t */\n\t!function(global, framework, undefined){\n\t'use strict';\n\n\t/******************************************************************************\n\t * Module : common                                                            *\n\t ******************************************************************************/\n\n\t  // Shortcuts for [[Class]] & property names\r\n\tvar OBJECT          = 'Object'\r\n\t  , FUNCTION        = 'Function'\r\n\t  , ARRAY           = 'Array'\r\n\t  , STRING          = 'String'\r\n\t  , NUMBER          = 'Number'\r\n\t  , REGEXP          = 'RegExp'\r\n\t  , DATE            = 'Date'\r\n\t  , MAP             = 'Map'\r\n\t  , SET             = 'Set'\r\n\t  , WEAKMAP         = 'WeakMap'\r\n\t  , WEAKSET         = 'WeakSet'\r\n\t  , SYMBOL          = 'Symbol'\r\n\t  , PROMISE         = 'Promise'\r\n\t  , MATH            = 'Math'\r\n\t  , ARGUMENTS       = 'Arguments'\r\n\t  , PROTOTYPE       = 'prototype'\r\n\t  , CONSTRUCTOR     = 'constructor'\r\n\t  , TO_STRING       = 'toString'\r\n\t  , TO_STRING_TAG   = TO_STRING + 'Tag'\r\n\t  , TO_LOCALE       = 'toLocaleString'\r\n\t  , HAS_OWN         = 'hasOwnProperty'\r\n\t  , FOR_EACH        = 'forEach'\r\n\t  , ITERATOR        = 'iterator'\r\n\t  , FF_ITERATOR     = '@@' + ITERATOR\r\n\t  , PROCESS         = 'process'\r\n\t  , CREATE_ELEMENT  = 'createElement'\r\n\t  // Aliases global objects and prototypes\r\n\t  , Function        = global[FUNCTION]\r\n\t  , Object          = global[OBJECT]\r\n\t  , Array           = global[ARRAY]\r\n\t  , String          = global[STRING]\r\n\t  , Number          = global[NUMBER]\r\n\t  , RegExp          = global[REGEXP]\r\n\t  , Date            = global[DATE]\r\n\t  , Map             = global[MAP]\r\n\t  , Set             = global[SET]\r\n\t  , WeakMap         = global[WEAKMAP]\r\n\t  , WeakSet         = global[WEAKSET]\r\n\t  , Symbol          = global[SYMBOL]\r\n\t  , Math            = global[MATH]\r\n\t  , TypeError       = global.TypeError\r\n\t  , RangeError      = global.RangeError\r\n\t  , setTimeout      = global.setTimeout\r\n\t  , setImmediate    = global.setImmediate\r\n\t  , clearImmediate  = global.clearImmediate\r\n\t  , parseInt        = global.parseInt\r\n\t  , isFinite        = global.isFinite\r\n\t  , process         = global[PROCESS]\r\n\t  , nextTick        = process && process.nextTick\r\n\t  , document        = global.document\r\n\t  , html            = document && document.documentElement\r\n\t  , navigator       = global.navigator\r\n\t  , define          = global.define\r\n\t  , console         = global.console || {}\r\n\t  , ArrayProto      = Array[PROTOTYPE]\r\n\t  , ObjectProto     = Object[PROTOTYPE]\r\n\t  , FunctionProto   = Function[PROTOTYPE]\r\n\t  , Infinity        = 1 / 0\r\n\t  , DOT             = '.';\r\n\r\n\t// http://jsperf.com/core-js-isobject\r\n\tfunction isObject(it){\r\n\t  return it !== null && (typeof it == 'object' || typeof it == 'function');\r\n\t}\r\n\tfunction isFunction(it){\r\n\t  return typeof it == 'function';\r\n\t}\r\n\t// Native function?\r\n\tvar isNative = ctx(/./.test, /\\[native code\\]\\s*\\}\\s*$/, 1);\r\n\r\n\t// Object internal [[Class]] or toStringTag\r\n\t// http://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring\r\n\tvar toString = ObjectProto[TO_STRING];\r\n\tfunction setToStringTag(it, tag, stat){\r\n\t  if(it && !has(it = stat ? it : it[PROTOTYPE], SYMBOL_TAG))hidden(it, SYMBOL_TAG, tag);\r\n\t}\r\n\tfunction cof(it){\r\n\t  return toString.call(it).slice(8, -1);\r\n\t}\r\n\tfunction classof(it){\r\n\t  var O, T;\r\n\t  return it == undefined ? it === undefined ? 'Undefined' : 'Null'\r\n\t    : typeof (T = (O = Object(it))[SYMBOL_TAG]) == 'string' ? T : cof(O);\r\n\t}\r\n\r\n\t// Function\r\n\tvar call  = FunctionProto.call\r\n\t  , apply = FunctionProto.apply\r\n\t  , REFERENCE_GET;\r\n\t// Partial apply\r\n\tfunction part(/* ...args */){\r\n\t  var fn     = assertFunction(this)\r\n\t    , length = arguments.length\r\n\t    , args   = Array(length)\r\n\t    , i      = 0\r\n\t    , _      = path._\r\n\t    , holder = false;\r\n\t  while(length > i)if((args[i] = arguments[i++]) === _)holder = true;\r\n\t  return function(/* ...args */){\r\n\t    var that    = this\r\n\t      , _length = arguments.length\r\n\t      , i = 0, j = 0, _args;\r\n\t    if(!holder && !_length)return invoke(fn, args, that);\r\n\t    _args = args.slice();\r\n\t    if(holder)for(;length > i; i++)if(_args[i] === _)_args[i] = arguments[j++];\r\n\t    while(_length > j)_args.push(arguments[j++]);\r\n\t    return invoke(fn, _args, that);\r\n\t  }\r\n\t}\r\n\t// Optional / simple context binding\r\n\tfunction ctx(fn, that, length){\r\n\t  assertFunction(fn);\r\n\t  if(~length && that === undefined)return fn;\r\n\t  switch(length){\r\n\t    case 1: return function(a){\r\n\t      return fn.call(that, a);\r\n\t    }\r\n\t    case 2: return function(a, b){\r\n\t      return fn.call(that, a, b);\r\n\t    }\r\n\t    case 3: return function(a, b, c){\r\n\t      return fn.call(that, a, b, c);\r\n\t    }\r\n\t  } return function(/* ...args */){\r\n\t      return fn.apply(that, arguments);\r\n\t  }\r\n\t}\r\n\t// Fast apply\r\n\t// http://jsperf.lnkit.com/fast-apply/5\r\n\tfunction invoke(fn, args, that){\r\n\t  var un = that === undefined;\r\n\t  switch(args.length | 0){\r\n\t    case 0: return un ? fn()\r\n\t                      : fn.call(that);\r\n\t    case 1: return un ? fn(args[0])\r\n\t                      : fn.call(that, args[0]);\r\n\t    case 2: return un ? fn(args[0], args[1])\r\n\t                      : fn.call(that, args[0], args[1]);\r\n\t    case 3: return un ? fn(args[0], args[1], args[2])\r\n\t                      : fn.call(that, args[0], args[1], args[2]);\r\n\t    case 4: return un ? fn(args[0], args[1], args[2], args[3])\r\n\t                      : fn.call(that, args[0], args[1], args[2], args[3]);\r\n\t    case 5: return un ? fn(args[0], args[1], args[2], args[3], args[4])\r\n\t                      : fn.call(that, args[0], args[1], args[2], args[3], args[4]);\r\n\t  } return              fn.apply(that, args);\r\n\t}\r\n\r\n\t// Object:\r\n\tvar create           = Object.create\r\n\t  , getPrototypeOf   = Object.getPrototypeOf\r\n\t  , setPrototypeOf   = Object.setPrototypeOf\r\n\t  , defineProperty   = Object.defineProperty\r\n\t  , defineProperties = Object.defineProperties\r\n\t  , getOwnDescriptor = Object.getOwnPropertyDescriptor\r\n\t  , getKeys          = Object.keys\r\n\t  , getNames         = Object.getOwnPropertyNames\r\n\t  , getSymbols       = Object.getOwnPropertySymbols\r\n\t  , isFrozen         = Object.isFrozen\r\n\t  , has              = ctx(call, ObjectProto[HAS_OWN], 2)\r\n\t  // Dummy, fix for not array-like ES3 string in es5 module\r\n\t  , ES5Object        = Object\r\n\t  , Dict;\r\n\tfunction toObject(it){\r\n\t  return ES5Object(assertDefined(it));\r\n\t}\r\n\tfunction returnIt(it){\r\n\t  return it;\r\n\t}\r\n\tfunction returnThis(){\r\n\t  return this;\r\n\t}\r\n\tfunction get(object, key){\r\n\t  if(has(object, key))return object[key];\r\n\t}\r\n\tfunction ownKeys(it){\r\n\t  assertObject(it);\r\n\t  return getSymbols ? getNames(it).concat(getSymbols(it)) : getNames(it);\r\n\t}\r\n\t// 19.1.2.1 Object.assign(target, source, ...)\r\n\tvar assign = Object.assign || function(target, source){\r\n\t  var T = Object(assertDefined(target))\r\n\t    , l = arguments.length\r\n\t    , i = 1;\r\n\t  while(l > i){\r\n\t    var S      = ES5Object(arguments[i++])\r\n\t      , keys   = getKeys(S)\r\n\t      , length = keys.length\r\n\t      , j      = 0\r\n\t      , key;\r\n\t    while(length > j)T[key = keys[j++]] = S[key];\r\n\t  }\r\n\t  return T;\r\n\t}\r\n\tfunction keyOf(object, el){\r\n\t  var O      = toObject(object)\r\n\t    , keys   = getKeys(O)\r\n\t    , length = keys.length\r\n\t    , index  = 0\r\n\t    , key;\r\n\t  while(length > index)if(O[key = keys[index++]] === el)return key;\r\n\t}\r\n\r\n\t// Array\r\n\t// array('str1,str2,str3') => ['str1', 'str2', 'str3']\r\n\tfunction array(it){\r\n\t  return String(it).split(',');\r\n\t}\r\n\tvar push    = ArrayProto.push\r\n\t  , unshift = ArrayProto.unshift\r\n\t  , slice   = ArrayProto.slice\r\n\t  , splice  = ArrayProto.splice\r\n\t  , indexOf = ArrayProto.indexOf\r\n\t  , forEach = ArrayProto[FOR_EACH];\r\n\t/*\r\n\t * 0 -> forEach\r\n\t * 1 -> map\r\n\t * 2 -> filter\r\n\t * 3 -> some\r\n\t * 4 -> every\r\n\t * 5 -> find\r\n\t * 6 -> findIndex\r\n\t */\r\n\tfunction createArrayMethod(type){\r\n\t  var isMap       = type == 1\r\n\t    , isFilter    = type == 2\r\n\t    , isSome      = type == 3\r\n\t    , isEvery     = type == 4\r\n\t    , isFindIndex = type == 6\r\n\t    , noholes     = type == 5 || isFindIndex;\r\n\t  return function(callbackfn/*, that = undefined */){\r\n\t    var O      = Object(assertDefined(this))\r\n\t      , that   = arguments[1]\r\n\t      , self   = ES5Object(O)\r\n\t      , f      = ctx(callbackfn, that, 3)\r\n\t      , length = toLength(self.length)\r\n\t      , index  = 0\r\n\t      , result = isMap ? Array(length) : isFilter ? [] : undefined\r\n\t      , val, res;\r\n\t    for(;length > index; index++)if(noholes || index in self){\r\n\t      val = self[index];\r\n\t      res = f(val, index, O);\r\n\t      if(type){\r\n\t        if(isMap)result[index] = res;             // map\r\n\t        else if(res)switch(type){\r\n\t          case 3: return true;                    // some\r\n\t          case 5: return val;                     // find\r\n\t          case 6: return index;                   // findIndex\r\n\t          case 2: result.push(val);               // filter\r\n\t        } else if(isEvery)return false;           // every\r\n\t      }\r\n\t    }\r\n\t    return isFindIndex ? -1 : isSome || isEvery ? isEvery : result;\r\n\t  }\r\n\t}\r\n\tfunction createArrayContains(isContains){\r\n\t  return function(el /*, fromIndex = 0 */){\r\n\t    var O      = toObject(this)\r\n\t      , length = toLength(O.length)\r\n\t      , index  = toIndex(arguments[1], length);\r\n\t    if(isContains && el != el){\r\n\t      for(;length > index; index++)if(sameNaN(O[index]))return isContains || index;\r\n\t    } else for(;length > index; index++)if(isContains || index in O){\r\n\t      if(O[index] === el)return isContains || index;\r\n\t    } return !isContains && -1;\r\n\t  }\r\n\t}\r\n\tfunction generic(A, B){\r\n\t  // strange IE quirks mode bug -> use typeof vs isFunction\r\n\t  return typeof A == 'function' ? A : B;\r\n\t}\r\n\r\n\t// Math\r\n\tvar MAX_SAFE_INTEGER = 0x1fffffffffffff // pow(2, 53) - 1 == 9007199254740991\r\n\t  , pow    = Math.pow\r\n\t  , abs    = Math.abs\r\n\t  , ceil   = Math.ceil\r\n\t  , floor  = Math.floor\r\n\t  , max    = Math.max\r\n\t  , min    = Math.min\r\n\t  , random = Math.random\r\n\t  , trunc  = Math.trunc || function(it){\r\n\t      return (it > 0 ? floor : ceil)(it);\r\n\t    }\r\n\t// 20.1.2.4 Number.isNaN(number)\r\n\tfunction sameNaN(number){\r\n\t  return number != number;\r\n\t}\r\n\t// 7.1.4 ToInteger\r\n\tfunction toInteger(it){\r\n\t  return isNaN(it) ? 0 : trunc(it);\r\n\t}\r\n\t// 7.1.15 ToLength\r\n\tfunction toLength(it){\r\n\t  return it > 0 ? min(toInteger(it), MAX_SAFE_INTEGER) : 0;\r\n\t}\r\n\tfunction toIndex(index, length){\r\n\t  var index = toInteger(index);\r\n\t  return index < 0 ? max(index + length, 0) : min(index, length);\r\n\t}\r\n\tfunction lz(num){\r\n\t  return num > 9 ? num : '0' + num;\r\n\t}\r\n\r\n\tfunction createReplacer(regExp, replace, isStatic){\r\n\t  var replacer = isObject(replace) ? function(part){\r\n\t    return replace[part];\r\n\t  } : replace;\r\n\t  return function(it){\r\n\t    return String(isStatic ? it : this).replace(regExp, replacer);\r\n\t  }\r\n\t}\r\n\tfunction createPointAt(toString){\r\n\t  return function(pos){\r\n\t    var s = String(assertDefined(this))\r\n\t      , i = toInteger(pos)\r\n\t      , l = s.length\r\n\t      , a, b;\r\n\t    if(i < 0 || i >= l)return toString ? '' : undefined;\r\n\t    a = s.charCodeAt(i);\r\n\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\r\n\t      ? toString ? s.charAt(i) : a\r\n\t      : toString ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\r\n\t  }\r\n\t}\r\n\r\n\t// Assertion & errors\r\n\tvar REDUCE_ERROR = 'Reduce of empty object with no initial value';\r\n\tfunction assert(condition, msg1, msg2){\r\n\t  if(!condition)throw TypeError(msg2 ? msg1 + msg2 : msg1);\r\n\t}\r\n\tfunction assertDefined(it){\r\n\t  if(it == undefined)throw TypeError('Function called on null or undefined');\r\n\t  return it;\r\n\t}\r\n\tfunction assertFunction(it){\r\n\t  assert(isFunction(it), it, ' is not a function!');\r\n\t  return it;\r\n\t}\r\n\tfunction assertObject(it){\r\n\t  assert(isObject(it), it, ' is not an object!');\r\n\t  return it;\r\n\t}\r\n\tfunction assertInstance(it, Constructor, name){\r\n\t  assert(it instanceof Constructor, name, \": use the 'new' operator!\");\r\n\t}\r\n\r\n\t// Property descriptors & Symbol\r\n\tfunction descriptor(bitmap, value){\r\n\t  return {\r\n\t    enumerable  : !(bitmap & 1),\r\n\t    configurable: !(bitmap & 2),\r\n\t    writable    : !(bitmap & 4),\r\n\t    value       : value\r\n\t  }\r\n\t}\r\n\tfunction simpleSet(object, key, value){\r\n\t  object[key] = value;\r\n\t  return object;\r\n\t}\r\n\tfunction createDefiner(bitmap){\r\n\t  return DESC ? function(object, key, value){\r\n\t    return defineProperty(object, key, descriptor(bitmap, value));\r\n\t  } : simpleSet;\r\n\t}\r\n\tfunction uid(key){\r\n\t  return SYMBOL + '(' + key + ')_' + (++sid + random())[TO_STRING](36);\r\n\t}\r\n\tfunction getWellKnownSymbol(name, setter){\r\n\t  return (Symbol && Symbol[name]) || (setter ? Symbol : safeSymbol)(SYMBOL + DOT + name);\r\n\t}\r\n\t// The engine works fine with descriptors? Thank's IE8 for his funny defineProperty.\r\n\tvar DESC = !!function(){\r\n\t      try {\r\n\t        return defineProperty({}, 'a', {get: function(){ return 2 }}).a == 2;\r\n\t      } catch(e){}\r\n\t    }()\r\n\t  , sid    = 0\r\n\t  , hidden = createDefiner(1)\r\n\t  , set    = Symbol ? simpleSet : hidden\r\n\t  , safeSymbol = Symbol || uid;\r\n\tfunction assignHidden(target, src){\r\n\t  for(var key in src)hidden(target, key, src[key]);\r\n\t  return target;\r\n\t}\r\n\r\n\tvar SYMBOL_UNSCOPABLES = getWellKnownSymbol('unscopables')\r\n\t  , ArrayUnscopables   = ArrayProto[SYMBOL_UNSCOPABLES] || {}\r\n\t  , SYMBOL_TAG         = getWellKnownSymbol(TO_STRING_TAG)\r\n\t  , SYMBOL_SPECIES     = getWellKnownSymbol('species')\r\n\t  , SYMBOL_ITERATOR;\r\n\tfunction setSpecies(C){\r\n\t  if(DESC && (framework || !isNative(C)))defineProperty(C, SYMBOL_SPECIES, {\r\n\t    configurable: true,\r\n\t    get: returnThis\r\n\t  });\r\n\t}\n\n\t/******************************************************************************\n\t * Module : common.export                                                     *\n\t ******************************************************************************/\n\n\tvar NODE = cof(process) == PROCESS\r\n\t  , core = {}\r\n\t  , path = framework ? global : core\r\n\t  , old  = global.core\r\n\t  , exportGlobal\r\n\t  // type bitmap\r\n\t  , FORCED = 1\r\n\t  , GLOBAL = 2\r\n\t  , STATIC = 4\r\n\t  , PROTO  = 8\r\n\t  , BIND   = 16\r\n\t  , WRAP   = 32;\r\n\tfunction $define(type, name, source){\r\n\t  var key, own, out, exp\r\n\t    , isGlobal = type & GLOBAL\r\n\t    , target   = isGlobal ? global : (type & STATIC)\r\n\t        ? global[name] : (global[name] || ObjectProto)[PROTOTYPE]\r\n\t    , exports  = isGlobal ? core : core[name] || (core[name] = {});\r\n\t  if(isGlobal)source = name;\r\n\t  for(key in source){\r\n\t    // there is a similar native\r\n\t    own = !(type & FORCED) && target && key in target\r\n\t      && (!isFunction(target[key]) || isNative(target[key]));\r\n\t    // export native or passed\r\n\t    out = (own ? target : source)[key];\r\n\t    // prevent global pollution for namespaces\r\n\t    if(!framework && isGlobal && !isFunction(target[key]))exp = source[key];\r\n\t    // bind timers to global for call from export context\r\n\t    else if(type & BIND && own)exp = ctx(out, global);\r\n\t    // wrap global constructors for prevent change them in library\r\n\t    else if(type & WRAP && !framework && target[key] == out){\r\n\t      exp = function(param){\r\n\t        return this instanceof out ? new out(param) : out(param);\r\n\t      }\r\n\t      exp[PROTOTYPE] = out[PROTOTYPE];\r\n\t    } else exp = type & PROTO && isFunction(out) ? ctx(call, out) : out;\r\n\t    // extend global\r\n\t    if(framework && target && !own){\r\n\t      if(isGlobal)target[key] = out;\r\n\t      else delete target[key] && hidden(target, key, out);\r\n\t    }\r\n\t    // export\r\n\t    if(exports[key] != out)hidden(exports, key, exp);\r\n\t  }\r\n\t}\r\n\t// CommonJS export\r\n\tif(typeof module != 'undefined' && module.exports)module.exports = core;\r\n\t// RequireJS export\r\n\telse if(isFunction(define) && define.amd)define(function(){return core});\r\n\t// Export to global object\r\n\telse exportGlobal = true;\r\n\tif(exportGlobal || framework){\r\n\t  core.noConflict = function(){\r\n\t    global.core = old;\r\n\t    return core;\r\n\t  }\r\n\t  global.core = core;\r\n\t}\n\n\t/******************************************************************************\n\t * Module : common.iterators                                                  *\n\t ******************************************************************************/\n\n\tSYMBOL_ITERATOR = getWellKnownSymbol(ITERATOR);\r\n\tvar ITER  = safeSymbol('iter')\r\n\t  , KEY   = 1\r\n\t  , VALUE = 2\r\n\t  , Iterators = {}\r\n\t  , IteratorPrototype = {}\r\n\t    // Safari has byggy iterators w/o `next`\r\n\t  , BUGGY_ITERATORS = 'keys' in ArrayProto && !('next' in [].keys());\r\n\t// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\r\n\tsetIterator(IteratorPrototype, returnThis);\r\n\tfunction setIterator(O, value){\r\n\t  hidden(O, SYMBOL_ITERATOR, value);\r\n\t  // Add iterator for FF iterator protocol\r\n\t  FF_ITERATOR in ArrayProto && hidden(O, FF_ITERATOR, value);\r\n\t}\r\n\tfunction createIterator(Constructor, NAME, next, proto){\r\n\t  Constructor[PROTOTYPE] = create(proto || IteratorPrototype, {next: descriptor(1, next)});\r\n\t  setToStringTag(Constructor, NAME + ' Iterator');\r\n\t}\r\n\tfunction defineIterator(Constructor, NAME, value, DEFAULT){\r\n\t  var proto = Constructor[PROTOTYPE]\r\n\t    , iter  = get(proto, SYMBOL_ITERATOR) || get(proto, FF_ITERATOR) || (DEFAULT && get(proto, DEFAULT)) || value;\r\n\t  if(framework){\r\n\t    // Define iterator\r\n\t    setIterator(proto, iter);\r\n\t    if(iter !== value){\r\n\t      var iterProto = getPrototypeOf(iter.call(new Constructor));\r\n\t      // Set @@toStringTag to native iterators\r\n\t      setToStringTag(iterProto, NAME + ' Iterator', true);\r\n\t      // FF fix\r\n\t      has(proto, FF_ITERATOR) && setIterator(iterProto, returnThis);\r\n\t    }\r\n\t  }\r\n\t  // Plug for library\r\n\t  Iterators[NAME] = iter;\r\n\t  // FF & v8 fix\r\n\t  Iterators[NAME + ' Iterator'] = returnThis;\r\n\t  return iter;\r\n\t}\r\n\tfunction defineStdIterators(Base, NAME, Constructor, next, DEFAULT, IS_SET){\r\n\t  function createIter(kind){\r\n\t    return function(){\r\n\t      return new Constructor(this, kind);\r\n\t    }\r\n\t  }\r\n\t  createIterator(Constructor, NAME, next);\r\n\t  var entries = createIter(KEY+VALUE)\r\n\t    , values  = createIter(VALUE);\r\n\t  if(DEFAULT == VALUE)values = defineIterator(Base, NAME, values, 'values');\r\n\t  else entries = defineIterator(Base, NAME, entries, 'entries');\r\n\t  if(DEFAULT){\r\n\t    $define(PROTO + FORCED * BUGGY_ITERATORS, NAME, {\r\n\t      entries: entries,\r\n\t      keys: IS_SET ? values : createIter(KEY),\r\n\t      values: values\r\n\t    });\r\n\t  }\r\n\t}\r\n\tfunction iterResult(done, value){\r\n\t  return {value: value, done: !!done};\r\n\t}\r\n\tfunction isIterable(it){\r\n\t  var O      = Object(it)\r\n\t    , Symbol = global[SYMBOL]\r\n\t    , hasExt = (Symbol && Symbol[ITERATOR] || FF_ITERATOR) in O;\r\n\t  return hasExt || SYMBOL_ITERATOR in O || has(Iterators, classof(O));\r\n\t}\r\n\tfunction getIterator(it){\r\n\t  var Symbol  = global[SYMBOL]\r\n\t    , ext     = it[Symbol && Symbol[ITERATOR] || FF_ITERATOR]\r\n\t    , getIter = ext || it[SYMBOL_ITERATOR] || Iterators[classof(it)];\r\n\t  return assertObject(getIter.call(it));\r\n\t}\r\n\tfunction stepCall(fn, value, entries){\r\n\t  return entries ? invoke(fn, value) : fn(value);\r\n\t}\r\n\tfunction checkDangerIterClosing(fn){\r\n\t  var danger = true;\r\n\t  var O = {\r\n\t    next: function(){ throw 1 },\r\n\t    'return': function(){ danger = false }\r\n\t  };\r\n\t  O[SYMBOL_ITERATOR] = returnThis;\r\n\t  try {\r\n\t    fn(O);\r\n\t  } catch(e){}\r\n\t  return danger;\r\n\t}\r\n\tfunction closeIterator(iterator){\r\n\t  var ret = iterator['return'];\r\n\t  if(ret !== undefined)ret.call(iterator);\r\n\t}\r\n\tfunction safeIterClose(exec, iterator){\r\n\t  try {\r\n\t    exec(iterator);\r\n\t  } catch(e){\r\n\t    closeIterator(iterator);\r\n\t    throw e;\r\n\t  }\r\n\t}\r\n\tfunction forOf(iterable, entries, fn, that){\r\n\t  safeIterClose(function(iterator){\r\n\t    var f = ctx(fn, that, entries ? 2 : 1)\r\n\t      , step;\r\n\t    while(!(step = iterator.next()).done)if(stepCall(f, step.value, entries) === false){\r\n\t      return closeIterator(iterator);\r\n\t    }\r\n\t  }, getIterator(iterable));\r\n\t}\n\n\t/******************************************************************************\n\t * Module : es6.symbol                                                        *\n\t ******************************************************************************/\n\n\t// ECMAScript 6 symbols shim\r\n\t!function(TAG, SymbolRegistry, AllSymbols, setter){\r\n\t  // 19.4.1.1 Symbol([description])\r\n\t  if(!isNative(Symbol)){\r\n\t    Symbol = function(description){\r\n\t      assert(!(this instanceof Symbol), SYMBOL + ' is not a ' + CONSTRUCTOR);\r\n\t      var tag = uid(description)\r\n\t        , sym = set(create(Symbol[PROTOTYPE]), TAG, tag);\r\n\t      AllSymbols[tag] = sym;\r\n\t      DESC && setter && defineProperty(ObjectProto, tag, {\r\n\t        configurable: true,\r\n\t        set: function(value){\r\n\t          hidden(this, tag, value);\r\n\t        }\r\n\t      });\r\n\t      return sym;\r\n\t    }\r\n\t    hidden(Symbol[PROTOTYPE], TO_STRING, function(){\r\n\t      return this[TAG];\r\n\t    });\r\n\t  }\r\n\t  $define(GLOBAL + WRAP, {Symbol: Symbol});\r\n\t  \r\n\t  var symbolStatics = {\r\n\t    // 19.4.2.1 Symbol.for(key)\r\n\t    'for': function(key){\r\n\t      return has(SymbolRegistry, key += '')\r\n\t        ? SymbolRegistry[key]\r\n\t        : SymbolRegistry[key] = Symbol(key);\r\n\t    },\r\n\t    // 19.4.2.4 Symbol.iterator\r\n\t    iterator: SYMBOL_ITERATOR || getWellKnownSymbol(ITERATOR),\r\n\t    // 19.4.2.5 Symbol.keyFor(sym)\r\n\t    keyFor: part.call(keyOf, SymbolRegistry),\r\n\t    // 19.4.2.10 Symbol.species\r\n\t    species: SYMBOL_SPECIES,\r\n\t    // 19.4.2.13 Symbol.toStringTag\r\n\t    toStringTag: SYMBOL_TAG = getWellKnownSymbol(TO_STRING_TAG, true),\r\n\t    // 19.4.2.14 Symbol.unscopables\r\n\t    unscopables: SYMBOL_UNSCOPABLES,\r\n\t    pure: safeSymbol,\r\n\t    set: set,\r\n\t    useSetter: function(){setter = true},\r\n\t    useSimple: function(){setter = false}\r\n\t  };\r\n\t  // 19.4.2.2 Symbol.hasInstance\r\n\t  // 19.4.2.3 Symbol.isConcatSpreadable\r\n\t  // 19.4.2.6 Symbol.match\r\n\t  // 19.4.2.8 Symbol.replace\r\n\t  // 19.4.2.9 Symbol.search\r\n\t  // 19.4.2.11 Symbol.split\r\n\t  // 19.4.2.12 Symbol.toPrimitive\r\n\t  forEach.call(array('hasInstance,isConcatSpreadable,match,replace,search,split,toPrimitive'),\r\n\t    function(it){\r\n\t      symbolStatics[it] = getWellKnownSymbol(it);\r\n\t    }\r\n\t  );\r\n\t  $define(STATIC, SYMBOL, symbolStatics);\r\n\t  \r\n\t  setToStringTag(Symbol, SYMBOL);\r\n\t  \r\n\t  $define(STATIC + FORCED * !isNative(Symbol), OBJECT, {\r\n\t    // 19.1.2.7 Object.getOwnPropertyNames(O)\r\n\t    getOwnPropertyNames: function(it){\r\n\t      var names = getNames(toObject(it)), result = [], key, i = 0;\r\n\t      while(names.length > i)has(AllSymbols, key = names[i++]) || result.push(key);\r\n\t      return result;\r\n\t    },\r\n\t    // 19.1.2.8 Object.getOwnPropertySymbols(O)\r\n\t    getOwnPropertySymbols: function(it){\r\n\t      var names = getNames(toObject(it)), result = [], key, i = 0;\r\n\t      while(names.length > i)has(AllSymbols, key = names[i++]) && result.push(AllSymbols[key]);\r\n\t      return result;\r\n\t    }\r\n\t  });\r\n\t  \r\n\t  // 20.2.1.9 Math[@@toStringTag]\r\n\t  setToStringTag(Math, MATH, true);\r\n\t  // 24.3.3 JSON[@@toStringTag]\r\n\t  setToStringTag(global.JSON, 'JSON', true);\r\n\t}(safeSymbol('tag'), {}, {}, true);\n\n\t/******************************************************************************\n\t * Module : es6.object.statics                                                *\n\t ******************************************************************************/\n\n\t!function(){\r\n\t  var objectStatic = {\r\n\t    // 19.1.3.1 Object.assign(target, source)\r\n\t    assign: assign,\r\n\t    // 19.1.3.10 Object.is(value1, value2)\r\n\t    is: function(x, y){\r\n\t      return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\r\n\t    }\r\n\t  };\r\n\t  // 19.1.3.19 Object.setPrototypeOf(O, proto)\r\n\t  // Works with __proto__ only. Old v8 can't works with null proto objects.\r\n\t  '__proto__' in ObjectProto && function(buggy, set){\r\n\t    try {\r\n\t      set = ctx(call, getOwnDescriptor(ObjectProto, '__proto__').set, 2);\r\n\t      set({}, ArrayProto);\r\n\t    } catch(e){ buggy = true }\r\n\t    objectStatic.setPrototypeOf = setPrototypeOf = setPrototypeOf || function(O, proto){\r\n\t      assertObject(O);\r\n\t      assert(proto === null || isObject(proto), proto, \": can't set as prototype!\");\r\n\t      if(buggy)O.__proto__ = proto;\r\n\t      else set(O, proto);\r\n\t      return O;\r\n\t    }\r\n\t  }();\r\n\t  $define(STATIC, OBJECT, objectStatic);\r\n\t}();\n\n\t/******************************************************************************\n\t * Module : es6.object.statics-accept-primitives                              *\n\t ******************************************************************************/\n\n\t!function(){\r\n\t  // Object static methods accept primitives\r\n\t  function wrapObjectMethod(key, MODE){\r\n\t    var fn  = Object[key]\r\n\t      , exp = core[OBJECT][key]\r\n\t      , f   = 0\r\n\t      , o   = {};\r\n\t    if(!exp || isNative(exp)){\r\n\t      o[key] = MODE == 1 ? function(it){\r\n\t        return isObject(it) ? fn(it) : it;\r\n\t      } : MODE == 2 ? function(it){\r\n\t        return isObject(it) ? fn(it) : true;\r\n\t      } : MODE == 3 ? function(it){\r\n\t        return isObject(it) ? fn(it) : false;\r\n\t      } : MODE == 4 ? function(it, key){\r\n\t        return fn(toObject(it), key);\r\n\t      } : function(it){\r\n\t        return fn(toObject(it));\r\n\t      };\r\n\t      try { fn(DOT) }\r\n\t      catch(e){ f = 1 }\r\n\t      $define(STATIC + FORCED * f, OBJECT, o);\r\n\t    }\r\n\t  }\r\n\t  wrapObjectMethod('freeze', 1);\r\n\t  wrapObjectMethod('seal', 1);\r\n\t  wrapObjectMethod('preventExtensions', 1);\r\n\t  wrapObjectMethod('isFrozen', 2);\r\n\t  wrapObjectMethod('isSealed', 2);\r\n\t  wrapObjectMethod('isExtensible', 3);\r\n\t  wrapObjectMethod('getOwnPropertyDescriptor', 4);\r\n\t  wrapObjectMethod('getPrototypeOf');\r\n\t  wrapObjectMethod('keys');\r\n\t  wrapObjectMethod('getOwnPropertyNames');\r\n\t}();\n\n\t/******************************************************************************\n\t * Module : es6.number.statics                                                *\n\t ******************************************************************************/\n\n\t!function(isInteger){\r\n\t  $define(STATIC, NUMBER, {\r\n\t    // 20.1.2.1 Number.EPSILON\r\n\t    EPSILON: pow(2, -52),\r\n\t    // 20.1.2.2 Number.isFinite(number)\r\n\t    isFinite: function(it){\r\n\t      return typeof it == 'number' && isFinite(it);\r\n\t    },\r\n\t    // 20.1.2.3 Number.isInteger(number)\r\n\t    isInteger: isInteger,\r\n\t    // 20.1.2.4 Number.isNaN(number)\r\n\t    isNaN: sameNaN,\r\n\t    // 20.1.2.5 Number.isSafeInteger(number)\r\n\t    isSafeInteger: function(number){\r\n\t      return isInteger(number) && abs(number) <= MAX_SAFE_INTEGER;\r\n\t    },\r\n\t    // 20.1.2.6 Number.MAX_SAFE_INTEGER\r\n\t    MAX_SAFE_INTEGER: MAX_SAFE_INTEGER,\r\n\t    // 20.1.2.10 Number.MIN_SAFE_INTEGER\r\n\t    MIN_SAFE_INTEGER: -MAX_SAFE_INTEGER,\r\n\t    // 20.1.2.12 Number.parseFloat(string)\r\n\t    parseFloat: parseFloat,\r\n\t    // 20.1.2.13 Number.parseInt(string, radix)\r\n\t    parseInt: parseInt\r\n\t  });\r\n\t// 20.1.2.3 Number.isInteger(number)\r\n\t}(Number.isInteger || function(it){\r\n\t  return !isObject(it) && isFinite(it) && floor(it) === it;\r\n\t});\n\n\t/******************************************************************************\n\t * Module : es6.math                                                          *\n\t ******************************************************************************/\n\n\t// ECMAScript 6 shim\r\n\t!function(){\r\n\t  // 20.2.2.28 Math.sign(x)\r\n\t  var E    = Math.E\r\n\t    , exp  = Math.exp\r\n\t    , log  = Math.log\r\n\t    , sqrt = Math.sqrt\r\n\t    , sign = Math.sign || function(x){\r\n\t        return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\r\n\t      };\r\n\t  \r\n\t  // 20.2.2.5 Math.asinh(x)\r\n\t  function asinh(x){\r\n\t    return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : log(x + sqrt(x * x + 1));\r\n\t  }\r\n\t  // 20.2.2.14 Math.expm1(x)\r\n\t  function expm1(x){\r\n\t    return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : exp(x) - 1;\r\n\t  }\r\n\t    \r\n\t  $define(STATIC, MATH, {\r\n\t    // 20.2.2.3 Math.acosh(x)\r\n\t    acosh: function(x){\r\n\t      return (x = +x) < 1 ? NaN : isFinite(x) ? log(x / E + sqrt(x + 1) * sqrt(x - 1) / E) + 1 : x;\r\n\t    },\r\n\t    // 20.2.2.5 Math.asinh(x)\r\n\t    asinh: asinh,\r\n\t    // 20.2.2.7 Math.atanh(x)\r\n\t    atanh: function(x){\r\n\t      return (x = +x) == 0 ? x : log((1 + x) / (1 - x)) / 2;\r\n\t    },\r\n\t    // 20.2.2.9 Math.cbrt(x)\r\n\t    cbrt: function(x){\r\n\t      return sign(x = +x) * pow(abs(x), 1 / 3);\r\n\t    },\r\n\t    // 20.2.2.11 Math.clz32(x)\r\n\t    clz32: function(x){\r\n\t      return (x >>>= 0) ? 32 - x[TO_STRING](2).length : 32;\r\n\t    },\r\n\t    // 20.2.2.12 Math.cosh(x)\r\n\t    cosh: function(x){\r\n\t      return (exp(x = +x) + exp(-x)) / 2;\r\n\t    },\r\n\t    // 20.2.2.14 Math.expm1(x)\r\n\t    expm1: expm1,\r\n\t    // 20.2.2.16 Math.fround(x)\r\n\t    // TODO: fallback for IE9-\r\n\t    fround: function(x){\r\n\t      return new Float32Array([x])[0];\r\n\t    },\r\n\t    // 20.2.2.17 Math.hypot([value1[, value2[,  ]]])\r\n\t    hypot: function(value1, value2){\r\n\t      var sum  = 0\r\n\t        , len1 = arguments.length\r\n\t        , len2 = len1\r\n\t        , args = Array(len1)\r\n\t        , larg = -Infinity\r\n\t        , arg;\r\n\t      while(len1--){\r\n\t        arg = args[len1] = +arguments[len1];\r\n\t        if(arg == Infinity || arg == -Infinity)return Infinity;\r\n\t        if(arg > larg)larg = arg;\r\n\t      }\r\n\t      larg = arg || 1;\r\n\t      while(len2--)sum += pow(args[len2] / larg, 2);\r\n\t      return larg * sqrt(sum);\r\n\t    },\r\n\t    // 20.2.2.18 Math.imul(x, y)\r\n\t    imul: function(x, y){\r\n\t      var UInt16 = 0xffff\r\n\t        , xn = +x\r\n\t        , yn = +y\r\n\t        , xl = UInt16 & xn\r\n\t        , yl = UInt16 & yn;\r\n\t      return 0 | xl * yl + ((UInt16 & xn >>> 16) * yl + xl * (UInt16 & yn >>> 16) << 16 >>> 0);\r\n\t    },\r\n\t    // 20.2.2.20 Math.log1p(x)\r\n\t    log1p: function(x){\r\n\t      return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : log(1 + x);\r\n\t    },\r\n\t    // 20.2.2.21 Math.log10(x)\r\n\t    log10: function(x){\r\n\t      return log(x) / Math.LN10;\r\n\t    },\r\n\t    // 20.2.2.22 Math.log2(x)\r\n\t    log2: function(x){\r\n\t      return log(x) / Math.LN2;\r\n\t    },\r\n\t    // 20.2.2.28 Math.sign(x)\r\n\t    sign: sign,\r\n\t    // 20.2.2.30 Math.sinh(x)\r\n\t    sinh: function(x){\r\n\t      return (abs(x = +x) < 1) ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (E / 2);\r\n\t    },\r\n\t    // 20.2.2.33 Math.tanh(x)\r\n\t    tanh: function(x){\r\n\t      var a = expm1(x = +x)\r\n\t        , b = expm1(-x);\r\n\t      return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\r\n\t    },\r\n\t    // 20.2.2.34 Math.trunc(x)\r\n\t    trunc: trunc\r\n\t  });\r\n\t}();\n\n\t/******************************************************************************\n\t * Module : es6.string                                                        *\n\t ******************************************************************************/\n\n\t!function(fromCharCode){\r\n\t  function assertNotRegExp(it){\r\n\t    if(cof(it) == REGEXP)throw TypeError();\r\n\t  }\r\n\t  \r\n\t  $define(STATIC, STRING, {\r\n\t    // 21.1.2.2 String.fromCodePoint(...codePoints)\r\n\t    fromCodePoint: function(x){\r\n\t      var res = []\r\n\t        , len = arguments.length\r\n\t        , i   = 0\r\n\t        , code\r\n\t      while(len > i){\r\n\t        code = +arguments[i++];\r\n\t        if(toIndex(code, 0x10ffff) !== code)throw RangeError(code + ' is not a valid code point');\r\n\t        res.push(code < 0x10000\r\n\t          ? fromCharCode(code)\r\n\t          : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\r\n\t        );\r\n\t      } return res.join('');\r\n\t    },\r\n\t    // 21.1.2.4 String.raw(callSite, ...substitutions)\r\n\t    raw: function(callSite){\r\n\t      var raw = toObject(callSite.raw)\r\n\t        , len = toLength(raw.length)\r\n\t        , sln = arguments.length\r\n\t        , res = []\r\n\t        , i   = 0;\r\n\t      while(len > i){\r\n\t        res.push(String(raw[i++]));\r\n\t        if(i < sln)res.push(String(arguments[i]));\r\n\t      } return res.join('');\r\n\t    }\r\n\t  });\r\n\t  \r\n\t  $define(PROTO, STRING, {\r\n\t    // 21.1.3.3 String.prototype.codePointAt(pos)\r\n\t    codePointAt: createPointAt(false),\r\n\t    // 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\r\n\t    endsWith: function(searchString /*, endPosition = @length */){\r\n\t      assertNotRegExp(searchString);\r\n\t      var that = String(assertDefined(this))\r\n\t        , endPosition = arguments[1]\r\n\t        , len = toLength(that.length)\r\n\t        , end = endPosition === undefined ? len : min(toLength(endPosition), len);\r\n\t      searchString += '';\r\n\t      return that.slice(end - searchString.length, end) === searchString;\r\n\t    },\r\n\t    // 21.1.3.7 String.prototype.includes(searchString, position = 0)\r\n\t    includes: function(searchString /*, position = 0 */){\r\n\t      assertNotRegExp(searchString);\r\n\t      return !!~String(assertDefined(this)).indexOf(searchString, arguments[1]);\r\n\t    },\r\n\t    // 21.1.3.13 String.prototype.repeat(count)\r\n\t    repeat: function(count){\r\n\t      var str = String(assertDefined(this))\r\n\t        , res = ''\r\n\t        , n   = toInteger(count);\r\n\t      if(0 > n || n == Infinity)throw RangeError(\"Count can't be negative\");\r\n\t      for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;\r\n\t      return res;\r\n\t    },\r\n\t    // 21.1.3.18 String.prototype.startsWith(searchString [, position ])\r\n\t    startsWith: function(searchString /*, position = 0 */){\r\n\t      assertNotRegExp(searchString);\r\n\t      var that  = String(assertDefined(this))\r\n\t        , index = toLength(min(arguments[1], that.length));\r\n\t      searchString += '';\r\n\t      return that.slice(index, index + searchString.length) === searchString;\r\n\t    }\r\n\t  });\r\n\t}(String.fromCharCode);\n\n\t/******************************************************************************\n\t * Module : es6.array.statics                                                 *\n\t ******************************************************************************/\n\n\t!function(){\r\n\t  $define(STATIC + FORCED * checkDangerIterClosing(Array.from), ARRAY, {\r\n\t    // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\r\n\t    from: function(arrayLike/*, mapfn = undefined, thisArg = undefined*/){\r\n\t      var O       = Object(assertDefined(arrayLike))\r\n\t        , mapfn   = arguments[1]\r\n\t        , mapping = mapfn !== undefined\r\n\t        , f       = mapping ? ctx(mapfn, arguments[2], 2) : undefined\r\n\t        , index   = 0\r\n\t        , length, result, step;\r\n\t      if(isIterable(O)){\r\n\t        result = new (generic(this, Array));\r\n\t        safeIterClose(function(iterator){\r\n\t          for(; !(step = iterator.next()).done; index++){\r\n\t            result[index] = mapping ? f(step.value, index) : step.value;\r\n\t          }\r\n\t        }, getIterator(O));\r\n\t      } else {\r\n\t        result = new (generic(this, Array))(length = toLength(O.length));\r\n\t        for(; length > index; index++){\r\n\t          result[index] = mapping ? f(O[index], index) : O[index];\r\n\t        }\r\n\t      }\r\n\t      result.length = index;\r\n\t      return result;\r\n\t    }\r\n\t  });\r\n\t  \r\n\t  $define(STATIC, ARRAY, {\r\n\t    // 22.1.2.3 Array.of( ...items)\r\n\t    of: function(/* ...args */){\r\n\t      var index  = 0\r\n\t        , length = arguments.length\r\n\t        , result = new (generic(this, Array))(length);\r\n\t      while(length > index)result[index] = arguments[index++];\r\n\t      result.length = length;\r\n\t      return result;\r\n\t    }\r\n\t  });\r\n\t  \r\n\t  setSpecies(Array);\r\n\t}();\n\n\t/******************************************************************************\n\t * Module : es6.array.prototype                                               *\n\t ******************************************************************************/\n\n\t!function(){\r\n\t  $define(PROTO, ARRAY, {\r\n\t    // 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\r\n\t    copyWithin: function(target /* = 0 */, start /* = 0, end = @length */){\r\n\t      var O     = Object(assertDefined(this))\r\n\t        , len   = toLength(O.length)\r\n\t        , to    = toIndex(target, len)\r\n\t        , from  = toIndex(start, len)\r\n\t        , end   = arguments[2]\r\n\t        , fin   = end === undefined ? len : toIndex(end, len)\r\n\t        , count = min(fin - from, len - to)\r\n\t        , inc   = 1;\r\n\t      if(from < to && to < from + count){\r\n\t        inc  = -1;\r\n\t        from = from + count - 1;\r\n\t        to   = to + count - 1;\r\n\t      }\r\n\t      while(count-- > 0){\r\n\t        if(from in O)O[to] = O[from];\r\n\t        else delete O[to];\r\n\t        to += inc;\r\n\t        from += inc;\r\n\t      } return O;\r\n\t    },\r\n\t    // 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\r\n\t    fill: function(value /*, start = 0, end = @length */){\r\n\t      var O      = Object(assertDefined(this))\r\n\t        , length = toLength(O.length)\r\n\t        , index  = toIndex(arguments[1], length)\r\n\t        , end    = arguments[2]\r\n\t        , endPos = end === undefined ? length : toIndex(end, length);\r\n\t      while(endPos > index)O[index++] = value;\r\n\t      return O;\r\n\t    },\r\n\t    // 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\r\n\t    find: createArrayMethod(5),\r\n\t    // 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\r\n\t    findIndex: createArrayMethod(6)\r\n\t  });\r\n\t  \r\n\t  if(framework){\r\n\t    // 22.1.3.31 Array.prototype[@@unscopables]\r\n\t    forEach.call(array('find,findIndex,fill,copyWithin,entries,keys,values'), function(it){\r\n\t      ArrayUnscopables[it] = true;\r\n\t    });\r\n\t    SYMBOL_UNSCOPABLES in ArrayProto || hidden(ArrayProto, SYMBOL_UNSCOPABLES, ArrayUnscopables);\r\n\t  }\r\n\t}();\n\n\t/******************************************************************************\n\t * Module : es6.iterators                                                     *\n\t ******************************************************************************/\n\n\t!function(at){\r\n\t  // 22.1.3.4 Array.prototype.entries()\r\n\t  // 22.1.3.13 Array.prototype.keys()\r\n\t  // 22.1.3.29 Array.prototype.values()\r\n\t  // 22.1.3.30 Array.prototype[@@iterator]()\r\n\t  defineStdIterators(Array, ARRAY, function(iterated, kind){\r\n\t    set(this, ITER, {o: toObject(iterated), i: 0, k: kind});\r\n\t  // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\r\n\t  }, function(){\r\n\t    var iter  = this[ITER]\r\n\t      , O     = iter.o\r\n\t      , kind  = iter.k\r\n\t      , index = iter.i++;\r\n\t    if(!O || index >= O.length){\r\n\t      iter.o = undefined;\r\n\t      return iterResult(1);\r\n\t    }\r\n\t    if(kind == KEY)  return iterResult(0, index);\r\n\t    if(kind == VALUE)return iterResult(0, O[index]);\r\n\t                     return iterResult(0, [index, O[index]]);\r\n\t  }, VALUE);\r\n\t  \r\n\t  // argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\r\n\t  Iterators[ARGUMENTS] = Iterators[ARRAY];\r\n\t  \r\n\t  // 21.1.3.27 String.prototype[@@iterator]()\r\n\t  defineStdIterators(String, STRING, function(iterated){\r\n\t    set(this, ITER, {o: String(iterated), i: 0});\r\n\t  // 21.1.5.2.1 %StringIteratorPrototype%.next()\r\n\t  }, function(){\r\n\t    var iter  = this[ITER]\r\n\t      , O     = iter.o\r\n\t      , index = iter.i\r\n\t      , point;\r\n\t    if(index >= O.length)return iterResult(1);\r\n\t    point = at.call(O, index);\r\n\t    iter.i += point.length;\r\n\t    return iterResult(0, point);\r\n\t  });\r\n\t}(createPointAt(true));\n\n\t/******************************************************************************\n\t * Module : web.immediate                                                     *\n\t ******************************************************************************/\n\n\t// setImmediate shim\r\n\t// Node.js 0.9+ & IE10+ has setImmediate, else:\r\n\tisFunction(setImmediate) && isFunction(clearImmediate) || function(ONREADYSTATECHANGE){\r\n\t  var postMessage      = global.postMessage\r\n\t    , addEventListener = global.addEventListener\r\n\t    , MessageChannel   = global.MessageChannel\r\n\t    , counter          = 0\r\n\t    , queue            = {}\r\n\t    , defer, channel, port;\r\n\t  setImmediate = function(fn){\r\n\t    var args = [], i = 1;\r\n\t    while(arguments.length > i)args.push(arguments[i++]);\r\n\t    queue[++counter] = function(){\r\n\t      invoke(isFunction(fn) ? fn : Function(fn), args);\r\n\t    }\r\n\t    defer(counter);\r\n\t    return counter;\r\n\t  }\r\n\t  clearImmediate = function(id){\r\n\t    delete queue[id];\r\n\t  }\r\n\t  function run(id){\r\n\t    if(has(queue, id)){\r\n\t      var fn = queue[id];\r\n\t      delete queue[id];\r\n\t      fn();\r\n\t    }\r\n\t  }\r\n\t  function listner(event){\r\n\t    run(event.data);\r\n\t  }\r\n\t  // Node.js 0.8-\r\n\t  if(NODE){\r\n\t    defer = function(id){\r\n\t      nextTick(part.call(run, id));\r\n\t    }\r\n\t  // Modern browsers, skip implementation for WebWorkers\r\n\t  // IE8 has postMessage, but it's sync & typeof its postMessage is object\r\n\t  } else if(addEventListener && isFunction(postMessage) && !global.importScripts){\r\n\t    defer = function(id){\r\n\t      postMessage(id, '*');\r\n\t    }\r\n\t    addEventListener('message', listner, false);\r\n\t  // WebWorkers\r\n\t  } else if(isFunction(MessageChannel)){\r\n\t    channel = new MessageChannel;\r\n\t    port    = channel.port2;\r\n\t    channel.port1.onmessage = listner;\r\n\t    defer = ctx(port.postMessage, port, 1);\r\n\t  // IE8-\r\n\t  } else if(document && ONREADYSTATECHANGE in document[CREATE_ELEMENT]('script')){\r\n\t    defer = function(id){\r\n\t      html.appendChild(document[CREATE_ELEMENT]('script'))[ONREADYSTATECHANGE] = function(){\r\n\t        html.removeChild(this);\r\n\t        run(id);\r\n\t      }\r\n\t    }\r\n\t  // Rest old browsers\r\n\t  } else {\r\n\t    defer = function(id){\r\n\t      setTimeout(run, 0, id);\r\n\t    }\r\n\t  }\r\n\t}('onreadystatechange');\r\n\t$define(GLOBAL + BIND, {\r\n\t  setImmediate:   setImmediate,\r\n\t  clearImmediate: clearImmediate\r\n\t});\n\n\t/******************************************************************************\n\t * Module : es6.promise                                                       *\n\t ******************************************************************************/\n\n\t// ES6 promises shim\r\n\t// Based on https://github.com/getify/native-promise-only/\r\n\t!function(Promise, test){\r\n\t  isFunction(Promise) && isFunction(Promise.resolve)\r\n\t  && Promise.resolve(test = new Promise(function(){})) == test\r\n\t  || function(asap, RECORD){\r\n\t    function isThenable(it){\r\n\t      var then;\r\n\t      if(isObject(it))then = it.then;\r\n\t      return isFunction(then) ? then : false;\r\n\t    }\r\n\t    function handledRejectionOrHasOnRejected(promise){\r\n\t      var record = promise[RECORD]\r\n\t        , chain  = record.c\r\n\t        , i      = 0\r\n\t        , react;\r\n\t      if(record.h)return true;\r\n\t      while(chain.length > i){\r\n\t        react = chain[i++];\r\n\t        if(react.fail || handledRejectionOrHasOnRejected(react.P))return true;\r\n\t      }\r\n\t    }\r\n\t    function notify(record, reject){\r\n\t      var chain = record.c;\r\n\t      if(reject || chain.length)asap(function(){\r\n\t        var promise = record.p\r\n\t          , value   = record.v\r\n\t          , ok      = record.s == 1\r\n\t          , i       = 0;\r\n\t        if(reject && !handledRejectionOrHasOnRejected(promise)){\r\n\t          setTimeout(function(){\r\n\t            if(!handledRejectionOrHasOnRejected(promise)){\r\n\t              if(NODE){\r\n\t                if(!process.emit('unhandledRejection', value, promise)){\r\n\t                  // default node.js behavior\r\n\t                }\r\n\t              } else if(isFunction(console.error)){\r\n\t                console.error('Unhandled promise rejection', value);\r\n\t              }\r\n\t            }\r\n\t          }, 1e3);\r\n\t        } else while(chain.length > i)!function(react){\r\n\t          var cb = ok ? react.ok : react.fail\r\n\t            , ret, then;\r\n\t          try {\r\n\t            if(cb){\r\n\t              if(!ok)record.h = true;\r\n\t              ret = cb === true ? value : cb(value);\r\n\t              if(ret === react.P){\r\n\t                react.rej(TypeError(PROMISE + '-chain cycle'));\r\n\t              } else if(then = isThenable(ret)){\r\n\t                then.call(ret, react.res, react.rej);\r\n\t              } else react.res(ret);\r\n\t            } else react.rej(value);\r\n\t          } catch(err){\r\n\t            react.rej(err);\r\n\t          }\r\n\t        }(chain[i++]);\r\n\t        chain.length = 0;\r\n\t      });\r\n\t    }\r\n\t    function resolve(value){\r\n\t      var record = this\r\n\t        , then, wrapper;\r\n\t      if(record.d)return;\r\n\t      record.d = true;\r\n\t      record = record.r || record; // unwrap\r\n\t      try {\r\n\t        if(then = isThenable(value)){\r\n\t          wrapper = {r: record, d: false}; // wrap\r\n\t          then.call(value, ctx(resolve, wrapper, 1), ctx(reject, wrapper, 1));\r\n\t        } else {\r\n\t          record.v = value;\r\n\t          record.s = 1;\r\n\t          notify(record);\r\n\t        }\r\n\t      } catch(err){\r\n\t        reject.call(wrapper || {r: record, d: false}, err); // wrap\r\n\t      }\r\n\t    }\r\n\t    function reject(value){\r\n\t      var record = this;\r\n\t      if(record.d)return;\r\n\t      record.d = true;\r\n\t      record = record.r || record; // unwrap\r\n\t      record.v = value;\r\n\t      record.s = 2;\r\n\t      notify(record, true);\r\n\t    }\r\n\t    function getConstructor(C){\r\n\t      var S = assertObject(C)[SYMBOL_SPECIES];\r\n\t      return S != undefined ? S : C;\r\n\t    }\r\n\t    // 25.4.3.1 Promise(executor)\r\n\t    Promise = function(executor){\r\n\t      assertFunction(executor);\r\n\t      assertInstance(this, Promise, PROMISE);\r\n\t      var record = {\r\n\t        p: this,      // promise\r\n\t        c: [],        // chain\r\n\t        s: 0,         // state\r\n\t        d: false,     // done\r\n\t        v: undefined, // value\r\n\t        h: false      // handled rejection\r\n\t      };\r\n\t      hidden(this, RECORD, record);\r\n\t      try {\r\n\t        executor(ctx(resolve, record, 1), ctx(reject, record, 1));\r\n\t      } catch(err){\r\n\t        reject.call(record, err);\r\n\t      }\r\n\t    }\r\n\t    assignHidden(Promise[PROTOTYPE], {\r\n\t      // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\r\n\t      then: function(onFulfilled, onRejected){\r\n\t        var S = assertObject(assertObject(this)[CONSTRUCTOR])[SYMBOL_SPECIES];\r\n\t        var react = {\r\n\t          ok:   isFunction(onFulfilled) ? onFulfilled : true,\r\n\t          fail: isFunction(onRejected)  ? onRejected  : false\r\n\t        } , P = react.P = new (S != undefined ? S : Promise)(function(resolve, reject){\r\n\t          react.res = assertFunction(resolve);\r\n\t          react.rej = assertFunction(reject);\r\n\t        }), record = this[RECORD];\r\n\t        record.c.push(react);\r\n\t        record.s && notify(record);\r\n\t        return P;\r\n\t      },\r\n\t      // 25.4.5.1 Promise.prototype.catch(onRejected)\r\n\t      'catch': function(onRejected){\r\n\t        return this.then(undefined, onRejected);\r\n\t      }\r\n\t    });\r\n\t    assignHidden(Promise, {\r\n\t      // 25.4.4.1 Promise.all(iterable)\r\n\t      all: function(iterable){\r\n\t        var Promise = getConstructor(this)\r\n\t          , values  = [];\r\n\t        return new Promise(function(resolve, reject){\r\n\t          forOf(iterable, false, push, values);\r\n\t          var remaining = values.length\r\n\t            , results   = Array(remaining);\r\n\t          if(remaining)forEach.call(values, function(promise, index){\r\n\t            Promise.resolve(promise).then(function(value){\r\n\t              results[index] = value;\r\n\t              --remaining || resolve(results);\r\n\t            }, reject);\r\n\t          });\r\n\t          else resolve(results);\r\n\t        });\r\n\t      },\r\n\t      // 25.4.4.4 Promise.race(iterable)\r\n\t      race: function(iterable){\r\n\t        var Promise = getConstructor(this);\r\n\t        return new Promise(function(resolve, reject){\r\n\t          forOf(iterable, false, function(promise){\r\n\t            Promise.resolve(promise).then(resolve, reject);\r\n\t          });\r\n\t        });\r\n\t      },\r\n\t      // 25.4.4.5 Promise.reject(r)\r\n\t      reject: function(r){\r\n\t        return new (getConstructor(this))(function(resolve, reject){\r\n\t          reject(r);\r\n\t        });\r\n\t      },\r\n\t      // 25.4.4.6 Promise.resolve(x)\r\n\t      resolve: function(x){\r\n\t        return isObject(x) && RECORD in x && getPrototypeOf(x) === this[PROTOTYPE]\r\n\t          ? x : new (getConstructor(this))(function(resolve, reject){\r\n\t            resolve(x);\r\n\t          });\r\n\t      }\r\n\t    });\r\n\t  }(nextTick || setImmediate, safeSymbol('record'));\r\n\t  setToStringTag(Promise, PROMISE);\r\n\t  setSpecies(Promise);\r\n\t  $define(GLOBAL + FORCED * !isNative(Promise), {Promise: Promise});\r\n\t}(global[PROMISE]);\n\n\t/******************************************************************************\n\t * Module : es6.collections                                                   *\n\t ******************************************************************************/\n\n\t// ECMAScript 6 collections shim\r\n\t!function(){\r\n\t  var UID   = safeSymbol('uid')\r\n\t    , O1    = safeSymbol('O1')\r\n\t    , WEAK  = safeSymbol('weak')\r\n\t    , LEAK  = safeSymbol('leak')\r\n\t    , LAST  = safeSymbol('last')\r\n\t    , FIRST = safeSymbol('first')\r\n\t    , SIZE  = DESC ? safeSymbol('size') : 'size'\r\n\t    , uid   = 0\r\n\t    , tmp   = {};\r\n\t  \r\n\t  function getCollection(C, NAME, methods, commonMethods, isMap, isWeak){\r\n\t    var ADDER = isMap ? 'set' : 'add'\r\n\t      , proto = C && C[PROTOTYPE]\r\n\t      , O     = {};\r\n\t    function initFromIterable(that, iterable){\r\n\t      if(iterable != undefined)forOf(iterable, isMap, that[ADDER], that);\r\n\t      return that;\r\n\t    }\r\n\t    function fixSVZ(key, chain){\r\n\t      var method = proto[key];\r\n\t      if(framework)proto[key] = function(a, b){\r\n\t        var result = method.call(this, a === 0 ? 0 : a, b);\r\n\t        return chain ? this : result;\r\n\t      };\r\n\t    }\r\n\t    if(!isNative(C) || !(isWeak || (!BUGGY_ITERATORS && has(proto, FOR_EACH) && has(proto, 'entries')))){\r\n\t      // create collection constructor\r\n\t      C = isWeak\r\n\t        ? function(iterable){\r\n\t            assertInstance(this, C, NAME);\r\n\t            set(this, UID, uid++);\r\n\t            initFromIterable(this, iterable);\r\n\t          }\r\n\t        : function(iterable){\r\n\t            var that = this;\r\n\t            assertInstance(that, C, NAME);\r\n\t            set(that, O1, create(null));\r\n\t            set(that, SIZE, 0);\r\n\t            set(that, LAST, undefined);\r\n\t            set(that, FIRST, undefined);\r\n\t            initFromIterable(that, iterable);\r\n\t          };\r\n\t      assignHidden(assignHidden(C[PROTOTYPE], methods), commonMethods);\r\n\t      isWeak || !DESC || defineProperty(C[PROTOTYPE], 'size', {get: function(){\r\n\t        return assertDefined(this[SIZE]);\r\n\t      }});\r\n\t    } else {\r\n\t      var Native = C\r\n\t        , inst   = new C\r\n\t        , chain  = inst[ADDER](isWeak ? {} : -0, 1)\r\n\t        , buggyZero;\r\n\t      // wrap to init collections from iterable\r\n\t      if(checkDangerIterClosing(function(O){ new C(O) })){\r\n\t        C = function(iterable){\r\n\t          assertInstance(this, C, NAME);\r\n\t          return initFromIterable(new Native, iterable);\r\n\t        }\r\n\t        C[PROTOTYPE] = proto;\r\n\t        if(framework)proto[CONSTRUCTOR] = C;\r\n\t      }\r\n\t      isWeak || inst[FOR_EACH](function(val, key){\r\n\t        buggyZero = 1 / key === -Infinity;\r\n\t      });\r\n\t      // fix converting -0 key to +0\r\n\t      if(buggyZero){\r\n\t        fixSVZ('delete');\r\n\t        fixSVZ('has');\r\n\t        isMap && fixSVZ('get');\r\n\t      }\r\n\t      // + fix .add & .set for chaining\r\n\t      if(buggyZero || chain !== inst)fixSVZ(ADDER, true);\r\n\t    }\r\n\t    setToStringTag(C, NAME);\r\n\t    setSpecies(C);\r\n\t    \r\n\t    O[NAME] = C;\r\n\t    $define(GLOBAL + WRAP + FORCED * !isNative(C), O);\r\n\t    \r\n\t    // add .keys, .values, .entries, [@@iterator]\r\n\t    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\r\n\t    isWeak || defineStdIterators(C, NAME, function(iterated, kind){\r\n\t      set(this, ITER, {o: iterated, k: kind});\r\n\t    }, function(){\r\n\t      var iter  = this[ITER]\r\n\t        , kind  = iter.k\r\n\t        , entry = iter.l;\r\n\t      // revert to the last existing entry\r\n\t      while(entry && entry.r)entry = entry.p;\r\n\t      // get next entry\r\n\t      if(!iter.o || !(iter.l = entry = entry ? entry.n : iter.o[FIRST])){\r\n\t        // or finish the iteration\r\n\t        iter.o = undefined;\r\n\t        return iterResult(1);\r\n\t      }\r\n\t      // return step by kind\r\n\t      if(kind == KEY)  return iterResult(0, entry.k);\r\n\t      if(kind == VALUE)return iterResult(0, entry.v);\r\n\t                       return iterResult(0, [entry.k, entry.v]);   \r\n\t    }, isMap ? KEY+VALUE : VALUE, !isMap);\r\n\t    \r\n\t    return C;\r\n\t  }\r\n\t  \r\n\t  function fastKey(it, create){\r\n\t    // return primitive with prefix\r\n\t    if(!isObject(it))return (typeof it == 'string' ? 'S' : 'P') + it;\r\n\t    // can't set id to frozen object\r\n\t    if(isFrozen(it))return 'F';\r\n\t    if(!has(it, UID)){\r\n\t      // not necessary to add id\r\n\t      if(!create)return 'E';\r\n\t      // add missing object id\r\n\t      hidden(it, UID, ++uid);\r\n\t    // return object id with prefix\r\n\t    } return 'O' + it[UID];\r\n\t  }\r\n\t  function getEntry(that, key){\r\n\t    // fast case\r\n\t    var index = fastKey(key), entry;\r\n\t    if(index != 'F')return that[O1][index];\r\n\t    // frozen object case\r\n\t    for(entry = that[FIRST]; entry; entry = entry.n){\r\n\t      if(entry.k == key)return entry;\r\n\t    }\r\n\t  }\r\n\t  function def(that, key, value){\r\n\t    var entry = getEntry(that, key)\r\n\t      , prev, index;\r\n\t    // change existing entry\r\n\t    if(entry)entry.v = value;\r\n\t    // create new entry\r\n\t    else {\r\n\t      that[LAST] = entry = {\r\n\t        i: index = fastKey(key, true), // <- index\r\n\t        k: key,                        // <- key\r\n\t        v: value,                      // <- value\r\n\t        p: prev = that[LAST],          // <- previous entry\r\n\t        n: undefined,                  // <- next entry\r\n\t        r: false                       // <- removed\r\n\t      };\r\n\t      if(!that[FIRST])that[FIRST] = entry;\r\n\t      if(prev)prev.n = entry;\r\n\t      that[SIZE]++;\r\n\t      // add to index\r\n\t      if(index != 'F')that[O1][index] = entry;\r\n\t    } return that;\r\n\t  }\r\n\r\n\t  var collectionMethods = {\r\n\t    // 23.1.3.1 Map.prototype.clear()\r\n\t    // 23.2.3.2 Set.prototype.clear()\r\n\t    clear: function(){\r\n\t      for(var that = this, data = that[O1], entry = that[FIRST]; entry; entry = entry.n){\r\n\t        entry.r = true;\r\n\t        if(entry.p)entry.p = entry.p.n = undefined;\r\n\t        delete data[entry.i];\r\n\t      }\r\n\t      that[FIRST] = that[LAST] = undefined;\r\n\t      that[SIZE] = 0;\r\n\t    },\r\n\t    // 23.1.3.3 Map.prototype.delete(key)\r\n\t    // 23.2.3.4 Set.prototype.delete(value)\r\n\t    'delete': function(key){\r\n\t      var that  = this\r\n\t        , entry = getEntry(that, key);\r\n\t      if(entry){\r\n\t        var next = entry.n\r\n\t          , prev = entry.p;\r\n\t        delete that[O1][entry.i];\r\n\t        entry.r = true;\r\n\t        if(prev)prev.n = next;\r\n\t        if(next)next.p = prev;\r\n\t        if(that[FIRST] == entry)that[FIRST] = next;\r\n\t        if(that[LAST] == entry)that[LAST] = prev;\r\n\t        that[SIZE]--;\r\n\t      } return !!entry;\r\n\t    },\r\n\t    // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\r\n\t    // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\r\n\t    forEach: function(callbackfn /*, that = undefined */){\r\n\t      var f = ctx(callbackfn, arguments[1], 3)\r\n\t        , entry;\r\n\t      while(entry = entry ? entry.n : this[FIRST]){\r\n\t        f(entry.v, entry.k, this);\r\n\t        // revert to the last existing entry\r\n\t        while(entry && entry.r)entry = entry.p;\r\n\t      }\r\n\t    },\r\n\t    // 23.1.3.7 Map.prototype.has(key)\r\n\t    // 23.2.3.7 Set.prototype.has(value)\r\n\t    has: function(key){\r\n\t      return !!getEntry(this, key);\r\n\t    }\r\n\t  }\r\n\t  \r\n\t  // 23.1 Map Objects\r\n\t  Map = getCollection(Map, MAP, {\r\n\t    // 23.1.3.6 Map.prototype.get(key)\r\n\t    get: function(key){\r\n\t      var entry = getEntry(this, key);\r\n\t      return entry && entry.v;\r\n\t    },\r\n\t    // 23.1.3.9 Map.prototype.set(key, value)\r\n\t    set: function(key, value){\r\n\t      return def(this, key === 0 ? 0 : key, value);\r\n\t    }\r\n\t  }, collectionMethods, true);\r\n\t  \r\n\t  // 23.2 Set Objects\r\n\t  Set = getCollection(Set, SET, {\r\n\t    // 23.2.3.1 Set.prototype.add(value)\r\n\t    add: function(value){\r\n\t      return def(this, value = value === 0 ? 0 : value, value);\r\n\t    }\r\n\t  }, collectionMethods);\r\n\t  \r\n\t  function defWeak(that, key, value){\r\n\t    if(isFrozen(assertObject(key)))leakStore(that).set(key, value);\r\n\t    else {\r\n\t      has(key, WEAK) || hidden(key, WEAK, {});\r\n\t      key[WEAK][that[UID]] = value;\r\n\t    } return that;\r\n\t  }\r\n\t  function leakStore(that){\r\n\t    return that[LEAK] || hidden(that, LEAK, new Map)[LEAK];\r\n\t  }\r\n\t  \r\n\t  var weakMethods = {\r\n\t    // 23.3.3.2 WeakMap.prototype.delete(key)\r\n\t    // 23.4.3.3 WeakSet.prototype.delete(value)\r\n\t    'delete': function(key){\r\n\t      if(!isObject(key))return false;\r\n\t      if(isFrozen(key))return leakStore(this)['delete'](key);\r\n\t      return has(key, WEAK) && has(key[WEAK], this[UID]) && delete key[WEAK][this[UID]];\r\n\t    },\r\n\t    // 23.3.3.4 WeakMap.prototype.has(key)\r\n\t    // 23.4.3.4 WeakSet.prototype.has(value)\r\n\t    has: function(key){\r\n\t      if(!isObject(key))return false;\r\n\t      if(isFrozen(key))return leakStore(this).has(key);\r\n\t      return has(key, WEAK) && has(key[WEAK], this[UID]);\r\n\t    }\r\n\t  };\r\n\t  \r\n\t  // 23.3 WeakMap Objects\r\n\t  WeakMap = getCollection(WeakMap, WEAKMAP, {\r\n\t    // 23.3.3.3 WeakMap.prototype.get(key)\r\n\t    get: function(key){\r\n\t      if(isObject(key)){\r\n\t        if(isFrozen(key))return leakStore(this).get(key);\r\n\t        if(has(key, WEAK))return key[WEAK][this[UID]];\r\n\t      }\r\n\t    },\r\n\t    // 23.3.3.5 WeakMap.prototype.set(key, value)\r\n\t    set: function(key, value){\r\n\t      return defWeak(this, key, value);\r\n\t    }\r\n\t  }, weakMethods, true, true);\r\n\t  \r\n\t  // IE11 WeakMap frozen keys fix\r\n\t  if(framework && new WeakMap().set(Object.freeze(tmp), 7).get(tmp) != 7){\r\n\t    forEach.call(array('delete,has,get,set'), function(key){\r\n\t      var method = WeakMap[PROTOTYPE][key];\r\n\t      WeakMap[PROTOTYPE][key] = function(a, b){\r\n\t        // store frozen objects on leaky map\r\n\t        if(isObject(a) && isFrozen(a)){\r\n\t          var result = leakStore(this)[key](a, b);\r\n\t          return key == 'set' ? this : result;\r\n\t        // store all the rest on native weakmap\r\n\t        } return method.call(this, a, b);\r\n\t      };\r\n\t    });\r\n\t  }\r\n\t  \r\n\t  // 23.4 WeakSet Objects\r\n\t  WeakSet = getCollection(WeakSet, WEAKSET, {\r\n\t    // 23.4.3.1 WeakSet.prototype.add(value)\r\n\t    add: function(value){\r\n\t      return defWeak(this, value, true);\r\n\t    }\r\n\t  }, weakMethods, false, true);\r\n\t}();\n\n\t/******************************************************************************\n\t * Module : es6.reflect                                                       *\n\t ******************************************************************************/\n\n\t!function(){\r\n\t  function Enumerate(iterated){\r\n\t    var keys = [], key;\r\n\t    for(key in iterated)keys.push(key);\r\n\t    set(this, ITER, {o: iterated, a: keys, i: 0});\r\n\t  }\r\n\t  createIterator(Enumerate, OBJECT, function(){\r\n\t    var iter = this[ITER]\r\n\t      , keys = iter.a\r\n\t      , key;\r\n\t    do {\r\n\t      if(iter.i >= keys.length)return iterResult(1);\r\n\t    } while(!((key = keys[iter.i++]) in iter.o));\r\n\t    return iterResult(0, key);\r\n\t  });\r\n\t  \r\n\t  function wrap(fn){\r\n\t    return function(it){\r\n\t      assertObject(it);\r\n\t      try {\r\n\t        return fn.apply(undefined, arguments), true;\r\n\t      } catch(e){\r\n\t        return false;\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t  \r\n\t  function reflectGet(target, propertyKey/*, receiver*/){\r\n\t    var receiver = arguments.length < 3 ? target : arguments[2]\r\n\t      , desc = getOwnDescriptor(assertObject(target), propertyKey), proto;\r\n\t    if(desc)return has(desc, 'value')\r\n\t      ? desc.value\r\n\t      : desc.get === undefined\r\n\t        ? undefined\r\n\t        : desc.get.call(receiver);\r\n\t    return isObject(proto = getPrototypeOf(target))\r\n\t      ? reflectGet(proto, propertyKey, receiver)\r\n\t      : undefined;\r\n\t  }\r\n\t  function reflectSet(target, propertyKey, V/*, receiver*/){\r\n\t    var receiver = arguments.length < 4 ? target : arguments[3]\r\n\t      , ownDesc  = getOwnDescriptor(assertObject(target), propertyKey)\r\n\t      , existingDescriptor, proto;\r\n\t    if(!ownDesc){\r\n\t      if(isObject(proto = getPrototypeOf(target))){\r\n\t        return reflectSet(proto, propertyKey, V, receiver);\r\n\t      }\r\n\t      ownDesc = descriptor(0);\r\n\t    }\r\n\t    if(has(ownDesc, 'value')){\r\n\t      if(ownDesc.writable === false || !isObject(receiver))return false;\r\n\t      existingDescriptor = getOwnDescriptor(receiver, propertyKey) || descriptor(0);\r\n\t      existingDescriptor.value = V;\r\n\t      return defineProperty(receiver, propertyKey, existingDescriptor), true;\r\n\t    }\r\n\t    return ownDesc.set === undefined\r\n\t      ? false\r\n\t      : (ownDesc.set.call(receiver, V), true);\r\n\t  }\r\n\t  var isExtensible = Object.isExtensible || returnIt;\r\n\t  \r\n\t  var reflect = {\r\n\t    // 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\r\n\t    apply: ctx(call, apply, 3),\r\n\t    // 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\r\n\t    construct: function(target, argumentsList /*, newTarget*/){\r\n\t      var proto    = assertFunction(arguments.length < 3 ? target : arguments[2])[PROTOTYPE]\r\n\t        , instance = create(isObject(proto) ? proto : ObjectProto)\r\n\t        , result   = apply.call(target, instance, argumentsList);\r\n\t      return isObject(result) ? result : instance;\r\n\t    },\r\n\t    // 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\r\n\t    defineProperty: wrap(defineProperty),\r\n\t    // 26.1.4 Reflect.deleteProperty(target, propertyKey)\r\n\t    deleteProperty: function(target, propertyKey){\r\n\t      var desc = getOwnDescriptor(assertObject(target), propertyKey);\r\n\t      return desc && !desc.configurable ? false : delete target[propertyKey];\r\n\t    },\r\n\t    // 26.1.5 Reflect.enumerate(target)\r\n\t    enumerate: function(target){\r\n\t      return new Enumerate(assertObject(target));\r\n\t    },\r\n\t    // 26.1.6 Reflect.get(target, propertyKey [, receiver])\r\n\t    get: reflectGet,\r\n\t    // 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\r\n\t    getOwnPropertyDescriptor: function(target, propertyKey){\r\n\t      return getOwnDescriptor(assertObject(target), propertyKey);\r\n\t    },\r\n\t    // 26.1.8 Reflect.getPrototypeOf(target)\r\n\t    getPrototypeOf: function(target){\r\n\t      return getPrototypeOf(assertObject(target));\r\n\t    },\r\n\t    // 26.1.9 Reflect.has(target, propertyKey)\r\n\t    has: function(target, propertyKey){\r\n\t      return propertyKey in target;\r\n\t    },\r\n\t    // 26.1.10 Reflect.isExtensible(target)\r\n\t    isExtensible: function(target){\r\n\t      return !!isExtensible(assertObject(target));\r\n\t    },\r\n\t    // 26.1.11 Reflect.ownKeys(target)\r\n\t    ownKeys: ownKeys,\r\n\t    // 26.1.12 Reflect.preventExtensions(target)\r\n\t    preventExtensions: wrap(Object.preventExtensions || returnIt),\r\n\t    // 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\r\n\t    set: reflectSet\r\n\t  }\r\n\t  // 26.1.14 Reflect.setPrototypeOf(target, proto)\r\n\t  if(setPrototypeOf)reflect.setPrototypeOf = function(target, proto){\r\n\t    return setPrototypeOf(assertObject(target), proto), true;\r\n\t  };\r\n\t  \r\n\t  $define(GLOBAL, {Reflect: {}});\r\n\t  $define(STATIC, 'Reflect', reflect);\r\n\t}();\n\n\t/******************************************************************************\n\t * Module : es7.proposals                                                     *\n\t ******************************************************************************/\n\n\t!function(){\r\n\t  $define(PROTO, ARRAY, {\r\n\t    // https://github.com/domenic/Array.prototype.includes\r\n\t    includes: createArrayContains(true)\r\n\t  });\r\n\t  $define(PROTO, STRING, {\r\n\t    // https://github.com/mathiasbynens/String.prototype.at\r\n\t    at: createPointAt(true)\r\n\t  });\r\n\t  \r\n\t  function createObjectToArray(isEntries){\r\n\t    return function(object){\r\n\t      var O      = toObject(object)\r\n\t        , keys   = getKeys(object)\r\n\t        , length = keys.length\r\n\t        , i      = 0\r\n\t        , result = Array(length)\r\n\t        , key;\r\n\t      if(isEntries)while(length > i)result[i] = [key = keys[i++], O[key]];\r\n\t      else while(length > i)result[i] = O[keys[i++]];\r\n\t      return result;\r\n\t    }\r\n\t  }\r\n\t  $define(STATIC, OBJECT, {\r\n\t    // https://gist.github.com/WebReflection/9353781\r\n\t    getOwnPropertyDescriptors: function(object){\r\n\t      var O      = toObject(object)\r\n\t        , result = {};\r\n\t      forEach.call(ownKeys(O), function(key){\r\n\t        defineProperty(result, key, descriptor(0, getOwnDescriptor(O, key)));\r\n\t      });\r\n\t      return result;\r\n\t    },\r\n\t    // https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-04/apr-9.md#51-objectentries-objectvalues\r\n\t    values:  createObjectToArray(false),\r\n\t    entries: createObjectToArray(true)\r\n\t  });\r\n\t  $define(STATIC, REGEXP, {\r\n\t    // https://gist.github.com/kangax/9698100\r\n\t    escape: createReplacer(/([\\\\\\-[\\]{}()*+?.,^$|])/g, '\\\\$1', true)\r\n\t  });\r\n\t}();\n\n\t/******************************************************************************\n\t * Module : es7.abstract-refs                                                 *\n\t ******************************************************************************/\n\n\t// https://github.com/zenparsing/es-abstract-refs\r\n\t!function(REFERENCE){\r\n\t  REFERENCE_GET = getWellKnownSymbol(REFERENCE+'Get', true);\r\n\t  var REFERENCE_SET = getWellKnownSymbol(REFERENCE+SET, true)\r\n\t    , REFERENCE_DELETE = getWellKnownSymbol(REFERENCE+'Delete', true);\r\n\t  \r\n\t  $define(STATIC, SYMBOL, {\r\n\t    referenceGet: REFERENCE_GET,\r\n\t    referenceSet: REFERENCE_SET,\r\n\t    referenceDelete: REFERENCE_DELETE\r\n\t  });\r\n\t  \r\n\t  hidden(FunctionProto, REFERENCE_GET, returnThis);\r\n\t  \r\n\t  function setMapMethods(Constructor){\r\n\t    if(Constructor){\r\n\t      var MapProto = Constructor[PROTOTYPE];\r\n\t      hidden(MapProto, REFERENCE_GET, MapProto.get);\r\n\t      hidden(MapProto, REFERENCE_SET, MapProto.set);\r\n\t      hidden(MapProto, REFERENCE_DELETE, MapProto['delete']);\r\n\t    }\r\n\t  }\r\n\t  setMapMethods(Map);\r\n\t  setMapMethods(WeakMap);\r\n\t}('reference');\n\n\t/******************************************************************************\n\t * Module : core.dict                                                         *\n\t ******************************************************************************/\n\n\t!function(DICT){\r\n\t  Dict = function(iterable){\r\n\t    var dict = create(null);\r\n\t    if(iterable != undefined){\r\n\t      if(isIterable(iterable)){\r\n\t        forOf(iterable, true, function(key, value){\r\n\t          dict[key] = value;\r\n\t        });\r\n\t      } else assign(dict, iterable);\r\n\t    }\r\n\t    return dict;\r\n\t  }\r\n\t  Dict[PROTOTYPE] = null;\r\n\t  \r\n\t  function DictIterator(iterated, kind){\r\n\t    set(this, ITER, {o: toObject(iterated), a: getKeys(iterated), i: 0, k: kind});\r\n\t  }\r\n\t  createIterator(DictIterator, DICT, function(){\r\n\t    var iter = this[ITER]\r\n\t      , O    = iter.o\r\n\t      , keys = iter.a\r\n\t      , kind = iter.k\r\n\t      , key;\r\n\t    do {\r\n\t      if(iter.i >= keys.length){\r\n\t        iter.o = undefined;\r\n\t        return iterResult(1);\r\n\t      }\r\n\t    } while(!has(O, key = keys[iter.i++]));\r\n\t    if(kind == KEY)  return iterResult(0, key);\r\n\t    if(kind == VALUE)return iterResult(0, O[key]);\r\n\t                     return iterResult(0, [key, O[key]]);\r\n\t  });\r\n\t  function createDictIter(kind){\r\n\t    return function(it){\r\n\t      return new DictIterator(it, kind);\r\n\t    }\r\n\t  }\r\n\t  \r\n\t  /*\r\n\t   * 0 -> forEach\r\n\t   * 1 -> map\r\n\t   * 2 -> filter\r\n\t   * 3 -> some\r\n\t   * 4 -> every\r\n\t   * 5 -> find\r\n\t   * 6 -> findKey\r\n\t   * 7 -> mapPairs\r\n\t   */\r\n\t  function createDictMethod(type){\r\n\t    var isMap    = type == 1\r\n\t      , isEvery  = type == 4;\r\n\t    return function(object, callbackfn, that /* = undefined */){\r\n\t      var f      = ctx(callbackfn, that, 3)\r\n\t        , O      = toObject(object)\r\n\t        , result = isMap || type == 7 || type == 2 ? new (generic(this, Dict)) : undefined\r\n\t        , key, val, res;\r\n\t      for(key in O)if(has(O, key)){\r\n\t        val = O[key];\r\n\t        res = f(val, key, object);\r\n\t        if(type){\r\n\t          if(isMap)result[key] = res;             // map\r\n\t          else if(res)switch(type){\r\n\t            case 2: result[key] = val; break      // filter\r\n\t            case 3: return true;                  // some\r\n\t            case 5: return val;                   // find\r\n\t            case 6: return key;                   // findKey\r\n\t            case 7: result[res[0]] = res[1];      // mapPairs\r\n\t          } else if(isEvery)return false;         // every\r\n\t        }\r\n\t      }\r\n\t      return type == 3 || isEvery ? isEvery : result;\r\n\t    }\r\n\t  }\r\n\t  function createDictReduce(isTurn){\r\n\t    return function(object, mapfn, init){\r\n\t      assertFunction(mapfn);\r\n\t      var O      = toObject(object)\r\n\t        , keys   = getKeys(O)\r\n\t        , length = keys.length\r\n\t        , i      = 0\r\n\t        , memo, key, result;\r\n\t      if(isTurn)memo = init == undefined ? new (generic(this, Dict)) : Object(init);\r\n\t      else if(arguments.length < 3){\r\n\t        assert(length, REDUCE_ERROR);\r\n\t        memo = O[keys[i++]];\r\n\t      } else memo = Object(init);\r\n\t      while(length > i)if(has(O, key = keys[i++])){\r\n\t        result = mapfn(memo, O[key], key, object);\r\n\t        if(isTurn){\r\n\t          if(result === false)break;\r\n\t        } else memo = result;\r\n\t      }\r\n\t      return memo;\r\n\t    }\r\n\t  }\r\n\t  var findKey = createDictMethod(6);\r\n\t  function includes(object, el){\r\n\t    return (el == el ? keyOf(object, el) : findKey(object, sameNaN)) !== undefined;\r\n\t  }\r\n\t  \r\n\t  var dictMethods = {\r\n\t    keys:    createDictIter(KEY),\r\n\t    values:  createDictIter(VALUE),\r\n\t    entries: createDictIter(KEY+VALUE),\r\n\t    forEach: createDictMethod(0),\r\n\t    map:     createDictMethod(1),\r\n\t    filter:  createDictMethod(2),\r\n\t    some:    createDictMethod(3),\r\n\t    every:   createDictMethod(4),\r\n\t    find:    createDictMethod(5),\r\n\t    findKey: findKey,\r\n\t    mapPairs:createDictMethod(7),\r\n\t    reduce:  createDictReduce(false),\r\n\t    turn:    createDictReduce(true),\r\n\t    keyOf:   keyOf,\r\n\t    includes:includes,\r\n\t    // Has / get / set own property\r\n\t    has: has,\r\n\t    get: get,\r\n\t    set: createDefiner(0),\r\n\t    isDict: function(it){\r\n\t      return isObject(it) && getPrototypeOf(it) === Dict[PROTOTYPE];\r\n\t    }\r\n\t  };\r\n\t  \r\n\t  if(REFERENCE_GET)for(var key in dictMethods)!function(fn){\r\n\t    function method(){\r\n\t      for(var args = [this], i = 0; i < arguments.length;)args.push(arguments[i++]);\r\n\t      return invoke(fn, args);\r\n\t    }\r\n\t    fn[REFERENCE_GET] = function(){\r\n\t      return method;\r\n\t    }\r\n\t  }(dictMethods[key]);\r\n\t  \r\n\t  $define(GLOBAL + FORCED, {Dict: assignHidden(Dict, dictMethods)});\r\n\t}('Dict');\n\n\t/******************************************************************************\n\t * Module : core.$for                                                         *\n\t ******************************************************************************/\n\n\t!function(ENTRIES, FN){  \r\n\t  function $for(iterable, entries){\r\n\t    if(!(this instanceof $for))return new $for(iterable, entries);\r\n\t    this[ITER]    = getIterator(iterable);\r\n\t    this[ENTRIES] = !!entries;\r\n\t  }\r\n\t  \r\n\t  createIterator($for, 'Wrapper', function(){\r\n\t    return this[ITER].next();\r\n\t  });\r\n\t  var $forProto = $for[PROTOTYPE];\r\n\t  setIterator($forProto, function(){\r\n\t    return this[ITER]; // unwrap\r\n\t  });\r\n\t  \r\n\t  function createChainIterator(next){\r\n\t    function Iter(I, fn, that){\r\n\t      this[ITER]    = getIterator(I);\r\n\t      this[ENTRIES] = I[ENTRIES];\r\n\t      this[FN]      = ctx(fn, that, I[ENTRIES] ? 2 : 1);\r\n\t    }\r\n\t    createIterator(Iter, 'Chain', next, $forProto);\r\n\t    setIterator(Iter[PROTOTYPE], returnThis); // override $forProto iterator\r\n\t    return Iter;\r\n\t  }\r\n\t  \r\n\t  var MapIter = createChainIterator(function(){\r\n\t    var step = this[ITER].next();\r\n\t    return step.done ? step : iterResult(0, stepCall(this[FN], step.value, this[ENTRIES]));\r\n\t  });\r\n\t  \r\n\t  var FilterIter = createChainIterator(function(){\r\n\t    for(;;){\r\n\t      var step = this[ITER].next();\r\n\t      if(step.done || stepCall(this[FN], step.value, this[ENTRIES]))return step;\r\n\t    }\r\n\t  });\r\n\t  \r\n\t  assignHidden($forProto, {\r\n\t    of: function(fn, that){\r\n\t      forOf(this, this[ENTRIES], fn, that);\r\n\t    },\r\n\t    array: function(fn, that){\r\n\t      var result = [];\r\n\t      forOf(fn != undefined ? this.map(fn, that) : this, false, push, result);\r\n\t      return result;\r\n\t    },\r\n\t    filter: function(fn, that){\r\n\t      return new FilterIter(this, fn, that);\r\n\t    },\r\n\t    map: function(fn, that){\r\n\t      return new MapIter(this, fn, that);\r\n\t    }\r\n\t  });\r\n\t  \r\n\t  $for.isIterable  = isIterable;\r\n\t  $for.getIterator = getIterator;\r\n\t  \r\n\t  $define(GLOBAL + FORCED, {$for: $for});\r\n\t}('entries', safeSymbol('fn'));\n\n\t/******************************************************************************\n\t * Module : core.delay                                                        *\n\t ******************************************************************************/\n\n\t// https://esdiscuss.org/topic/promise-returning-delay-function\r\n\t$define(GLOBAL + FORCED, {\r\n\t  delay: function(time){\r\n\t    return new Promise(function(resolve){\r\n\t      setTimeout(resolve, time, true);\r\n\t    });\r\n\t  }\r\n\t});\n\n\t/******************************************************************************\n\t * Module : core.binding                                                      *\n\t ******************************************************************************/\n\n\t!function(_, toLocaleString){\r\n\t  // Placeholder\r\n\t  core._ = path._ = path._ || {};\r\n\r\n\t  $define(PROTO + FORCED, FUNCTION, {\r\n\t    part: part,\r\n\t    only: function(numberArguments, that /* = @ */){\r\n\t      var fn     = assertFunction(this)\r\n\t        , n      = toLength(numberArguments)\r\n\t        , isThat = arguments.length > 1;\r\n\t      return function(/* ...args */){\r\n\t        var length = min(n, arguments.length)\r\n\t          , args   = Array(length)\r\n\t          , i      = 0;\r\n\t        while(length > i)args[i] = arguments[i++];\r\n\t        return invoke(fn, args, isThat ? that : this);\r\n\t      }\r\n\t    }\r\n\t  });\r\n\t  \r\n\t  function tie(key){\r\n\t    var that  = this\r\n\t      , bound = {};\r\n\t    return hidden(that, _, function(key){\r\n\t      if(key === undefined || !(key in that))return toLocaleString.call(that);\r\n\t      return has(bound, key) ? bound[key] : (bound[key] = ctx(that[key], that, -1));\r\n\t    })[_](key);\r\n\t  }\r\n\t  \r\n\t  hidden(path._, TO_STRING, function(){\r\n\t    return _;\r\n\t  });\r\n\t  \r\n\t  hidden(ObjectProto, _, tie);\r\n\t  DESC || hidden(ArrayProto, _, tie);\r\n\t  // IE8- dirty hack - redefined toLocaleString is not enumerable\r\n\t}(DESC ? uid('tie') : TO_LOCALE, ObjectProto[TO_LOCALE]);\n\n\t/******************************************************************************\n\t * Module : core.object                                                       *\n\t ******************************************************************************/\n\n\t!function(){\r\n\t  function define(target, mixin){\r\n\t    var keys   = ownKeys(toObject(mixin))\r\n\t      , length = keys.length\r\n\t      , i = 0, key;\r\n\t    while(length > i)defineProperty(target, key = keys[i++], getOwnDescriptor(mixin, key));\r\n\t    return target;\r\n\t  };\r\n\t  $define(STATIC + FORCED, OBJECT, {\r\n\t    isObject: isObject,\r\n\t    classof: classof,\r\n\t    define: define,\r\n\t    make: function(proto, mixin){\r\n\t      return define(create(proto), mixin);\r\n\t    }\r\n\t  });\r\n\t}();\n\n\t/******************************************************************************\n\t * Module : core.array                                                        *\n\t ******************************************************************************/\n\n\t$define(PROTO + FORCED, ARRAY, {\r\n\t  turn: function(fn, target /* = [] */){\r\n\t    assertFunction(fn);\r\n\t    var memo   = target == undefined ? [] : Object(target)\r\n\t      , O      = ES5Object(this)\r\n\t      , length = toLength(O.length)\r\n\t      , index  = 0;\r\n\t    while(length > index)if(fn(memo, O[index], index++, this) === false)break;\r\n\t    return memo;\r\n\t  }\r\n\t});\r\n\tif(framework)ArrayUnscopables.turn = true;\n\n\t/******************************************************************************\n\t * Module : core.number                                                       *\n\t ******************************************************************************/\n\n\t!function(numberMethods){  \r\n\t  function NumberIterator(iterated){\r\n\t    set(this, ITER, {l: toLength(iterated), i: 0});\r\n\t  }\r\n\t  createIterator(NumberIterator, NUMBER, function(){\r\n\t    var iter = this[ITER]\r\n\t      , i    = iter.i++;\r\n\t    return i < iter.l ? iterResult(0, i) : iterResult(1);\r\n\t  });\r\n\t  defineIterator(Number, NUMBER, function(){\r\n\t    return new NumberIterator(this);\r\n\t  });\r\n\t  \r\n\t  numberMethods.random = function(lim /* = 0 */){\r\n\t    var a = +this\r\n\t      , b = lim == undefined ? 0 : +lim\r\n\t      , m = min(a, b);\r\n\t    return random() * (max(a, b) - m) + m;\r\n\t  };\r\n\r\n\t  forEach.call(array(\r\n\t      // ES3:\r\n\t      'round,floor,ceil,abs,sin,asin,cos,acos,tan,atan,exp,sqrt,max,min,pow,atan2,' +\r\n\t      // ES6:\r\n\t      'acosh,asinh,atanh,cbrt,clz32,cosh,expm1,hypot,imul,log1p,log10,log2,sign,sinh,tanh,trunc'\r\n\t    ), function(key){\r\n\t      var fn = Math[key];\r\n\t      if(fn)numberMethods[key] = function(/* ...args */){\r\n\t        // ie9- dont support strict mode & convert `this` to object -> convert it to number\r\n\t        var args = [+this]\r\n\t          , i    = 0;\r\n\t        while(arguments.length > i)args.push(arguments[i++]);\r\n\t        return invoke(fn, args);\r\n\t      }\r\n\t    }\r\n\t  );\r\n\t  \r\n\t  $define(PROTO + FORCED, NUMBER, numberMethods);\r\n\t}({});\n\n\t/******************************************************************************\n\t * Module : core.string                                                       *\n\t ******************************************************************************/\n\n\t!function(){\r\n\t  var escapeHTMLDict = {\r\n\t    '&': '&amp;',\r\n\t    '<': '&lt;',\r\n\t    '>': '&gt;',\r\n\t    '\"': '&quot;',\r\n\t    \"'\": '&apos;'\r\n\t  }, unescapeHTMLDict = {}, key;\r\n\t  for(key in escapeHTMLDict)unescapeHTMLDict[escapeHTMLDict[key]] = key;\r\n\t  $define(PROTO + FORCED, STRING, {\r\n\t    escapeHTML:   createReplacer(/[&<>\"']/g, escapeHTMLDict),\r\n\t    unescapeHTML: createReplacer(/&(?:amp|lt|gt|quot|apos);/g, unescapeHTMLDict)\r\n\t  });\r\n\t}();\n\n\t/******************************************************************************\n\t * Module : core.date                                                         *\n\t ******************************************************************************/\n\n\t!function(formatRegExp, flexioRegExp, locales, current, SECONDS, MINUTES, HOURS, MONTH, YEAR){\r\n\t  function createFormat(prefix){\r\n\t    return function(template, locale /* = current */){\r\n\t      var that = this\r\n\t        , dict = locales[has(locales, locale) ? locale : current];\r\n\t      function get(unit){\r\n\t        return that[prefix + unit]();\r\n\t      }\r\n\t      return String(template).replace(formatRegExp, function(part){\r\n\t        switch(part){\r\n\t          case 's'  : return get(SECONDS);                  // Seconds : 0-59\r\n\t          case 'ss' : return lz(get(SECONDS));              // Seconds : 00-59\r\n\t          case 'm'  : return get(MINUTES);                  // Minutes : 0-59\r\n\t          case 'mm' : return lz(get(MINUTES));              // Minutes : 00-59\r\n\t          case 'h'  : return get(HOURS);                    // Hours   : 0-23\r\n\t          case 'hh' : return lz(get(HOURS));                // Hours   : 00-23\r\n\t          case 'D'  : return get(DATE);                     // Date    : 1-31\r\n\t          case 'DD' : return lz(get(DATE));                 // Date    : 01-31\r\n\t          case 'W'  : return dict[0][get('Day')];           // Day     : \r\n\t          case 'N'  : return get(MONTH) + 1;                // Month   : 1-12\r\n\t          case 'NN' : return lz(get(MONTH) + 1);            // Month   : 01-12\r\n\t          case 'M'  : return dict[2][get(MONTH)];           // Month   : \r\n\t          case 'MM' : return dict[1][get(MONTH)];           // Month   : \r\n\t          case 'Y'  : return get(YEAR);                     // Year    : 2014\r\n\t          case 'YY' : return lz(get(YEAR) % 100);           // Year    : 14\r\n\t        } return part;\r\n\t      });\r\n\t    }\r\n\t  }\r\n\t  function addLocale(lang, locale){\r\n\t    function split(index){\r\n\t      var result = [];\r\n\t      forEach.call(array(locale.months), function(it){\r\n\t        result.push(it.replace(flexioRegExp, '$' + index));\r\n\t      });\r\n\t      return result;\r\n\t    }\r\n\t    locales[lang] = [array(locale.weekdays), split(1), split(2)];\r\n\t    return core;\r\n\t  }\r\n\t  $define(PROTO + FORCED, DATE, {\r\n\t    format:    createFormat('get'),\r\n\t    formatUTC: createFormat('getUTC')\r\n\t  });\r\n\t  addLocale(current, {\r\n\t    weekdays: 'Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday',\r\n\t    months: 'January,February,March,April,May,June,July,August,September,October,November,December'\r\n\t  });\r\n\t  addLocale('ru', {\r\n\t    weekdays: ',,,,,,',\r\n\t    months: ':|,:|,:|,:|,:|,:|,' +\r\n\t            ':|,:|,:|,:|,:|,:|'\r\n\t  });\r\n\t  core.locale = function(locale){\r\n\t    return has(locales, locale) ? current = locale : current;\r\n\t  };\r\n\t  core.addLocale = addLocale;\r\n\t}(/\\b\\w\\w?\\b/g, /:(.*)\\|(.*)$/, {}, 'en', 'Seconds', 'Minutes', 'Hours', 'Month', 'FullYear');\n\n\t/******************************************************************************\n\t * Module : core.global                                                       *\n\t ******************************************************************************/\n\n\t$define(GLOBAL + FORCED, {global: global});\n\n\t/******************************************************************************\n\t * Module : js.array.statics                                                  *\n\t ******************************************************************************/\n\n\t// JavaScript 1.6 / Strawman array statics shim\r\n\t!function(arrayStatics){\r\n\t  function setArrayStatics(keys, length){\r\n\t    forEach.call(array(keys), function(key){\r\n\t      if(key in ArrayProto)arrayStatics[key] = ctx(call, ArrayProto[key], length);\r\n\t    });\r\n\t  }\r\n\t  setArrayStatics('pop,reverse,shift,keys,values,entries', 1);\r\n\t  setArrayStatics('indexOf,every,some,forEach,map,filter,find,findIndex,includes', 3);\r\n\t  setArrayStatics('join,slice,concat,push,splice,unshift,sort,lastIndexOf,' +\r\n\t                  'reduce,reduceRight,copyWithin,fill,turn');\r\n\t  $define(STATIC, ARRAY, arrayStatics);\r\n\t}({});\n\n\t/******************************************************************************\n\t * Module : web.dom.itarable                                                  *\n\t ******************************************************************************/\n\n\t!function(NodeList){\r\n\t  if(framework && NodeList && !(SYMBOL_ITERATOR in NodeList[PROTOTYPE])){\r\n\t    hidden(NodeList[PROTOTYPE], SYMBOL_ITERATOR, Iterators[ARRAY]);\r\n\t  }\r\n\t  Iterators.NodeList = Iterators[ARRAY];\r\n\t}(global.NodeList);\n\n\t/******************************************************************************\n\t * Module : core.log                                                          *\n\t ******************************************************************************/\n\n\t!function(log, enabled){\r\n\t  // Methods from https://github.com/DeveloperToolsWG/console-object/blob/master/api.md\r\n\t  forEach.call(array('assert,clear,count,debug,dir,dirxml,error,exception,' +\r\n\t      'group,groupCollapsed,groupEnd,info,isIndependentlyComposed,log,' +\r\n\t      'markTimeline,profile,profileEnd,table,time,timeEnd,timeline,' +\r\n\t      'timelineEnd,timeStamp,trace,warn'), function(key){\r\n\t    log[key] = function(){\r\n\t      if(enabled && key in console)return apply.call(console[key], console, arguments);\r\n\t    };\r\n\t  });\r\n\t  $define(GLOBAL + FORCED, {log: assign(log.log, log, {\r\n\t    enable: function(){\r\n\t      enabled = true;\r\n\t    },\r\n\t    disable: function(){\r\n\t      enabled = false;\r\n\t    }\r\n\t  })});\r\n\t}({}, true);\n\t}(typeof self != 'undefined' && self.Math === Math ? self : Function('return this')(), false);\n\tmodule.exports = { \"default\": module.exports, __esModule: true };\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar _core = __webpack_require__(11)[\"default\"];\n\n\t/*global CustomEvent*/\n\n\t// polyfill for custom events to make thinks work in IE\n\t// The needed polyfill is so small that I embedded it here\n\tvoid (function () {\n\t    \"use strict\";\n\t    if (!global.CustomEvent || typeof global.CustomEvent !== \"function\") {\n\t        var CustomEvent;\n\t        CustomEvent = function (event, params) {\n\t            var evt;\n\t            params = params || {\n\t                bubbles: false,\n\t                cancelable: false,\n\t                detail: undefined\n\t            };\n\t            evt = document.createEvent(\"CustomEvent\");\n\t            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t            return evt;\n\t        };\n\t        CustomEvent.prototype = global.Event.prototype;\n\t        global.CustomEvent = CustomEvent;\n\t    }\n\t})();\n\n\t/**\n\t * Simpler Event dispatching\n\t */\n\n\tvar EventHandler = (function () {\n\n\t    /**\n\t     * @param {HTMLElement} target\n\t     * @param {String} name\n\t     */\n\n\t    function EventHandler(target, name) {\n\t        _babelHelpers.classCallCheck(this, EventHandler);\n\n\t        this.target = target;\n\t        this.defaultOptions = {\n\t            bubbles: true,\n\t            cancelable: true\n\t        };\n\n\t        this.name = name;\n\t    }\n\n\t    _babelHelpers.prototypeProperties(EventHandler, null, {\n\t        withOptions: {\n\n\t            /**\n\t             * Set more options\n\t             * @param {Object} options\n\t             * @returns {EventHandler}\n\t             */\n\n\t            value: function withOptions(options) {\n\t                _core.Object.assign(this.defaultOptions, options || {});\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        withOriginal: {\n\n\t            /**\n\t             * @param {Event} e\n\t             * @returns {EventHandler}\n\t             */\n\n\t            value: function withOriginal(e) {\n\t                this.defaultOptions.originalEvent = e;\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        withDetail: {\n\n\t            /**\n\t             * @param {*} o\n\t             * @returns {EventHandler}\n\t             */\n\n\t            value: function withDetail(o) {\n\t                this.defaultOptions.detail = o;\n\t                return this;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        fire: {\n\n\t            /**\n\t             * @returns {Window.CustomEvent}\n\t             */\n\n\t            value: function fire() {\n\t                var e = new CustomEvent(this.name, this.defaultOptions);\n\t                if (this.target) {\n\t                    this.target.dispatchEvent(e);\n\t                }\n\t                return e;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return EventHandler;\n\t})();\n\n\tvar Event = (function () {\n\t    function Event() {\n\t        _babelHelpers.classCallCheck(this, Event);\n\t    }\n\n\t    _babelHelpers.prototypeProperties(Event, {\n\t        dispatch: {\n\t            /**\n\t             * Prepares to dispatch a custom event (without firing)\n\t             * @param {HTMLElement} target\n\t             * @param {String} name\n\t             * @returns {EventHandler}\n\t             */\n\n\t            value: function dispatch(target, name) {\n\t                return new EventHandler(target, name);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        dispatchAndFire: {\n\n\t            /**\n\t             * Dispatches a custom event and fires it directly\n\t             * @param {HTMLElement} target\n\t             * @param {String} name\n\t             * @param {Object} [options]\n\t             * @returns {Window.CustomEvent}\n\t             */\n\n\t            value: function dispatchAndFire(target, name, options) {\n\t                return new EventHandler(target, name).withOptions(options).fire();\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return Event;\n\t})();\n\n\tmodule.exports = Event;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\n\tvar _babelHelpers = __webpack_require__(10)[\"default\"];\n\n\tvar PFX = [\"webkit\", \"moz\", \"MS\", \"o\", \"\"];\n\n\tvar COL_LEFT_CLASS = \"is-collision-left\";\n\n\tvar COL_RIGHT_CLASS = \"is-collision-right\";\n\n\tvar COL_BOTTOM_CLASS = \"is-collision-bottom\";\n\n\t/**\n\t * Provides some shared Util functions\n\t */\n\n\tvar Util = (function () {\n\t    function Util() {\n\t        _babelHelpers.classCallCheck(this, Util);\n\t    }\n\n\t    _babelHelpers.prototypeProperties(Util, {\n\t        prefixedAnimateEvent: {\n\n\t            /**\n\t             * Will register the right animation event based on browser\n\t             * @param element\n\t             * @param type\n\t             * @param callback\n\t             */\n\n\t            value: function prefixedAnimateEvent(element, type, callback) {\n\t                var thisFunction = (function (_thisFunction) {\n\t                    var _thisFunctionWrapper = function thisFunction(_x) {\n\t                        return _thisFunction.apply(this, arguments);\n\t                    };\n\n\t                    _thisFunctionWrapper.toString = function () {\n\t                        return _thisFunction.toString();\n\t                    };\n\n\t                    return _thisFunctionWrapper;\n\t                })(function (e) {\n\t                    callback.apply(element, [e, thisFunction]);\n\t                });\n\n\t                for (var p = 0; p < PFX.length; p++) {\n\t                    if (!PFX[p]) type = type.toLowerCase();\n\t                    var name = PFX[p] + type;\n\t                    element.addEventListener(name, thisFunction, true);\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        whichTransitionEndEvent: {\n\n\t            /**\n\t             * Get correct transitionend event\n\t             * @returns {String}\n\t             * @private\n\t             */\n\n\t            value: function whichTransitionEndEvent() {\n\t                var t,\n\t                    el = document.createElement(\"fakeelement\");\n\n\t                var transitions = {\n\t                    transition: \"transitionend\",\n\t                    OTransition: \"oTransitionEnd\",\n\t                    MozTransition: \"transitionend\",\n\t                    WebkitTransition: \"webkitTransitionEnd\"\n\t                };\n\n\t                for (t in transitions) {\n\t                    if (el.style[t] !== undefined) {\n\t                        return transitions[t];\n\t                    }\n\t                }\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        isPartOfNode: {\n\n\t            /**\n\t             * Check if target is part of parent node\n\t             * @param target\n\t             * @param parent\n\t             * @returns {boolean}\n\t             */\n\n\t            value: function isPartOfNode(target, parent) {\n\t                if (!target || !parent) {\n\t                    return false;\n\t                }\n\t                var now = target;\n\t                while (now !== parent && now !== null) {\n\t                    if (now === parent) {\n\t                        break;\n\t                    }\n\t                    now = now.parentNode;\n\t                }\n\t                return null !== now;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        parentsUntil: {\n\n\t            /**\n\t             * Walks the tree until func returns true for given argument\n\t             * @param target\n\t             * @param func\n\t             * @returns {HTMLElement}\n\t             */\n\n\t            value: function parentsUntil(target, func) {\n\t                if (!target) {\n\t                    return false;\n\t                }\n\t                var now = target;\n\t                while (!func(now) && now !== null) {\n\t                    now = now.parentNode;\n\t                }\n\n\t                return now;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        guid: {\n\n\t            /**\n\t             * Generates a unique id\n\t             * @return {String}\n\t             */\n\n\t            value: function guid() {\n\t                function s4() {\n\t                    return Math.floor((1 + Math.random()) * 65536).toString(16).substring(1);\n\t                }\n\n\t                return s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        getScrollBarWidth: {\n\n\t            /**\n\t             * Detects scrollbar width\n\t             * @see http://stackoverflow.com/questions/986937/how-can-i-get-the-browsers-scrollbar-sizes\n\t             * @returns {number}\n\t             */\n\n\t            value: function getScrollBarWidth() {\n\n\t                var doc = global.document,\n\t                    inner = doc.createElement(\"p\");\n\t                inner.style.width = \"100%\";\n\t                inner.style.height = \"200px\";\n\n\t                var outer = doc.createElement(\"div\");\n\t                outer.style.position = \"absolute\";\n\t                outer.style.top = \"0px\";\n\t                outer.style.left = \"0px\";\n\t                outer.style.visibility = \"hidden\";\n\t                outer.style.width = \"200px\";\n\t                outer.style.height = \"150px\";\n\t                outer.style.overflow = \"hidden\";\n\t                outer.appendChild(inner);\n\n\t                doc.body.appendChild(outer);\n\t                var w1 = inner.offsetWidth;\n\t                outer.style.overflow = \"scroll\";\n\t                var w2 = inner.offsetWidth;\n\t                if (w1 === w2) {\n\t                    w2 = outer.clientWidth;\n\t                }\n\t                doc.body.removeChild(outer);\n\n\t                return w1 - w2;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        addEventOnce: {\n\n\t            /**\n\t             * Run an event once\n\t             * @param {String} ev\n\t             * @param {HTMLElement} target\n\t             * @param {Function} func\n\t             */\n\n\t            value: function addEventOnce(ev, target, func) {\n\t                var thisFunction = (function (_thisFunction) {\n\t                    var _thisFunctionWrapper = function thisFunction(_x) {\n\t                        return _thisFunction.apply(this, arguments);\n\t                    };\n\n\t                    _thisFunctionWrapper.toString = function () {\n\t                        return _thisFunction.toString();\n\t                    };\n\n\t                    return _thisFunctionWrapper;\n\t                })(function (event) {\n\t                    func(event);\n\t                    target.removeEventListener(ev, thisFunction);\n\t                });\n\t                return target.addEventListener(ev, thisFunction);\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        dashToCamelCase: {\n\n\t            /**\n\t             * Creates a camelCaseRepresentation of a dashed string\n\t             * @param {String} str\n\t             * @returns String\n\t             */\n\n\t            value: function dashToCamelCase(str) {\n\t                return str.replace(/-([a-z])/g, function (g) {\n\t                    return g[1].toUpperCase();\n\t                });\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        applyOptionsFromElement: {\n\n\t            /**\n\t             * Reads options from element (data attributes) and applies to base\n\t             * @param {HTMLElement} element\n\t             * @param {Object} base\n\t             * @return {Object}\n\t             */\n\n\t            value: function applyOptionsFromElement(element, base) {\n\t                if (!element) {\n\t                    return base;\n\t                }\n\t                var attrs = element.attributes;\n\t                for (var i = 0; i < attrs.length; i++) {\n\t                    var attr = attrs[i];\n\t                    if (attr) {\n\t                        var s = Util.dashToCamelCase(attr.nodeName.replace(\"data-\", \"\")),\n\t                            val = attr.nodeValue;\n\t                        if (base.hasOwnProperty(s)) {\n\t                            if (\"boolean\" === typeof base[s]) {\n\t                                base[s] = 1 === parseInt(val || 1);\n\t                            } else {\n\t                                base[s] = val;\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t                return base;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        },\n\t        setupPositionNearby: {\n\n\t            /**\n\t             * Will position an element directly at given target\n\t             * Is aware of a given collision container to detect edges\n\t             * Will put elementToPosition either to left, center or right edge (prefer right)\n\t             *  and either to bottom or top (prefers bottom)\n\t             *\n\t             * You may overwrite preferred positioned with `centerHorizontal` and `positionTop`\n\t             *\n\t             * @param {HTMLElement} target the target container to align to\n\t             * @param {HTMLElement} elementToPosition the element to position\n\t             * @param {HTMLElement} collisionContainer the outer container to prevent collisions\n\t             * @param {bool} [centerHorizontal] set true to center element, otherwise it's put on the right border by default\n\t             * @param {bool} [positionTop] flip top, by default element is positioned to the bottom.\n\t             * @returns {HTMLElement}\n\t             */\n\n\t            value: function setupPositionNearby(target, elementToPosition, collisionContainer, centerHorizontal, positionTop) {\n\n\t                // determine relative offsets\n\t                var amountTop = 0,\n\t                    amountLeft = 0;\n\t                Util.parentsUntil(target.parentNode, function (el) {\n\t                    if (!(el instanceof HTMLElement)) {\n\t                        return false;\n\t                    }\n\t                    var style = window.getComputedStyle(el);\n\t                    if (Util.isPartOfNode(elementToPosition, el)) {\n\t                        if (style && style.position === \"relative\") {\n\t                            amountTop += el.offsetTop || 0;\n\t                            amountLeft += el.offsetLeft || 0;\n\t                        }\n\t                        return false;\n\t                    } else {\n\t                        return true;\n\t                    }\n\t                });\n\n\t                var targetPosition = target.getBoundingClientRect(),\n\t                    elementRect = elementToPosition.getBoundingClientRect(),\n\t                    colRect = collisionContainer.getBoundingClientRect(),\n\t                    targetTop = targetPosition.top - amountTop,\n\t                    targetRight = targetPosition.right,\n\t                    isCollisionTop = 0 >= targetTop - elementRect.height,\n\t                    isCollisionBottom = window.innerHeight < targetTop + amountTop + targetPosition.height + elementRect.height,\n\t                    isCollisionLeft = targetRight < elementRect.width,\n\t                    targetLeft = targetPosition.left,\n\t                    isCollisionRight = targetLeft + elementRect.width > colRect.width,\n\t                    classList = elementToPosition.classList;\n\n\t                classList.remove(COL_RIGHT_CLASS);\n\t                classList.remove(COL_LEFT_CLASS);\n\t                classList.remove(COL_BOTTOM_CLASS);\n\n\t                if (isCollisionLeft && !isCollisionRight) {\n\t                    // put element to left if collision with left\n\t                    elementToPosition.style.left = targetPosition.left - colRect.left - amountLeft + \"px\";\n\t                    classList.add(COL_LEFT_CLASS);\n\t                } else {\n\t                    // maybe center if no collision with either side\n\t                    var rightPosition = targetRight - elementRect.width - colRect.left - amountLeft + \"px\",\n\t                        leftCentered = (targetLeft + targetPosition.width / 2 - elementRect.width / 2 || 0) - colRect.left,\n\t                        collisionCentered = leftCentered + elementRect.width > colRect.width;\n\t                    if (centerHorizontal && !collisionCentered) {\n\t                        elementToPosition.style.left = leftCentered + \"px\";\n\t                    } else {\n\t                        classList.add(COL_RIGHT_CLASS);\n\t                        elementToPosition.style.left = rightPosition;\n\t                    }\n\t                }\n\n\t                if (isCollisionBottom || positionTop && !isCollisionTop) {\n\t                    // Put Element on top if collision\n\t                    elementToPosition.style.top = targetTop - elementRect.height - colRect.top + \"px\";\n\t                    classList.add(COL_BOTTOM_CLASS);\n\t                } else {\n\t                    elementToPosition.style.top = targetTop + targetPosition.height - colRect.top + \"px\";\n\t                }\n\n\t                return elementToPosition;\n\t            },\n\t            writable: true,\n\t            configurable: true\n\t        }\n\t    });\n\n\t    return Util;\n\t})();\n\n\tmodule.exports = Util;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(15);\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function() {\n\t  'use strict';\n\n\t  if (self.fetch) {\n\t    return\n\t  }\n\n\t  function normalizeName(name) {\n\t    if (typeof name !== 'string') {\n\t      name = name.toString();\n\t    }\n\t    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n\t      throw new TypeError('Invalid character in header field name')\n\t    }\n\t    return name.toLowerCase()\n\t  }\n\n\t  function normalizeValue(value) {\n\t    if (typeof value !== 'string') {\n\t      value = value.toString();\n\t    }\n\t    return value\n\t  }\n\n\t  function Headers(headers) {\n\t    this.map = {}\n\n\t    var self = this\n\t    if (headers instanceof Headers) {\n\t      headers.forEach(function(name, values) {\n\t        values.forEach(function(value) {\n\t          self.append(name, value)\n\t        })\n\t      })\n\n\t    } else if (headers) {\n\t      Object.getOwnPropertyNames(headers).forEach(function(name) {\n\t        self.append(name, headers[name])\n\t      })\n\t    }\n\t  }\n\n\t  Headers.prototype.append = function(name, value) {\n\t    name = normalizeName(name)\n\t    value = normalizeValue(value)\n\t    var list = this.map[name]\n\t    if (!list) {\n\t      list = []\n\t      this.map[name] = list\n\t    }\n\t    list.push(value)\n\t  }\n\n\t  Headers.prototype['delete'] = function(name) {\n\t    delete this.map[normalizeName(name)]\n\t  }\n\n\t  Headers.prototype.get = function(name) {\n\t    var values = this.map[normalizeName(name)]\n\t    return values ? values[0] : null\n\t  }\n\n\t  Headers.prototype.getAll = function(name) {\n\t    return this.map[normalizeName(name)] || []\n\t  }\n\n\t  Headers.prototype.has = function(name) {\n\t    return this.map.hasOwnProperty(normalizeName(name))\n\t  }\n\n\t  Headers.prototype.set = function(name, value) {\n\t    this.map[normalizeName(name)] = [normalizeValue(value)]\n\t  }\n\n\t  // Instead of iterable for now.\n\t  Headers.prototype.forEach = function(callback) {\n\t    var self = this\n\t    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n\t      callback(name, self.map[name])\n\t    })\n\t  }\n\n\t  function consumed(body) {\n\t    if (body.bodyUsed) {\n\t      return Promise.reject(new TypeError('Already read'))\n\t    }\n\t    body.bodyUsed = true\n\t  }\n\n\t  function fileReaderReady(reader) {\n\t    return new Promise(function(resolve, reject) {\n\t      reader.onload = function() {\n\t        resolve(reader.result)\n\t      }\n\t      reader.onerror = function() {\n\t        reject(reader.error)\n\t      }\n\t    })\n\t  }\n\n\t  function readBlobAsArrayBuffer(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsArrayBuffer(blob)\n\t    return fileReaderReady(reader)\n\t  }\n\n\t  function readBlobAsText(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsText(blob)\n\t    return fileReaderReady(reader)\n\t  }\n\n\t  var support = {\n\t    blob: 'FileReader' in self && 'Blob' in self && (function() {\n\t      try {\n\t        new Blob();\n\t        return true\n\t      } catch(e) {\n\t        return false\n\t      }\n\t    })(),\n\t    formData: 'FormData' in self,\n\t    XDomainRequest: 'XDomainRequest' in self\n\t  }\n\n\t  function Body() {\n\t    this.bodyUsed = false\n\n\t    if (support.blob) {\n\t      this._initBody = function(body) {\n\t        this._bodyInit = body\n\t        if (typeof body === 'string') {\n\t          this._bodyText = body\n\t        } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n\t          this._bodyBlob = body\n\t        } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n\t          this._bodyFormData = body\n\t        } else if (!body) {\n\t          this._bodyText = ''\n\t        } else {\n\t          throw new Error('unsupported BodyInit type')\n\t        }\n\t      }\n\n\t      this.blob = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\n\t        if (this._bodyBlob) {\n\t          return Promise.resolve(this._bodyBlob)\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as blob')\n\t        } else {\n\t          return Promise.resolve(new Blob([this._bodyText]))\n\t        }\n\t      }\n\n\t      this.arrayBuffer = function() {\n\t        return this.blob().then(readBlobAsArrayBuffer)\n\t      }\n\n\t      this.text = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\n\t        if (this._bodyBlob) {\n\t          return readBlobAsText(this._bodyBlob)\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as text')\n\t        } else {\n\t          return Promise.resolve(this._bodyText)\n\t        }\n\t      }\n\t    } else {\n\t      this._initBody = function(body) {\n\t        this._bodyInit = body\n\t        if (typeof body === 'string') {\n\t          this._bodyText = body\n\t        } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n\t          this._bodyFormData = body\n\t        } else if (!body) {\n\t          this._bodyText = ''\n\t        } else {\n\t          throw new Error('unsupported BodyInit type')\n\t        }\n\t      }\n\n\t      this.text = function() {\n\t        var rejected = consumed(this)\n\t        return rejected ? rejected : Promise.resolve(this._bodyText)\n\t      }\n\t    }\n\n\t    if (support.formData) {\n\t      this.formData = function() {\n\t        return this.text().then(decode)\n\t      }\n\t    }\n\n\t    this.json = function() {\n\t      return this.text().then(JSON.parse)\n\t    }\n\n\t    return this\n\t  }\n\n\t  // HTTP methods whose capitalization should be normalized\n\t  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n\t  function normalizeMethod(method) {\n\t    var upcased = method.toUpperCase()\n\t    return (methods.indexOf(upcased) > -1) ? upcased : method\n\t  }\n\n\t  function Request(url, options) {\n\t    options = options || {}\n\t    this.url = url\n\n\t    this.credentials = options.credentials || 'omit'\n\t    this.headers = new Headers(options.headers)\n\t    this.method = normalizeMethod(options.method || 'GET')\n\t    this.mode = options.mode || null\n\t    this.referrer = null\n\n\t    if ((this.method === 'GET' || this.method === 'HEAD') && options.body) {\n\t      throw new TypeError('Body not allowed for GET or HEAD requests')\n\t    }\n\t    this._initBody(options.body)\n\t  }\n\n\t  function decode(body) {\n\t    var form = new FormData()\n\t    body.trim().split('&').forEach(function(bytes) {\n\t      if (bytes) {\n\t        var split = bytes.split('=')\n\t        var name = split.shift().replace(/\\+/g, ' ')\n\t        var value = split.join('=').replace(/\\+/g, ' ')\n\t        form.append(decodeURIComponent(name), decodeURIComponent(value))\n\t      }\n\t    })\n\t    return form\n\t  }\n\n\t  function headers(xhr) {\n\t    var head = new Headers()\n\t    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n\t    pairs.forEach(function(header) {\n\t      var split = header.trim().split(':')\n\t      var key = split.shift().trim()\n\t      var value = split.join(':').trim()\n\t      head.append(key, value)\n\t    })\n\t    return head\n\t  }\n\n\t  Request.prototype.fetch = function() {\n\t    var self = this\n\n\t    return new Promise(function(resolve, reject) {\n\t      var legacyCors = false;\n\t      if (support.XDomainRequest) {\n\t        var origin = location.protocol + '//' + location.host;\n\t        if (!/^\\/[^\\/]/.test(self.url)) { // exclude relative urls\n\t          legacyCors = (/^\\/\\//.test(self.url) ? location.protocol + self.url : self.url).substring(0, origin.length) !== origin;\n\t        }\n\t      }\n\t      var xhr = legacyCors ? new XDomainRequest() : new XMLHttpRequest()\n\n\t      if (legacyCors) {\n\t        xhr.getAllResponseHeaders = function() {\n\t          return 'Content-Type: '+xhr.contentType;\n\t        };\n\t      } else if (self.credentials === 'cors') {\n\t        xhr.withCredentials = true;\n\t      }\n\n\t      function responseURL() {\n\t        if ('responseURL' in xhr) {\n\t          return xhr.responseURL\n\t        }\n\n\t        // Avoid security warnings on getResponseHeader when not allowed by CORS\n\t        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n\t          return xhr.getResponseHeader('X-Request-URL')\n\t        }\n\n\t        return;\n\t      }\n\n\t      xhr.onload = function() {\n\t        var status = (xhr.status === 1223) ? 204 : xhr.status\n\n\t        // If XDomainRequest there is no status code so just hope for the best...\n\t        if (legacyCors) {\n\t          status = 200;\n\t        }\n\t        if (status < 100 || status > 599) {\n\t          reject(new TypeError('Network request failed'))\n\t          return\n\t        }\n\t        var options = {\n\t          status: status,\n\t          statusText: xhr.statusText,\n\t          headers: headers(xhr),\n\t          url: responseURL()\n\t        }\n\t        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n\t        resolve(new Response(body, options))\n\t      }\n\n\t      xhr.onerror = function() {\n\t        reject(new TypeError('Network request failed'))\n\t      }\n\n\t      xhr.open(self.method, self.url, true)\n\n\t      if ('responseType' in xhr && support.blob) {\n\t        xhr.responseType = 'blob'\n\t      }\n\n\t      self.headers.forEach(function(name, values) {\n\t        values.forEach(function(value) {\n\t          xhr.setRequestHeader(name, value)\n\t        })\n\t      })\n\n\t      xhr.send(typeof self._bodyInit === 'undefined' ? null : self._bodyInit)\n\t    })\n\t  }\n\n\t  Body.call(Request.prototype)\n\n\t  function Response(bodyInit, options) {\n\t    if (!options) {\n\t      options = {}\n\t    }\n\n\t    this._initBody(bodyInit)\n\t    this.type = 'default'\n\t    this.url = null\n\t    this.status = options.status\n\t    this.ok = this.status >= 200 && this.status < 300\n\t    this.statusText = options.statusText\n\t    this.headers = options.headers\n\t    this.url = options.url || ''\n\t  }\n\n\t  Body.call(Response.prototype)\n\n\t  self.Headers = Headers;\n\t  self.Request = Request;\n\t  self.Response = Response;\n\n\t  self.fetch = function (url, options) {\n\t    return new Request(url, options).fetch()\n\t  }\n\t  self.fetch.polyfill = true\n\t})();\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** flexcss.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 88efd6f76822119cde90\n **/","import Form from 'Form';\nimport Tooltip from 'Tooltip';\nimport Modal from 'Modal';\nimport Widget from 'Widget';\nimport Settings from 'util/Settings';\nimport Toggleable from 'Toggleable';\nimport OffCanvas from 'OffCanvas';\nimport Dropdown from 'Dropdown';\nimport LightBox from 'LightBox';\n\n// default export as component object\nexport default {\n    Form: Form,\n    Tooltip: Tooltip,\n    Modal: Modal,\n    Widget:Widget,\n    Settings:Settings,\n    Toggleable:Toggleable,\n    OffCanvas:OffCanvas,\n    Dropdown:Dropdown,\n    LightBox:LightBox\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/export.js\n **/","/*global Form, HTMLFormElement, fetch, FormData*/\n\nimport Tooltip from 'Tooltip';\nexport * from 'isomorphic-fetch';\nimport Event from 'util/Event';\nimport Util from 'util/Util';\n\nconst ERROR_CLASS_NAME = 'form-error';\nconst INPUT_ERROR_CLASS = 'invalid';\nconst LOADING_CLASS = 'loading';\nconst ARIA_INVALID = 'aria-invalid';\nconst REMOTE = 'data-remote';\nconst REMOTE_ACTION = 'data-remote-action';\nconst ATTR_DISABLE_INLINE = 'data-disable-inline-validation';\nconst ATTR_VALIDATOR = 'data-validate';\n\n\n/**\n * Triggered when form is fully initialized and handlers are binded\n * @type {string}\n */\nexport const EVENT_FORM_READY = 'flexcss.form.ready';\n/**\n * Fires when a form is submitted, cancelable\n * @type {string}\n */\nexport const EVENT_FORM_SUBMIT = 'flexcss.form.submit';\n/**\n * Fired directly after the form has been submitted via ajax\n * @type {string}\n */\nexport const EVENT_FORM_AFTER_AJAX_SUBMIT = 'flexcss.form.afterAjaxSubmit';\n/**\n * Fired when ajax events did complete\n * @type {string}\n */\nexport const EVENT_FORM_AJAX_COMPLETED = 'flexcss.form.ajaxCompleted';\n\n/**\n * A HTML5 Form Validation replacement\n */\n\nexport default\nclass Form {\n    /**\n     * @param {HTMLElement} form\n     * @param [options] optional options\n     */\n    constructor(form, options) {\n\n        if (!(form instanceof HTMLFormElement)) {\n            throw 'argument {0} form needs to be an form element';\n        }\n\n        /**\n         * The Form\n         * @type {HTMLElement}\n         */\n        this.form = form;\n\n        /**\n         * @type {Tooltip}\n         */\n        this.tooltips = null;\n\n        /**\n         * @type {Promise}\n         */\n        this.currentValidationFuture = new Promise(() => {\n        });\n\n        /**\n         * Default options\n         * @type {Object}\n         */\n        this.options = {\n            // if true creates tooltips above element, uses FlexCss Tooltips\n            createTooltips: true,\n            // if true appends error message after input element\n            appendError: false,\n            // type of ajax submit\n            ajaxSubmitType: 'POST',\n            // json content type if ajax method is set to json\n            ajaxJsonContentType: 'application/json; charset=utf-8',\n            // allow inline validation\n            inlineValidation: true\n        };\n\n        // overwrite default options\n        Object.assign(this.options, options);\n\n\n        // apply settings from attributes\n        Util.applyOptionsFromElement(form, this.options);\n\n\n        // set form class as widget\n        // Forms are very different to classical widgets,\n        // we will not use our base widget class for this but just self\n        form.hfWidgetInstance = this;\n\n        /**\n         * A List of Validators\n         * @type {Object}\n         * @private\n         */\n        this._validators = Form.globalValidators;\n\n        /**\n         * @type {Function}\n         * @private\n         */\n        this._remoteValidationFunction = null;\n\n        this.initFormValidation();\n    }\n\n    /**\n     * Submits this form, either via ajax or just classical (default)\n     * @param {HTMLFormElement} thisForm\n     * @param {Event} e\n     * @private\n     * @returns {Promise|boolean} returns false if submit is cancled\n     */\n    _submitFunction(thisForm, e) {\n        var shouldUseAjax = thisForm.getAttribute(REMOTE), ajaxPostUrl =\n                thisForm.getAttribute(REMOTE_ACTION) ||\n                thisForm.getAttribute('action') || window.location.href,\n            useJson = 'json' === shouldUseAjax, self = this;\n\n        var ev = Event.dispatch(thisForm, EVENT_FORM_SUBMIT).withOriginal(e).fire();\n\n        // abort execution is event was prevented\n        if (ev.defaultPrevented) {\n            thisForm.classList.remove(LOADING_CLASS);\n            return false;\n        }\n\n        if (null === shouldUseAjax) {\n            // submit\n            return thisForm.submit();\n        }\n\n        thisForm.classList.add(LOADING_CLASS);\n\n        // prevent form from submit normally\n        e.preventDefault();\n        // support either JSON request payload or normal payload submission\n        var serverCall = useJson ? fetch(ajaxPostUrl, {\n            headers: {\n                'Content-Type': this.options.ajaxJsonContentType\n            },\n            method: this.options.ajaxSubmitType,\n            body: JSON.stringify(this.serialize())\n        }) : fetch(ajaxPostUrl, {\n            method: this.options.ajaxSubmitType,\n            body: new FormData(thisForm)\n        });\n\n\n        Event.dispatch(thisForm, EVENT_FORM_AFTER_AJAX_SUBMIT).withOriginal(e).fire();\n\n        return serverCall.then((r) => {\n            (self._remoteValidationFunction || Form.globalRemoteValidationFunction).apply(self, [r]);\n\n            Event.dispatch(thisForm, EVENT_FORM_AJAX_COMPLETED).withOriginal(e).withDetail(r).fire();\n            // always remove error class\n            thisForm.classList.remove(LOADING_CLASS);\n        });\n    }\n\n    /**\n     * Serializes a form to a json object\n     * @returns {Object}\n     */\n    serialize() {\n        var selectors = [\n            'input[name]:not([type=\"radio\"]):enabled',\n            'input[type=\"radio\"][name]:checked',\n            'select[name]:enabled',\n            'textarea[name]:enabled'\n        ], inputs = this.form.querySelectorAll(selectors.join(',')), result = {};\n\n        Array.prototype.forEach.call(inputs, function (input) {\n            var exists = result[input.name], value = input.value;\n            if (exists instanceof Array) {\n                exists.push(value);\n            } else if (exists) {\n                result[input.name] = [result[input.name], value];\n            } else {\n                result[input.name] = value;\n            }\n        });\n\n        return result;\n    }\n\n    /**\n     * @param {HTMLElement} field\n     * @param {ValidityState} validity\n     * @returns {*}\n     * @private\n     */\n\n    _setupErrorMessages(field, validity) {\n        return Form.globalErrorMessageHandler ?\n            Form.globalErrorMessageHandler.apply(this, [field, validity]) : false;\n    }\n\n    /**\n     * @param {HTMLElement} thisParent\n     * @private\n     */\n    _removeElementErrors(thisParent) {\n        var errors = thisParent.querySelectorAll('.' + ERROR_CLASS_NAME), inputsWithErrorClasses =\n            thisParent.querySelectorAll('.' + INPUT_ERROR_CLASS);\n        for (var elementErrorIndex = 0; elementErrorIndex < errors.length; elementErrorIndex++) {\n            errors[elementErrorIndex].parentNode.removeChild(errors[elementErrorIndex]);\n        }\n        for (var inputErrorIndex = 0; inputErrorIndex < inputsWithErrorClasses.length; inputErrorIndex++) {\n            inputsWithErrorClasses[inputErrorIndex].classList.remove(INPUT_ERROR_CLASS);\n            if (this.tooltips) {\n                this.tooltips.removeTooltip(inputsWithErrorClasses[inputErrorIndex]);\n            }\n        }\n    }\n\n\n    /**\n     * Registers a custom validator\n     * @param {String} name\n     * @param {Function} validator a validation function should always return either a Future(true) or Future(false)\n     * even when the field has been invalidated with `setCustomValidity`, because of different browser `bugs`\n     * we can't rely on that\n     * @returns {Form}\n     */\n    registerValidator(name, validator) {\n        this._validators[name] = validator;\n        return this;\n    }\n\n    /**\n     * Runs async validation\n     * @param {String} validationRef\n     * @param {HTMLElement} field\n     * @returns {Promise}\n     * @private\n     */\n    _runValidation(validationRef, field) {\n        if (!this._validators[validationRef]) {\n            throw 'Could not found validator: ' + validationRef;\n        }\n        var cl = field.classList, future = this._validators[validationRef].apply(this, [field, this.form]);\n        cl.add(LOADING_CLASS);\n        future.then(() => {\n            cl.remove(LOADING_CLASS);\n        });\n        return future;\n    }\n\n\n    /**\n     * Run custom validations for elements, validations are done async do support XHR Requests or other stuff\n     *\n     * @param {Array|NodeList} fields\n     * @returns {Promise} contains either true if validations passed or false if something went wrong\n     * @private\n     */\n    _customValidationsForElements(fields) {\n        var futures = [], fieldsLength = fields.length, checkedFields = [];\n        for (var iVal = 0; iVal < fieldsLength; iVal++) {\n            var field = fields[iVal], validationRef = field.getAttribute(ATTR_VALIDATOR), validity = field.validity;\n            if (this._validators[validationRef]) {\n                // use local validation first and then continue with custom validations\n                if (!validity.customError && !validity.valid) {\n                    continue;\n                }\n                checkedFields.push(field);\n                futures.push(this._runValidation(validationRef, field));\n            } else {\n                if (validationRef) {\n                    console.warn('data-validate was set but no validator was found');\n                }\n            }\n        }\n        return Promise.all(futures).then(function () {\n            var allFutures = arguments, l = allFutures.length;\n            var result = {\n                checkedFields: checkedFields,\n                foundAnyError: false\n            };\n\n            for (var fI = 0; fI < l; fI++) {\n                if (!allFutures[fI]) {\n                    result.foundAnyError = true;\n                }\n            }\n            return result;\n        });\n    }\n\n    /**\n     * Remove all errors for this form\n     * @returns {Form}\n     */\n    removeErrors() {\n        this._removeElementErrors(this.form);\n        return this;\n    }\n\n    /**\n     * Will handle errors for given fields\n     * @param {Array|NodeList} fields\n     * @param {Boolean} removeAllErrors\n     */\n    prepareErrors(fields, removeAllErrors) {\n        if (removeAllErrors) {\n            this._removeElementErrors(this.form);\n        }\n        // We save all validations in an extra property because we need to reset the validity due some\n        // implementation errors in other browsers then chrome\n        for (var i = 0; i < fields.length; i++) {\n            var field = fields[i], parent = field.parentNode, validity = field.validity;\n            field.flexFormsSavedValidity = JSON.parse(JSON.stringify(validity));\n            if (validity && !validity.valid) {\n                if (!removeAllErrors) {\n                    // Remove current errors:\n                    this._removeElementErrors(parent);\n                }\n                var msg = field.validationMessage;\n                // setup custom error messages:\n                this._setupErrorMessages(field, validity);\n                field.classList.add('invalid');\n                field.setAttribute(ARIA_INVALID, 'true');\n                if (this.options.appendError) {\n                    parent.insertAdjacentHTML(\"beforeend\", '<div class=\"' + ERROR_CLASS_NAME + '\">' +\n                    msg +\n                    \"</div>\");\n                }\n                field.flexFormsSavedValidationMessage = msg;\n            } else {\n                field.classList.remove('invalid');\n                field.setAttribute(ARIA_INVALID, 'false');\n\n                this._removeElementErrors(parent);\n            }\n            // We have to reset the custom validity here to allow native validations work again\n            field.setCustomValidity('');\n        }\n    }\n\n    /**\n     * Validates all custom fields\n     * @returns {Promise}\n     */\n    validateCustomFields() {\n        return this._customValidationsForElements(\n            this.form.querySelectorAll(\"[data-validate]\"));\n    }\n\n    /**\n     * Creates an array from a node list with invalid items\n     * On Firefox also Fieldset's seems to be invalid, remove them\n     * @param list\n     * @returns {Array}\n     * @private\n     */\n    static _createArrayFromInvalidFieldList(list) {\n        var arr = [];\n        for (var i = 0; i < list.length; ++i) {\n            var n = list[i];\n            if (!(n instanceof HTMLFieldSetElement)) {\n                arr.push(n);\n            }\n        }\n        return arr;\n    }\n\n\n    /**\n     * This form\n     * @returns {HTMLElement}\n     */\n    getForm() {\n        return this.form;\n    }\n\n    /**\n     * Registers a function that handles remote validation\n     * @param {Function} func\n     * @returns {Form}\n     */\n    registerRemoteValidation(func) {\n        this._remoteValidationFunction = func;\n        return this;\n    }\n\n\n    /**\n     * Formats the error content for the tooltip\n     * @param {String} error\n     * @returns {String}\n     * @private\n     */\n    static _formatErrorTooltip(error) {\n        return '<i class=\"icon-attention\"></i> ' + error;\n    }\n\n    /**\n     * Creates a tooltip at given element, will only create a new instance if not created\n     * @param {HTMLElement} target\n     * @param {Boolean} [remove]\n     */\n    showAndOrCreateTooltip(target, remove) {\n\n        var self = this;\n        if (!this.tooltips && this.options.createTooltips) {\n            this.tooltips = new Tooltip(this.getForm(), {\n                containerClass: 'error-tooltip'\n            });\n        }\n\n        if (!this.options.createTooltips) {\n            return;\n        }\n\n        setTimeout(function () {\n            if (!target.flexFormsSavedValidity) {\n                return;\n            }\n            if (!target.flexFormsSavedValidity.valid && target.classList.contains(INPUT_ERROR_CLASS)) {\n                self.tooltips.createTooltip(target,\n                    Form._formatErrorTooltip(target.flexFormsSavedValidationMessage), false);\n            } else {\n                if (remove) {\n                    self.tooltips.removeTooltip(target);\n                }\n            }\n        }, 0);\n    }\n\n    /**\n     * Handles invalid event of a form\n     * @param {Event} e\n     * @returns {Promise|boolean}\n     * @private\n     */\n    _checkIsInvalid(e) {\n        e.preventDefault();\n        var invalidFields = this.getForm().querySelectorAll(\":invalid\"), self = this;\n        var arr = Form._createArrayFromInvalidFieldList(invalidFields);\n        // Prevent fire this N times:\n        if (arr.indexOf(e.target) > 0) {\n            return false;\n        }\n        // focus the first field:\n        if (arr.length > 0) {\n            setTimeout(function () {\n                arr[0].focus();\n                self.showAndOrCreateTooltip(arr[0]);\n            }, 0);\n        }\n\n        var validation = self.validateCustomFields();\n        this.prepareErrors(arr, true);\n        return validation;\n    }\n\n\n    /**\n     * Initializes validation for a given form, registers event handlers\n     */\n    initFormValidation() {\n        // Suppress the default bubbles\n        var form = this.getForm(), invalidFormFired = false, self = this;\n        form.addEventListener(\"invalid\", function (e) {\n            var result = self._checkIsInvalid(e);\n            if (result) {\n                this.currentValidationFuture = new Promise((resolve) => {\n                    result.then(function (r) {\n                        self.prepareErrors(r.checkedFields, false);\n                        resolve(r);\n                        invalidFormFired = false;\n                    });\n                });\n            }\n        }, true);\n\n        // handle focus out for text elements\n        // Will show an error if field was invalid the first time\n        form.addEventListener(\"blur\", function (e) {\n            if (self.tooltips) {\n                self.tooltips.removeTooltip(e.target);\n            }\n            var target = e.target, hasError = false;\n\n            if (!_checkIsValidBlurFocusElement(target)) {\n                return;\n            }\n\n            if (target.classList.contains(INPUT_ERROR_CLASS)) {\n                hasError = true;\n            }\n            self._customValidationsForElements([e.target]).then(function () {\n                self.prepareErrors([e.target], false);\n                if (!hasError) {\n                    self.showAndOrCreateTooltip(e.target);\n                }\n            });\n\n        }, true);\n\n        /**\n         * Validates if target is a valid input field to check blur and focus events\n         *\n         * @param {HTMLElement} target\n         * @returns {boolean}\n         */\n        function _checkIsValidBlurFocusElement(target) {\n            if (!self.options.inlineValidation) {\n                return false;\n            }\n\n            var attr = target.getAttribute('type'), maybeDisableOnBlur = target.hasAttribute(ATTR_DISABLE_INLINE);\n            if (maybeDisableOnBlur) {\n                return false;\n            }\n            return !((attr === 'checkbox' || attr === 'option' || attr === 'submit' || !(target instanceof HTMLSelectElement || target instanceof HTMLInputElement ||\n            target instanceof HTMLTextAreaElement)));\n        }\n\n        // handle focus on input elements\n        // will show an error if field is invalid\n        form.addEventListener(\"focus\", function (e) {\n            // do not track errors for checkbox and radios on focus:\n            if (!_checkIsValidBlurFocusElement(e.target)) {\n                return;\n            }\n            self.showAndOrCreateTooltip(e.target);\n        }, true);\n\n        // Handle change for checkbox, radios and selects\n        form.addEventListener(\"change\", function (e) {\n            var name = e.target.getAttribute('name');\n            if (name) {\n                var inputs = form.querySelectorAll('[name=\"' + name + '\"]');\n                self._customValidationsForElements(inputs).then(function () {\n                    self.prepareErrors(inputs, false);\n                    self.showAndOrCreateTooltip(e.target, true);\n                });\n            }\n        });\n\n        // prevent default if form is invalid\n        var submitListener = function (e) {\n            self._submitListener(e, submitListener);\n        };\n        form.addEventListener(\"submit\", submitListener);\n\n        Event.dispatchAndFire(form, EVENT_FORM_READY);\n    }\n\n    /**\n     * Listener that is executed on form submit\n     * @param e\n     * @param submitListener\n     * @returns {boolean}\n     * @private\n     */\n    _submitListener(e, submitListener) {\n\n        var form = this.getForm(), self = this;\n\n        if (form.classList.contains(LOADING_CLASS)) {\n            e.preventDefault();\n            return false;\n        }\n\n        form.classList.add(LOADING_CLASS);\n        form.removeEventListener(\"submit\", submitListener);\n        this._removeElementErrors(form);\n        e.preventDefault();\n        // reset:\n        if (form.checkValidity()) {\n            form.addEventListener(\"submit\", submitListener);\n            // Custom validations did never pass\n            self.currentValidationFuture = new Promise((resolve) => {\n\n                var validation = self.validateCustomFields();\n                validation.then(function (r) {\n                    // focus first invalid field:\n                    for (var i = 0; i < r.checkedFields.length; i++) {\n                        var f = r.checkedFields[i];\n                        if (!f.validity.valid) {\n                            // Focus element and show tooltip, we explicitly showing tooltip here, because\n                            // element might have focus already\n                            self.showAndOrCreateTooltip(f, true);\n                            f.focus();\n                            break;\n                        }\n                    }\n                    self.prepareErrors(r.checkedFields, false);\n                    resolve(r);\n                });\n            });\n            self.currentValidationFuture.then(function (r) {\n                form.classList.remove(LOADING_CLASS);\n                if (!r.foundAnyError) {\n                    // Handle submitting the form to server:\n                    self._handleSubmit(e);\n                }\n            });\n        } else {\n            form.classList.remove(LOADING_CLASS);\n            form.addEventListener(\"submit\", submitListener);\n        }\n    }\n\n\n    /**\n     * Handles submitting, optionally allows to stop submitting\n     * @param e\n     * @private\n     */\n    _handleSubmit(e) {\n        this._submitFunction(this.form, e);\n    }\n\n\n    /**\n     * Registers a global event Handler\n     * @param errorFunc\n     */\n    static registerErrorMessageHandler(errorFunc) {\n        Form.globalErrorMessageHandler = errorFunc;\n    }\n\n    /**\n     * Initialize forms for a specific selector\n     * @param {String} selector\n     * @param {Object} [options]\n     */\n    static init(selector, options) {\n        var forms = selector instanceof HTMLElement ? selector.querySelectorAll('form') :\n            document.querySelectorAll(selector);\n        for (var i = 0; i < forms.length; i++) {\n            new Form(forms[i], options);\n        }\n    }\n\n\n    /**\n     * Registers a global validator that is usable on all form instances\n     * @param {String} name\n     * @param {Function} validator\n     * @returns {Function}\n     */\n    static registerValidator(name, validator) {\n        Form.globalValidators[name] = validator;\n        return Form;\n    }\n\n    /**\n     * Registers a global function that is called when a form should validate the response of a server\n     * @param {Function} func\n     * @returns {Form}\n     */\n    static registerGlobalRemoteValidationFunction(func) {\n        Form.globalRemoteValidationFunction = func;\n        return Form;\n    }\n}\n\n\n/**\n * Global validators\n * @type {Array}\n */\nForm.globalValidators = [];\n\n/**\n * Global Remote validation function\n */\nForm.globalRemoteValidationFunction = function () {\n};\n\nForm.globalErrorMessageHandler = function () {\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/Form.js\n **/","import Util from 'util/Util';\n/**\n * @type {string}\n */\nconst CLASS_NAMES_TOOLTIP = 'tooltip-container';\n/**\n * @type {string}\n */\nconst CLASS_NAMES_OPEN = 'open';\n\nvar doc = global.document;\n\n/**\n * Simple Tooltip\n */\nexport default\nclass Tooltip {\n\n    /**\n     * Creates a Tooltip\n     * @param {HTMLElement|String} DelegateContainer\n     * @param {Object} options\n     */\n    constructor(DelegateContainer, options) {\n\n        /**\n         * The Container where possible events are captured\n         */\n        this.container = DelegateContainer instanceof HTMLElement ?\n            DelegateContainer : doc.getElementById(DelegateContainer);\n\n        if (!this.container) {\n            throw 'Could not create Tooltip, DelegateContainer not found';\n        }\n\n        /**\n         * The Container where tooltips are stored for this instance\n         * @type {HTMLElement}\n         */\n        this.tooltipContainer = null;\n\n        /**\n         * Default Options\n         */\n        this.options = {\n            containerClass: ''\n        };\n\n        Object.assign(this.options, options);\n    }\n\n    /**\n     * Creates and shows a tooltip\n     * @param {HTMLElement} target where is this tooltip positioned\n     * @param {String} text text content in tooltip, will be NOT escaped\n     * @param {Boolean} removeTitle removes title element if given\n     */\n    createTooltip(target, text, removeTitle) {\n        // abort if text is empty\n        var self = this;\n        if (!text || text && text.trim() === '') {\n            return;\n        }\n        var tooltipContainer = this.tooltipContainer;\n\n        if (!tooltipContainer) {\n            tooltipContainer = doc.createElement('div');\n            this._restoreClassNames(tooltipContainer);\n            this.container.appendChild(tooltipContainer);\n            this.tooltipContainer = tooltipContainer;\n        }\n        tooltipContainer.style.left = 'auto';\n        tooltipContainer.style.top = 'auto';\n        tooltipContainer.innerHTML = text;\n        tooltipContainer.flexTooltipCurrentTarget = target;\n        if (removeTitle) {\n            target.oldTitle = text;\n            target.removeAttribute('title');\n        }\n\n        Util.setupPositionNearby(target, tooltipContainer, this.container, true, true);\n\n        tooltipContainer.classList.add(CLASS_NAMES_OPEN);\n\n    }\n\n    _restoreClassNames(container) {\n        container.className = [CLASS_NAMES_TOOLTIP, this.options.containerClass].join(\" \");\n        return this;\n    }\n\n    /**\n     * Removes a Tooltip on given target\n     * @param {HTMLElement} target\n     */\n    removeTooltip(target) {\n        if (this.tooltipContainer) {\n            if (this.tooltipContainer.flexTooltipCurrentTarget !== target) {\n                return;\n            }\n            this.tooltipContainer.classList.remove(CLASS_NAMES_OPEN);\n        }\n        if (target.oldTitle) {\n            target.setAttribute('title', target.oldTitle);\n        }\n    }\n\n    /**\n     * Initilizes mouse events on container element\n     */\n    registerEvents() {\n        var self = this;\n        this.container.addEventListener('mouseover', function (e) {\n            if (e.target.hasAttribute('data-tooltip')) {\n                self.createTooltip(e.target, e.target.getAttribute('title'), true);\n            }\n        });\n\n        this.container.addEventListener('mouseout', function (e) {\n            if (e.target.hasAttribute('data-tooltip')) {\n                self.removeTooltip(e.target);\n            }\n        });\n        return this;\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/Tooltip.js\n **/","/*global KeyboardEvent*/\n\nimport Settings from 'util/Settings';\nimport Event from 'util/Event';\nimport Util from 'util/Util';\nimport Widget from 'Widget';\n\nconst HTML_ELEMENT = global.document.documentElement;\n\n/* Attribute Names */\nconst ATTR_CREATE_NEW = 'data-new-instance';\nconst ATTR_CLOSE = 'data-close-modal';\nconst ATTR_NAME = 'data-modal';\n\n/* Class names */\nconst CLS_CONTAINER_CURRENT = 'front';\nconst CLS_OPEN = 'open';\nconst CLS_CURRENT = 'current';\nconst CLS_PART_OF_STACK = 'part-of-stack';\nconst CLS_MODAL_OPEN = 'modal-open';\nconst CLS_MODAL_CONTAINER = 'modal-container';\nconst CLS_ANIM_END = 'modal-anim-end';\nconst CLS_LOADER_CONTAINER = 'loader-container';\nconst CLS_LOADER = 'loader';\n/* Events */\n\n/**\n * Event triggered when modal is closed\n * @type {string}\n */\nexport const EVENT_MODAL_CLOSED = 'flexcss.modal.closed';\n/**\n * Event triggered before a modal is closed, cancelable\n * @type {string}\n */\nexport const EVENT_MODAL_BEFORE_CLOSED = 'flexcss.modal.beforeClose';\n/**\n * Event triggered when a modal is opened\n * @type {string}\n */\nexport const EVENT_MODAL_OPENED = 'flexcss.modal.opened';\n\n/**\n * Event triggered when modal is initilized, called on target\n * @type {string}\n */\nexport const EVENT_MODAL_INIT = 'flexcss.modal.init';\n\n/**\n * Triggered when the content of an async modal on a target is loaded, called on target\n * @type {string}\n */\nexport const EVENT_MODAL_ASYNC_TARGET_LOADED = 'flexcss.modal.asyncTargetLoaded';\n\n/**\n * A Modal Implementation\n */\nexport default\nclass Modal {\n    constructor(DelegateContainer, options) {\n        var doc = global.document, container = DelegateContainer instanceof HTMLElement ?\n            DelegateContainer : doc.getElementById(DelegateContainer);\n\n        // Instance vars:\n        if (!container) {\n            throw 'Could not found container element by given ID/Element: ' + DelegateContainer;\n        }\n\n        this.currentOpen = null;\n\n        this.loading = false;\n\n        this.container = container;\n\n        /**\n         * Default Options\n         */\n        this.options = {\n            classNames: 'modal',\n            closeOnEscape: true,\n            closeOnBackgroundClick: true,\n            destroyOnFinish: false\n        };\n\n        Object.assign(this.options, options);\n\n        // Container where events are delegated\n        this.eventContainer = null;\n        this.eventFunction = null;\n\n        this.dataMainPageContainer = global.document.body;\n\n        this.currentScrollTop = 0;\n\n        this.modalContainer = null;\n\n        // Destroy full modal instance when no dialogs are bind to?\n        // Otherwise container is recycled\n        this.destroyOnFinish = this.options.destroyOnFinish;\n    }\n\n    /**\n     * Removes this modal from global stack\n     * Will handle fixing main html element too\n     * @private\n     * @param n\n     */\n    _removeModalFromStack(n) {\n        var t = Modal._modalInstances.indexOf(n), self = this;\n        if (t > -1) {\n            Modal._modalInstances.splice(t, 1);\n            if (0 === Modal._modalInstances.length) {\n                HTML_ELEMENT.classList.remove(CLS_MODAL_OPEN);\n                Settings.get().scrollbarUpdateNodes.forEach(function (n) {\n                    // restore scrollPosition:\n                    if (self.dataMainPageContainer) {\n                        self.dataMainPageContainer.style.position = \"static\";\n                        self.dataMainPageContainer.style.top = \"0px\";\n                        // reset scrollTop\n                        document.documentElement.scrollTop = self.currentScrollTop;\n                        document.body.scrollTop = self.currentScrollTop;\n                    }\n                    n.style.paddingRight = '';\n                });\n\n            }\n        }\n    }\n\n\n    /**\n     * Modal container that contains all `stacked` modals for this instance\n     * @returns {HTMLElement}\n     */\n    getModalContainer() {\n        return this.modalContainer;\n    }\n\n    /**\n     * Closes the current open modal of this stack\n     * @params [e], optional event\n     * @returns {*}\n     */\n    close(e) {\n        var self = this;\n\n        // close only on keyboard if instance should\n        if (!self.options.closeOnEscape && e instanceof KeyboardEvent) {\n            return false;\n        }\n\n        // close only on background if instance should\n        if (!self.options.closeOnBackgroundClick && e &&\n            e.type === Settings.CONST_TAB_EVENT && !e.target.hasAttribute(ATTR_CLOSE)) {\n            return false;\n        }\n\n        // if an instance is currently loading, prevent from closing\n        if (self.loading) {\n            return false;\n        }\n\n        if (e) {\n            e.preventDefault();\n        }\n\n        if (self.currentOpen) {\n            // dispatch beforeClose event, if prevented prevent modal from closing\n            var ev = Event.dispatchAndFire(self.currentOpen, EVENT_MODAL_BEFORE_CLOSED);\n            if (ev.defaultPrevented) {\n                return false;\n            }\n\n            this._finishState(self.currentOpen);\n            // if there is an previous modal\n            if (self.currentOpen.prevModal) {\n                // switch to the next modal\n                return self.switchModals(self.currentOpen.prevModal,\n                    self.currentOpen.prevModal.prevModal || null);\n            }\n\n            // finally trigger closed event\n            Event.dispatchAndFire(self.currentOpen, EVENT_MODAL_CLOSED);\n\n        }\n        self._removeModalFromStack(self.currentOpen);\n\n        // Full stack closed:\n        self.currentOpen = null;\n        if (self.modalContainer) {\n            // setup next open\n            var lastContainer = Modal._modalInstances[Modal._modalInstances.length - 1],\n                classList = self.modalContainer.classList;\n            classList.remove(CLS_CONTAINER_CURRENT);\n            classList.remove(CLS_OPEN);\n            // Remove all current classes from child-nodes\n            for (var i = 0; i < self.modalContainer.childNodes.length; i++) {\n                var node = self.modalContainer.childNodes[i], cl = node.classList;\n                // remove applied styles\n                self._finishState(node);\n                cl.remove(CLS_CURRENT);\n                cl.remove(CLS_PART_OF_STACK);\n            }\n            if (lastContainer) {\n                lastContainer.parentNode.classList.add(CLS_CONTAINER_CURRENT);\n            }\n        }\n\n        if (self.destroyOnFinish) {\n            self.destroy();\n        }\n        return self;\n    }\n\n    /**\n     * Resets a target when newly initilizes\n     * @param target\n     * @private\n     */\n    _finishState(target) {\n        target.classList.remove(CLS_ANIM_END);\n    }\n\n    /**\n     * Handler called when a Modal has finished an animation\n     * @param e\n     * @param self\n     * @private\n     */\n    _finishAnim(e, self) {\n        e.target.classList.add(CLS_ANIM_END);\n        e.target.removeEventListener(e.type, self, true);\n    }\n\n    /**\n     * Brings the given modal to front\n     * @param co\n     * @param last\n     */\n    switchModals(co, last) {\n        co.prevModal = last;\n        Modal._modalInstances.push(co);\n\n        if (last) {\n            this._finishState(last);\n            Util.prefixedAnimateEvent(last, 'AnimationEnd', this._finishAnim);\n            last.classList.add(CLS_PART_OF_STACK);\n        }\n        // set new currentOpen\n        this.currentOpen = co;\n\n        // bring current container to the front\n        var instances = Modal._modalInstances;\n\n        for (var m = 0; m < instances.length; m++) {\n            instances[m].parentNode.classList.remove(CLS_CONTAINER_CURRENT);\n        }\n        this.modalContainer.classList.add(CLS_CONTAINER_CURRENT);\n        // remove animations if animations has been completed, fixes various bugs:\n        // - fixes nested scrolling element issue in iOS Browsers / Mobile-Safari\n        Util.prefixedAnimateEvent(co, 'AnimationEnd', this._finishAnim);\n\n        for (var i = 0; i < this.modalContainer.childNodes.length; i++) {\n            var n = this.modalContainer.childNodes[i], isCurrent = n.classList.contains(CLS_CURRENT);\n            if (n === co) {\n                co.classList.add(CLS_CURRENT);\n                co.classList.remove(CLS_PART_OF_STACK);\n                this._finishState(co);\n            } else {\n                n.classList.remove(CLS_CURRENT);\n                if (isCurrent) {\n                    this._removeModalFromStack(n);\n                    Event.dispatchAndFire(n, EVENT_MODAL_CLOSED);\n                }\n            }\n        }\n    }\n\n    handleScrollbar() {\n        var self = this;\n        if (0 === Modal._modalInstances.length) {\n            HTML_ELEMENT.classList.add(CLS_MODAL_OPEN);\n            // save current scrollTop:\n            var scrollTop = global.pageYOffset,\n                c = self.dataMainPageContainer;\n            self.currentScrollTop = scrollTop;\n            if (c) {\n                c.style.top = scrollTop * -1 + 'px';\n                c.style.position = 'fixed';\n            }\n            Settings.get().scrollbarUpdateNodes.forEach(function (n) {\n                n.style.paddingRight = parseInt(global.getComputedStyle(n).paddingRight) +\n                Settings.CONST_SCROLLBAR_WIDTH + 'px';\n            });\n        }\n    }\n\n    /**\n     * Creates a Modal and opens it (later)\n     * @param e\n     * @returns {Promise|boolean}\n     */\n    createWidget(e) {\n        var self = this;\n        if (this.loading) {\n            return false;\n        }\n\n        // check if another modal has registered events on this dom path:\n        if (e && e.target) {\n            var foundInstance = Util.parentsUntil(e.target, function (node) {\n                return node && node.flexModalInstance;\n            });\n\n            // if another instance has been found, abort\n            if (foundInstance !== this.container) {\n                return false;\n            }\n        }\n        var targetContent, future, widget, target, hasTarget = true,\n            isHtmlElement = e instanceof HTMLElement, isWidget = e instanceof Widget;\n        if (isHtmlElement || isWidget) {\n            if (isHtmlElement) {\n                targetContent = e;\n            } else {\n                widget = e;\n                targetContent = widget.element;\n            }\n        } else {\n            target = e.target;\n            hasTarget = target.hasAttribute(ATTR_NAME);\n            targetContent = target.getAttribute(ATTR_NAME);\n            widget = Widget.findWidget(target);\n            if (target.hasAttribute(ATTR_CREATE_NEW) && !e.newInstance) {\n                var newInstance = new Modal(this.container)\n                    .setDestroyOnFinish(true);\n                e.newInstance = true;\n                newInstance.fromEvent(e).then(function () {\n                    newInstance.registerEvents(newInstance.getModalContainer());\n                });\n                return false;\n            }\n            if (hasTarget) {\n                e.stopImmediatePropagation();\n                e.preventDefault();\n            }\n        }\n\n        if (!hasTarget) {\n            return false;\n        }\n\n        var modalContainerClasses = this.modalContainer ? this.modalContainer.classList : [];\n\n        // lazy create modal container\n        if (!this.modalContainer) {\n            this.modalContainer = global.document.createElement('div');\n            this.modalContainer.className = CLS_MODAL_CONTAINER + ' ' + CLS_OPEN;\n            var closeModalFunction = function (e) {\n                if (self.loading) {\n                    return false;\n                }\n                if (Util.isPartOfNode(e.target, self.currentOpen)) {\n                    if (!e.target.hasAttribute(ATTR_CLOSE)) {\n                        return false;\n                    }\n                }\n                self.close(e);\n            };\n\n            this.modalContainer.addEventListener(Settings.CONST_TAB_EVENT, closeModalFunction, false);\n\n            modalContainerClasses = this.modalContainer.classList;\n            this.container.appendChild(this.modalContainer);\n\n        } else {\n            modalContainerClasses.add(CLS_OPEN);\n        }\n\n        var loader, doc = global.document, toggleLoader = function (show) {\n            if (show) {\n                loader = doc.createElement('div');\n                loader.className = CLS_LOADER_CONTAINER;\n                var loaderLoader = doc.createElement('div');\n                loaderLoader.className = CLS_LOADER;\n                loader.appendChild(loaderLoader);\n                self.modalContainer.appendChild(loader);\n            } else {\n                loader.parentNode.removeChild(loader);\n            }\n        };\n\n        this.handleScrollbar();\n\n        modalContainerClasses.add(CLS_CONTAINER_CURRENT);\n        modalContainerClasses.add('loading');\n        this.loading = true;\n        toggleLoader(true);\n        var async = widget ? widget.getAsync() : null;\n        if (widget instanceof Widget && async) {\n            future = async.then(function (r) {\n                var result;\n                if (r instanceof HTMLElement || r instanceof DocumentFragment) {\n                    result = r;\n                } else {\n                    // Create container Element:\n                    var element = doc.createElement('div');\n                    element.className = self.options.classNames;\n                    element.innerHTML = r;\n                    element.id = Util.guid();\n                    result = element;\n                }\n                widget.finalContent = result;\n                Event.dispatchAndFire(target, EVENT_MODAL_ASYNC_TARGET_LOADED);\n                return result;\n            });\n        } else {\n            var el = targetContent instanceof HTMLElement ||\n            targetContent instanceof DocumentFragment ? targetContent : doc.getElementById(targetContent);\n            if (el) {\n                future = new Promise((resolve) => {\n                    resolve(el);\n                });\n            } else {\n                throw 'Could not found given modal element (content) with ID: ' + targetContent;\n            }\n        }\n\n        Event.dispatchAndFire(target, EVENT_MODAL_INIT);\n\n        return future.then(function (el) {\n            el.hfContainerInstance = self;\n            self.modalContainer.appendChild(el);\n            modalContainerClasses.remove('loading');\n            self.loading = false;\n            toggleLoader(false);\n\n            self.open(el, true);\n\n            return el;\n        });\n    }\n\n    /**\n     * Open's an already rendered modal\n     * @param {HTMLElement} modal\n     * @param {Boolean} [internal], set to true to prevent container management\n     */\n    open(modal, internal) {\n\n\n        if (!internal) {\n            this.modalContainer.classList.add('open');\n            this.handleScrollbar();\n        }\n        this.switchModals(modal, this.currentOpen);\n\n        Event.dispatchAndFire(modal, EVENT_MODAL_OPENED);\n    }\n\n\n    registerEvents(delegate) {\n        var delegateContainer = delegate || this.container, self = this;\n\n        // register modal instance so we can detect multiple registrars\n        delegateContainer.flexModalInstance = self;\n        self.eventFunction = function () {\n            self.createWidget.apply(self, arguments);\n        };\n        delegateContainer.addEventListener(Settings.CONST_TAB_EVENT, self.eventFunction, false);\n\n        self.eventContainer = delegateContainer;\n        return self;\n    }\n\n\n    /**\n     * Creates a new Dialog Instance either directly from HTML Element or a Widget instance\n     * @param {HTMLElement|Widget} widget instance or html element\n     * @returns {Promise}\n     */\n    fromWidget(widget) {\n        return this.createWidget(widget);\n    }\n\n    /**\n     * Creates a Widget from event\n     * @param e\n     * @returns {Promise}\n     */\n    fromEvent(e) {\n        return this.createWidget(e);\n    }\n\n    setDestroyOnFinish(v) {\n        this.destroyOnFinish = v;\n        return this;\n    }\n\n    /**\n     * Destroy this widget instance, cleans empty DOM nodes\n     * Will use fast MutationObserver if available, otherwise falls back to DOMNodeRemoved event\n     */\n    destroy() {\n        var self = this, modalContainer = this.modalContainer;\n        // Remove event listener on destroy, do not remove DOM node\n        if (self.eventContainer) {\n            self.eventContainer.removeEventListener(Settings.CONST_TAB_EVENT, self.eventFunction, true);\n        }\n\n        if (0 === modalContainer.childNodes.length) {\n            if (modalContainer.parentNode) {\n                modalContainer.parentNode.removeChild(modalContainer);\n            }\n        }\n        if (global.MutationObserver) {\n            var observer = new MutationObserver(function (mutations) {\n                mutations.forEach(function () {\n                    if (0 === modalContainer.childNodes.length) {\n                        modalContainer.parentNode.removeChild(modalContainer);\n                        observer.disconnect();\n                    }\n                });\n            });\n            observer.observe(modalContainer, {childList: true});\n        } else {\n            modalContainer.addEventListener('DOMNodeRemoved', function (e) {\n                if (e.target !== modalContainer && 0 === (modalContainer.childNodes.length - 1)) {\n                    modalContainer.parentNode.removeChild(modalContainer);\n                }\n            });\n        }\n    }\n}\n\n\n// Static variable that keeps track of all open modals\nModal._modalInstances = [];\n\n// Global keydown listener for modal\nglobal.addEventListener('keydown', function (e) {\n    \"use strict\";\n    if (27 === e.keyCode) {\n        var lastModal = Modal._modalInstances[Modal._modalInstances.length - 1];\n        if (lastModal) {\n            lastModal.hfContainerInstance.close(e);\n        }\n    }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/Modal.js\n **/","/**\n * A Widget provides async content on a specific target (e.g. a modal link)\n */\nexport default\nclass Widget {\n\n    /**\n     * Creates a new Widget\n     * @param [element], optional define the content of widget\n     */\n    constructor(element) {\n\n        /**\n         *\n         * @type {Promise}\n         */\n        this.asyncContent = null;\n\n        if (element) {\n            /**\n             * @type {HTMLElement}\n             */\n            this.element = element instanceof HTMLElement ? element : global.document.getElementById(element);\n            if (this.element) {\n                this.element.hfWidgetInstance = this;\n                this.setAsync((() => {\n                    return new Promise(((s) => {\n                        s(this.element);\n                    }).bind(this));\n                }).bind(this));\n            } else {\n                throw 'Could not found element with ID: ' + element;\n            }\n        }\n        /**\n         * The final resulted content that a widget did create (e.g. a modal container)\n         * @type {HTMLElement}\n         */\n        this.finalContent = null;\n    }\n\n    /**\n     *\n     * @returns {Promise}\n     */\n    getAsync() {\n        return this.asyncContent();\n    }\n\n    /**\n     * @param {() => Promise} async\n     * @returns {Widget}\n     */\n    setAsync(async) {\n        this.asyncContent = async;\n        return this;\n    }\n\n    /**\n     * @returns {HTMLElement}\n     */\n    getFinalContent() {\n        return this.finalContent;\n    }\n    /**\n     * @param {HTMLElement} element\n     * @returns {Widget}\n     */\n    setElement(element) {\n        this.element = element;\n        return this;\n    }\n\n    /**\n     * Destroys the generated content of this widget\n     * @returns {boolean}\n     */\n    destroy() {\n\n        if (this.finalContent && this.finalContent.parentNode) {\n            this.finalContent.parentNode.removeChild(this.finalContent);\n            return true;\n        }\n\n        delete this.element;\n        delete this.asyncContent;\n        delete this.finalContent;\n\n        return false;\n    }\n\n    /**\n     * Will find a widget on a Element\n     * @param {HTMLElement} element\n     * @returns {Widget|undefined}\n     */\n    static findWidget(element) {\n        return element? element.hfWidgetInstance : undefined;\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/Widget.js\n **/","import Settings from 'util/Settings';\nimport Widget from 'Widget';\nimport Util from 'util/Util';\nimport Event from 'util/Event';\n\n/**\n * Event that is fired when a tab is closed\n * @type {string}\n */\n\nexport const EVENT_TAB_CLOSED = 'flexcss.tab.closed';\n\n/**\n * Event that is fired when a tab has been opened\n * @type {string}\n */\nexport const EVENT_TAB_OPENED = 'flexcss.tab.opened';\n/**\n * @type {string}\n */\nconst ATTR_NAME = 'data-toggle';\n/**\n * @type {string}\n */\nconst ACTIVE_CLASS = 'active';\n/**\n * @type {string}\n */\nconst LOADING_CLASS = 'loading';\n\n/**\n * @type {string}\n */\nconst ATTR_TOGGLE_LIST = 'data-toggle-list';\n\n/**\n * Creates a toggleable element, either for tabs or a single toggle\n */\nexport default\nclass Toggleable {\n    constructor(ContainerId) {\n\n        var doc = global.document;\n\n        this.container = ContainerId instanceof HTMLElement ? ContainerId :\n            doc.getElementById(ContainerId);\n\n        this.loading = false;\n\n        if (!this.container) {\n            throw 'Toggleable container with id \"' + ContainerId + '\" not found';\n        }\n    }\n\n    /**\n     * Listener\n     * @param {Event} e\n     * @private\n     */\n    _listener(e) {\n        var target = e.target, parent = target.parentNode, doc = global.document;\n\n        // support target child element to clicked\n        if (!target.hasAttribute(ATTR_NAME)) {\n            if (parent && parent.hasAttribute(ATTR_NAME)) {\n                target = parent;\n            } else {\n                return;\n            }\n        }\n\n        if (!target.hasAttribute(ATTR_NAME)) {\n            return;\n        }\n\n        var refId = target.getAttribute(ATTR_NAME),\n            ref = doc.getElementById(refId);\n\n        e.preventDefault();\n\n        if (this.loading) {\n            return;\n        }\n\n        this.toggleTarget(ref, target);\n    }\n\n    /**\n     * Registers Events for this instance\n     * @returns {Toggleable}\n     */\n    registerEvents() {\n        this.container.addEventListener(Settings.CONST_TAB_EVENT, this._listener.bind(this));\n        return this;\n    }\n\n    /**\n     * Toggles given `ref`\n     * @param {HTMLElement} ref\n     * @param {HTMLElement} [target] optional target node\n     */\n    toggleTarget(ref, target) {\n        if (!target && !ref) {\n            return;\n        }\n        if (!target) {\n            target = document.querySelector('[' + ATTR_NAME + '=\"' + ref.id + '\"]');\n        }\n\n        var maybeToggleNode, future,\n            elClassList = target.classList, parentClassList,\n            parent = target.parentNode, doc = global.document;\n\n        future = new Promise((resolve, failure) => {\n            if (ref) {\n                resolve(ref);\n            } else {\n                var widget = Widget.findWidget(target), async = widget ? widget.getAsync() : null;\n                if (widget instanceof Widget && async) {\n                    future = async.then(function (r) {\n                        if (r instanceof HTMLElement) {\n                            var id = Util.guid();\n                            r.id = id;\n                            target.setAttribute(ATTR_NAME, id);\n                            resolve(r);\n                        } else {\n                            throw 'Dynamically creating toggle-content is not supported right now. ' +\n                            'Return an HTMLElement instance';\n                        }\n                    });\n                } else {\n                    failure('Target not given');\n                }\n            }\n        });\n\n        if (parent) {\n            maybeToggleNode = Util.parentsUntil(target, function (n) {\n                return n.hasAttribute(ATTR_TOGGLE_LIST);\n            });\n\n            parentClassList = parent.classList;\n            // Abort if element is already active and if is part of a toggle list\n            if (maybeToggleNode && !parentClassList.contains(ACTIVE_CLASS)) {\n                parentClassList.toggle(ACTIVE_CLASS);\n                parentClassList.add(LOADING_CLASS);\n            } else {\n                return;\n            }\n\n            if (maybeToggleNode) {\n                for (var i = 0; i < maybeToggleNode.children.length; i++) {\n                    var n = maybeToggleNode.children[i], targetRef = n.children[0];\n                    if (n !== parent) {\n                        n.classList.remove(ACTIVE_CLASS);\n                        if (targetRef) {\n                            var attr = targetRef.getAttribute(ATTR_NAME),\n                                el = attr ? doc.getElementById(attr) : null;\n                            if (el) {\n                                Event.dispatchAndFire(el, EVENT_TAB_CLOSED);\n                                el.classList.remove(ACTIVE_CLASS);\n                                targetRef.classList.remove(ACTIVE_CLASS);\n                            }\n                        }\n                    }\n                }\n            }\n\n        }\n        if (elClassList) {\n            elClassList.toggle(ACTIVE_CLASS);\n            elClassList.add(LOADING_CLASS);\n        }\n        this.loading = true;\n        future.then(function (r) {\n            Event.dispatchAndFire(r, EVENT_TAB_OPENED);\n            Toggleable._handleLoaded(target);\n            r.classList.toggle(ACTIVE_CLASS);\n            this.loading = false;\n\n        }.bind(this)).catch((reason) => {\n            this.loading = false;\n            Toggleable._handleLoaded(target);\n            console.warn(reason);\n        });\n\n        return this;\n    }\n\n    /**\n     * @param el\n     * @private\n     */\n    static _handleLoaded(el) {\n        var parentClassList = el.parentNode.classList;\n        el.classList.remove(LOADING_CLASS);\n        if (parentClassList) {\n            parentClassList.remove(LOADING_CLASS);\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/Toggleable.js\n **/","import Settings from 'util/Settings';\nimport Util from 'util/Util';\n\n/**\n * @type {string}\n */\nconst ATTR_CLOSE_SIDEBAR = 'data-close-sidebar';\n/**\n * @type {string}\n */\nconst TOGGLE_CLASS = 'toggled-canvas';\n/**\n * @type {string}\n */\nconst INIT_CLASS = 'init';\n/**\n * @type {string}\n */\nconst OPEN_CLASS = 'open';\n/**\n * @type {number}\n */\nconst HIDE_FACTOR = 7;\n\n/**\n * A OffCanvas Implementation\n */\nexport default\nclass OffCanvas {\n\n    /**\n     * Creates an off-canvas navigation\n     * @param {HTMLElement|String} NavigationId\n     * @param {HTMLElement|String} ToggleNavigationId\n     * @param {HTMLElement|String} Darkener\n     * @param {int} factor positive will expect right sidebar, positive left\n     * @param {bool} [disableTouch] if true all touch events are disabled\n     * @constructor\n     */\n    constructor(NavigationId, ToggleNavigationId, Darkener, factor, disableTouch) {\n\n        var doc = global.document, touched = 0, body = doc.body,\n            navigationContainer = NavigationId instanceof HTMLElement ?\n                NavigationId : doc.getElementById(NavigationId),\n            toggler = ToggleNavigationId instanceof HTMLElement ?\n                ToggleNavigationId : doc.getElementById(ToggleNavigationId),\n            darkener = Darkener instanceof HTMLElement ? Darkener : doc.getElementById(Darkener),\n            DARKENER_CLASS_TOGGLE = 'toggle-' + darkener.id || 'darkener',\n            resetStyles = function (s) {\n                s.transform = '';\n                s.transition = '';\n                s.webkitTransform = '';\n                s.webkitTransition = '';\n            },\n            shouldNotTouch = function () {\n                return window.innerWidth >= Settings.get().smallBreakpoint;\n            };\n\n        if (!disableTouch) {\n            navigationContainer.addEventListener('touchstart', function (e) {\n                requestAnimationFrame(function () {\n                    if (shouldNotTouch()) {\n                        return;\n                    }\n                    touched = e.touches[0].clientX;\n                    var target = navigationContainer, style = target.style;\n                    target.mustHide = false;\n                    style.transition = 'transform 0s ease';\n                    style.webkitTransition = '-webkit-transform 0s ease';\n\n                });\n            });\n            navigationContainer.addEventListener('touchmove', function (e) {\n\n                if (shouldNotTouch()) {\n                    return;\n                }\n                var x = e.touches[0].clientX, target = navigationContainer, style = target.style, calc = touched - x,\n                    bounds = target.getBoundingClientRect(),\n                    compare = factor > 0 ? calc <= 0 : calc >= 0;\n                if (compare) {\n                    target.mustHide = factor > 0 ? calc * -1 >\n                    bounds.width / HIDE_FACTOR : calc > bounds.width / HIDE_FACTOR;\n                    style.transform = 'translate3d(' + (calc * -1) + 'px,0,0)';\n                    style.webkitTransform = 'translate3d(' + (calc * -1) + 'px,0,0)';\n                }\n            });\n            navigationContainer.addEventListener('touchend', function () {\n\n                requestAnimationFrame(function () {\n                    if (shouldNotTouch()) {\n                        return;\n                    }\n                    var target = navigationContainer, style = target.style;\n\n                    if (target.mustHide) {\n                        var width = target.getBoundingClientRect().width * factor;\n                        style.transition = 'transform .2s ease';\n                        style.webkitTransition = '-webkit-transform .2s ease';\n\n                        style.transform = 'translate3d(' + width + 'px,0,0)';\n                        style.webkitTransform = 'translate3d(' + width + 'px,0,0)';\n\n                        Util.addEventOnce(Settings.CONST_TRANSITION_EVENT, target, function () {\n                            // add timeout because transition event fires a little to early\n                            setTimeout(function () {\n                                resetStyles(style);\n                                body.classList.remove(TOGGLE_CLASS);\n                                body.classList.remove(DARKENER_CLASS_TOGGLE);\n                            }, Settings.get().darkenerFadeDelay);\n                        });\n\n                        target.classList.remove(OPEN_CLASS);\n                        darkener.classList.remove(INIT_CLASS);\n\n\n                    } else {\n                        resetStyles(style);\n                    }\n                });\n            });\n        }\n        var togglerF = function (e) {\n            e.preventDefault();\n            var bodyClass = body.classList, darkenerClass = darkener.classList;\n            if (navigationContainer.classList.contains(OPEN_CLASS)) {\n                Util.addEventOnce(Settings.CONST_TRANSITION_EVENT, navigationContainer, function () {\n                    // add timeout because transition event fires a little to early\n                    setTimeout(function () {\n                        bodyClass.remove(TOGGLE_CLASS);\n                        bodyClass.remove(DARKENER_CLASS_TOGGLE);\n                    }, Settings.get().darkenerFadeDelay);\n                });\n                navigationContainer.classList.remove(OPEN_CLASS);\n                darkener.classList.remove(INIT_CLASS);\n\n            } else {\n                bodyClass.add(TOGGLE_CLASS);\n                bodyClass.add(DARKENER_CLASS_TOGGLE);\n                darkenerClass.add(INIT_CLASS);\n                navigationContainer.classList.add(OPEN_CLASS);\n            }\n        };\n        toggler.addEventListener('touchstart', function (e) {\n            e.target.oldClassNames = e.target.className;\n            e.target.className = 'active ' + e.target.oldClassNames;\n        });\n\n        toggler.addEventListener('touchend', function (e) {\n            e.target.className = e.target.oldClassNames;\n        });\n\n        toggler.addEventListener(Settings.CONST_TAB_EVENT, togglerF);\n\n        darkener.addEventListener(Settings.CONST_TAB_EVENT, (e) => {\n            if (navigationContainer.classList.contains(OPEN_CLASS)) {\n                e.preventDefault();\n                togglerF(e);\n            }\n        });\n\n        navigationContainer.addEventListener(Settings.CONST_TAB_EVENT, (e) => {\n            if(e.target.hasAttribute(ATTR_CLOSE_SIDEBAR)) {\n                e.preventDefault();\n                togglerF(e);\n            }\n        });\n\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/OffCanvas.js\n **/","import Util from 'util/Util';\nimport Settings from 'util/Settings';\nimport Event from 'util/Event';\nimport Widget from 'Widget';\n\n/**\n * @type {string}\n */\nconst ATTR_CC = 'data-collision-container';\n/**\n * @type {string}\n */\nconst ATTR_DARKENER = 'data-darkener-container';\n/**\n * @type {string}\n */\nconst DARKENER_INIT = 'init';\n/**\n * @type {string}\n */\nconst ATTR_DATA_TARGET = 'data-target';\n/**\n * @type {string}\n */\nconst ATTR_CLOSE_DROPDOWN = 'data-close-dropdown';\n/**\n * @type {string}\n */\nconst ATTR_NAME = 'data-dropdown';\n/**\n * @type {string}\n */\nconst STATE_LOADING = 'loading';\n\nconst CLS_DARKENER_DROPDOWN = 'darkener-dropdown';\n/**\n * @type {string}\n */\nconst CLS_OPEN = 'open';\n\n/**\n * @type {string}\n */\nconst CLS_DROPDOWN = 'dropdown';\n\n/**\n * @type {string}\n */\nexport const EVENT_DROPDOWN_CLOSED = 'flexcss.dropdown.closed';\n\n/**\n * A Dropdown\n */\nexport default\nclass Dropdown {\n    constructor(DelegateContainer, Darkener) {\n\n        var doc = global.document;\n\n        /**\n         * Container Element\n         * @type {HTMLElement}\n         */\n        this.container = DelegateContainer instanceof HTMLElement ?\n            DelegateContainer : doc.getElementById(DelegateContainer);\n\n        this.currentOpen = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this.darkener = Darkener instanceof HTMLElement ? Darkener : document.getElementById(Darkener);\n\n        this.destroyOnClose = false;\n\n        if (!this.darkener || !this.container) {\n            throw 'required elements not found (darkener and container element)';\n        }\n\n    }\n\n    /**\n     * Method that handles delegation events for dropdowns\n     * @param e\n     * @returns {*}\n     * @private\n     */\n    _delegateFunction(e) {\n        var currentOpen = this.currentOpen;\n        if (currentOpen && !Util.isPartOfNode(e.target, currentOpen)) {\n            this.close();\n            return this._delegateFunction(e);\n        }\n        var targetHas = e.target.hasAttribute(ATTR_NAME),\n            parentHas = e.target.parentNode ?\n                e.target.parentNode.hasAttribute(ATTR_NAME) : false,\n            target = targetHas ? e.target : e.target.parentNode;\n\n        if (targetHas || parentHas && !currentOpen) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n\n            if (target.isLoading) {\n                return;\n            }\n            this.createDropdown(target);\n        } else {\n            if (currentOpen) {\n                if (e.target.hasAttribute(ATTR_CLOSE_DROPDOWN)) {\n                    e.preventDefault();\n                    this.close();\n                }\n                if (!Util.isPartOfNode(e.target, currentOpen)) {\n                    this.close();\n                }\n            }\n        }\n    }\n\n    /**\n     * Register Events for this dropdown container\n     * @returns {Dropdown}\n     */\n    registerEvents() {\n        this.container.addEventListener(Settings.CONST_TAB_EVENT, this._delegateFunction.bind(this), true);\n        return this;\n    }\n\n    /**\n     * Destroys this instance, unbinds events\n     * @returns {Dropdown}\n     */\n    destroy() {\n        this.container.removeEventListener(Settings.CONST_TAB_EVENT, this._delegateFunction.bind(this), true);\n        return this;\n    }\n\n\n    /**\n     * Destroys instance on close of dropdown\n     * @param v\n     * @returns {Dropdown}\n     */\n    setDestroyOnClose(v) {\n        this.destroyOnClose = v;\n        return this;\n    }\n\n\n    /**\n     * Will add the right class to container for specific darkener id\n     * @param instance\n     * @param show\n     */\n    toggleDarkenerToggler(instance, show) {\n        var cls = 'toggle-' + (instance.id || CLS_DARKENER_DROPDOWN),\n            classList = this.container.classList;\n        if (show) {\n            classList.add(cls);\n        } else {\n            classList.remove(cls);\n        }\n    }\n\n    /**\n     * Closes Dropdown on current instance\n     * @return {Boolean|Promise}\n     */\n    close() {\n        var currentOpen = this.currentOpen;\n        if (!currentOpen) {\n            return false;\n        }\n        var future, darkenerInstance = currentOpen.flexDarkenerInstance || this.darkener, thisCurrentOpen = currentOpen;\n\n        future = new Promise((resolve) => {\n            if (window.getComputedStyle(currentOpen).position === 'fixed') {\n                Util.addEventOnce(Settings.CONST_TRANSITION_EVENT, currentOpen, function () {\n                    setTimeout(function () {\n                        Event.dispatchAndFire(thisCurrentOpen, EVENT_DROPDOWN_CLOSED);\n                        // if a new dropdown has been opened in the meantime, do not remove darkener\n                        if (null !== this.currentOpen) {\n                            return;\n                        }\n                        this.toggleDarkenerToggler(darkenerInstance, false);\n                        this.container.classList.remove(Settings.CONST_CANVAS_TOGGLE);\n                        resolve(true);\n                    }.bind(this), Settings.get().darkenerFadeDelay);\n                }.bind(this));\n            } else {\n                resolve(true);\n                Event.dispatchAndFire(thisCurrentOpen, EVENT_DROPDOWN_CLOSED);\n            }\n        });\n\n        currentOpen.classList.remove(CLS_OPEN);\n\n        if (currentOpen.flexDarkenerInstance) {\n            currentOpen.flexDarkenerInstance.classList.remove(DARKENER_INIT);\n        } else {\n            this.darkener.classList.remove(DARKENER_INIT);\n        }\n\n        this.currentOpen = null;\n\n        if (this.destroyOnClose) {\n            this.destroy();\n        }\n\n        return future;\n    }\n\n    /**\n     * Creates a dropdown on given target and opens it\n     * @param {HTMLElement} target target where this dropdown is placed\n     * @param {FlexCss.Widget} [thisWidget] if given will use widget instead of widget instance\n     * @return {FlexCss.Dropdown}\n     */\n    createDropdown(target, thisWidget) {\n        var doc = global.document;\n\n        if (!target) {\n            throw 'Dropdown target not found';\n        }\n\n        var widget = thisWidget || Widget.findWidget(target), future,\n            data = target.getAttribute(ATTR_NAME), dropdownContainerElement = doc.getElementById(data),\n            async = !dropdownContainerElement && widget instanceof Widget ? widget.getAsync() : false;\n\n        if (async) {\n            target.classList.add(STATE_LOADING);\n            target.isLoading = true;\n            future = async.then(function (r) {\n                if (r instanceof HTMLElement) {\n                    if (r.id) {\n                        target.setAttribute(ATTR_NAME, r.id);\n                    }\n                    return r;\n                } else {\n                    // Create container Element:\n                    var element = doc.createElement('div');\n                    element.className = CLS_DROPDOWN;\n                    element.innerHTML = r;\n                    element.id = Util.guid();\n                    // Cache target for later use:\n                    target.setAttribute(ATTR_NAME, element.id);\n                    this.container.appendChild(element);\n                    return element;\n                }\n            }).then(function (r) {\n                target.isLoading = false;\n                target.classList.remove(STATE_LOADING);\n                return r;\n            });\n        } else {\n            if (!dropdownContainerElement) {\n                throw 'Could not found Dropdown container with ID \"' + data + '\"';\n            }\n            future = new Promise((r) => {\n                r(dropdownContainerElement);\n            });\n        }\n\n        future.then(function (dropdownContent) {\n            if (this.currentOpen) {\n                this.close();\n            }\n            // Skip one frame to show animation\n            target.dropdownContent = dropdownContent;\n            var isAbsolute = global.getComputedStyle(dropdownContent).position === 'absolute';\n\n            if (!target.flexCollisionContainer) {\n                var collisionC = target.getAttribute(ATTR_CC);\n                target.flexCollisionContainer = collisionC ?\n                doc.getElementById(collisionC) || document.body : document.body;\n            }\n\n            dropdownContent.classList.toggle(CLS_OPEN);\n            if (dropdownContent.classList.contains(CLS_OPEN)) {\n                this.currentOpen = dropdownContent;\n            }\n            if (isAbsolute) {\n                // Check collision:\n                var selfTarget = target.getAttribute(ATTR_DATA_TARGET);\n                selfTarget = selfTarget ? doc.getElementById(selfTarget) : target;\n                Util.setupPositionNearby(selfTarget, dropdownContent, target.flexCollisionContainer);\n            } else {\n                this.container.classList.add(Settings.CONST_CANVAS_TOGGLE);\n                // optionally get custom darkener container for target\n                var d = target.getAttribute(ATTR_DARKENER);\n                if (d) {\n                    dropdownContent.flexDarkenerInstance = doc.getElementById(d);\n                    (dropdownContent.flexDarkenerInstance || this.darkener).classList.toggle(DARKENER_INIT);\n                } else {\n                    this.darkener.classList.toggle(DARKENER_INIT);\n                }\n\n                this.toggleDarkenerToggler(dropdownContent.flexDarkenerInstance || this.darkener, true);\n\n                dropdownContent.style.left = '0';\n                dropdownContent.style.top = 'auto';\n            }\n        }.bind(this));\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/Dropdown.js\n **/","/* global Image, TouchEvent*/\n\nimport Modal from 'Modal';\nimport {EVENT_MODAL_CLOSED} from 'Modal';\nimport Settings from 'util/Settings';\nimport Widget from 'Widget';\n\nconst ATTR_MAX_WIDTH = 'data-original-width';\nconst ATTR_MAX_HEIGHT = 'data-original-height';\nconst ATTR_SRC = 'data-src';\n\nconst CLS_HAS_PREV = 'has-prev';\nconst CLS_HAS_NEXT = 'has-next';\nconst CLS_LOADING = 'loading';\n\nconst ATTR_NO_THUMBNAIL = 'data-no-thumbnail';\nconst ATTR_DATA_HREF = 'data-href';\nconst ATTR_HREF = 'href';\n\nconst KEY_NEXT = 39;\nconst KEY_PREV = 37;\nconst ATTR_CLOSE = 'data-close-modal';\n/**\n * A Simple LightBox\n */\nexport default\nclass LightBox {\n\n    /**\n     * Creates a new Lightbox\n     * @param DelegateContainer\n     * @param AttributeSelector\n     * @param ModalAppend\n     * @param [options]\n     */\n    constructor(DelegateContainer, AttributeSelector, ModalAppend, options) {\n\n        var thisDelegateContainer = DelegateContainer instanceof HTMLElement ? DelegateContainer :\n            document.getElementById(DelegateContainer);\n\n        this._modalAppend = ModalAppend || DelegateContainer;\n        /**\n         * @type {Function}\n         */\n        this._resizeEvent = null;\n        /**\n         * @type {Function}\n         */\n        this._keyboardNextEvent = null;\n        /**\n         * @type {Promise}\n         */\n        this._future = null;\n        /**\n         * @type {Promise}\n         */\n        this._nextFuture = this._future;\n        /**\n         * @type {HTMLElement}\n         */\n        this._imageContainer = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this._modalContainerDiv = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this._contentContainer = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this._closerContainerDiv = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this._delegateContainer = thisDelegateContainer;\n        /**\n         * @type {HTMLElement}\n         */\n        this._attributeSelector = AttributeSelector;\n        /**\n         * @type {Widget}\n         */\n        this._widget = null;\n        /**\n         * @type {boolean}\n         */\n        this._isOpen = false;\n        /**\n         * @type {HTMLElement}\n         */\n        this.target = null;\n        /**\n         * @type {HTMLElement}\n         */\n        this.img = null;\n        /**\n         * @type {boolean}\n         */\n        this._isLoading = false;\n\n        /**\n         * Default options\n         */\n        this.options = {\n            // set if prev and next should be available\n            registerPrevNextEvents: true,\n            // set if modal should be closed after last image\n            closeOnLast: true,\n            // called when next image is requested (either by keyboard or click\n            onNext: function () {\n                return true;\n            },\n            onClose: function () {\n            },\n            // called when underlying target changed\n            onSwitchImage: function () {\n            }\n        };\n\n        Object.assign(this.options, options);\n    }\n\n    /**\n     * Will fetch the next element of a lightBox\n     * @param target\n     * @returns {*}\n     */\n    getNext(target) {\n        var next = target.parentNode.nextElementSibling;\n        if (next && next.children[0].hasAttribute(this._attributeSelector)) {\n            return next.children[0];\n        }\n        return null;\n    }\n\n    /**\n     * Will fetch the previous element of a lightBox\n     * @param {HTMLElement} target\n     * @returns {null|HTMLElement}\n     */\n    getPrev(target) {\n        var previous = target.parentNode.previousElementSibling;\n        if (previous && previous.children[0].hasAttribute(this._attributeSelector)) {\n            return previous.children[0];\n        }\n        return null;\n    }\n\n    /**\n     * Registers events for delegate container\n     */\n    registerEvents(onOpen) {\n        this._delegateContainer.addEventListener(Settings.CONST_TAB_EVENT, function (e) {\n            var target = e.target, parent = target.parentNode,\n                validTarget = target.hasAttribute(this._attributeSelector),\n                parentIsValid = parent && parent.hasAttribute(this._attributeSelector);\n            if (!validTarget && parentIsValid) {\n                validTarget = true;\n                target = parent;\n            }\n            if (validTarget) {\n                e.preventDefault();\n                this.open(target).then(function (r) {\n                    if (onOpen) {\n                        onOpen.apply(this, [r, target]);\n                    }\n                }.bind(this));\n            }\n        }.bind(this));\n    }\n\n    /**\n     * @returns {HTMLElement}\n     */\n    getContentContainer() {\n        return this._contentContainer;\n    }\n\n    /**\n     * Setup max-width and max-height\n     * @param {HTMLElement} target\n     * @param {HTMLElement} img\n     * @param {HTMLElement} loadedImage\n     * @private\n     */\n    static _setupMaxWidthHeight(target, img, loadedImage) {\n        var nextMaxWidth = target.getAttribute(ATTR_MAX_WIDTH),\n            nextMaxHeight = target.getAttribute(ATTR_MAX_HEIGHT);\n        if (nextMaxWidth && nextMaxHeight) {\n            img.style.maxWidth = nextMaxWidth + \"px\";\n            img.style.maxHeight = nextMaxHeight + \"px\";\n        } else {\n            img.style.maxWidth = loadedImage.width + \"px\";\n            img.style.maxHeight = loadedImage.height + \"px\";\n        }\n    }\n\n    /**\n     * Switches to the next image\n     * @param {boolean} direction\n     */\n    switchImageByDirection(direction) {\n        var next = direction ? this.getPrev(this.target) : this.getNext(this.target);\n        if (this.options.onNext.apply(this, [next])) {\n            return this.switchImage(next);\n        }\n    }\n\n    /**\n     * Checks if lightbox is currently loading\n     * @returns {boolean}\n     */\n    isLoading() {\n        return this._isLoading;\n    }\n\n    /**\n     * Checks if modal should be closed\n     * @private\n     */\n    _runOptionalClose() {\n        if (this.options.closeOnLast) {\n            this.modal.close();\n        }\n    }\n\n    _setupPrevNextStates() {\n        var target = this.target, hasPrev = this.getPrev(target), hasNext = this.getNext(target),\n            hasPrevClass = CLS_HAS_PREV, hasNextClass = CLS_HAS_NEXT;\n        // because IE does not support the second toggle parameter, we need to do this manually\n        if (hasPrev) {\n            this._imageContainer.classList.add(hasPrevClass);\n        } else {\n            this._imageContainer.classList.remove(hasPrevClass);\n        }\n        if (hasNext) {\n            this._imageContainer.classList.add(hasNextClass);\n        } else {\n            this._imageContainer.classList.remove(hasNextClass);\n        }\n    }\n\n    /**\n     * @param img\n     * @private\n     */\n    _calculateContainer(img) {\n        if (Settings.isIE()) {\n            setTimeout(function () {\n                this._imageContainer.style.height = img.offsetHeight + 'px';\n            }.bind(this), 0);\n        }\n    }\n\n    /**\n     * Switch to a specific image\n     * @param next\n     * @returns {*}\n     */\n    switchImage(next) {\n        var self = this, img = this.img;\n        this._isLoading = true;\n        self._nextFuture = new Promise(((resolve, reject) => {\n            // notify observers about image switching\n            self.options.onSwitchImage.apply(self, [self._nextFuture]);\n            if (next) {\n                var nextThumb = next.hasAttribute(ATTR_NO_THUMBNAIL) ? next : (next.children[0] || next),\n                    nextHighRes = next.getAttribute(ATTR_DATA_HREF) ||\n                        next.getAttribute(ATTR_HREF),\n                    nextSource = nextThumb.getAttribute(ATTR_SRC) || nextThumb.src || nextHighRes,\n                    nextImgObject = new Image();\n\n                if (!nextSource) {\n                    reject(next);\n                    return;\n                }\n                // set new target to next element\n                this.target = next;\n                nextImgObject.src = nextSource;\n                self._imageContainer.classList.add(CLS_LOADING);\n                nextImgObject.addEventListener('load', function () {\n                    img.src = nextSource;\n                    self._imageContainer.style.backgroundImage = 'url(' + nextSource + ')';\n                    LightBox._setupMaxWidthHeight(nextThumb, img, nextImgObject);\n                    self._calculateContainer(img);\n                    self.highRes(nextThumb, nextHighRes);\n                    self._setupPrevNextStates();\n                    self._imageContainer.classList.remove(CLS_LOADING);\n                    this._isLoading = false;\n                    resolve(nextSource, this.target);\n                }.bind(this));\n            } else {\n                reject(this);\n            }\n        }).bind(this));\n        return self._nextFuture;\n    }\n\n\n    /**\n     * Setup High-Resolution picture\n     * @param {HTMLElement} thisThumbnail\n     * @param {String} thisImgHighResolution\n     */\n    highRes(thisThumbnail, thisImgHighResolution) {\n\n        if (thisImgHighResolution && thisThumbnail.src !== thisImgHighResolution) {\n            var highImageObj = new Image();\n            highImageObj.src = thisImgHighResolution;\n            highImageObj.addEventListener('load', function () {\n                // if current image is still available\n                if (this._getSrc(thisThumbnail) === this.img.src) {\n                    this.img.src = thisImgHighResolution;\n                    this._imageContainer.style.backgroundImage = 'url(' + thisImgHighResolution + ')';\n                }\n            }.bind(this));\n        }\n    }\n\n    /**\n     * Extracts the source of an image\n     * @param target\n     * @returns {String|null}\n     * @private\n     */\n    _getSrc(target) {\n        return target.getAttribute(ATTR_SRC) || target.src;\n    }\n\n    /**\n     * Will show a lightBox on given target\n     * @param {HTMLElement} target\n     * @returns {$.Deferred|*}\n     */\n    open(target) {\n        var self = this;\n\n        if (!target) {\n            return false;\n        }\n\n        this.target = target;\n\n        // if lightBox is open, we just switch to the new target image\n        if (this._isOpen && target) {\n            return this.switchImage(target).then(function () {\n                return this;\n            }.bind(this));\n        }\n\n        this._isOpen = true;\n\n        /**\n         * Setup Widget for modal\n         * @type {Widget}\n         */\n        this._widget = new Widget().setAsync(function () {\n            // thumbnail is either target itself or expected to be first childNode\n            var thumbnail = target.hasAttribute(ATTR_NO_THUMBNAIL) ? target : (target.children[0] || target);\n\n            var imgHighResolution = target.getAttribute(ATTR_DATA_HREF) || target.getAttribute(ATTR_HREF),\n                imgSrc = this._getSrc(thumbnail) || imgHighResolution;\n\n            var imageObj = new Image();\n            imageObj.src = imgSrc;\n            this._imageContainer = document.createElement('div');\n            this._modalContainerDiv = document.createElement('div');\n            this._closerContainerDiv = document.createElement('i');\n            this._contentContainer = document.createElement('div');\n\n            this._closerContainerDiv.className = 'modal-close modal-close-lightbox icon-cancel-1';\n            this._closerContainerDiv.setAttribute(ATTR_CLOSE, ATTR_CLOSE);\n\n            this._modalContainerDiv.className = 'modal image-modal';\n            this._modalContainerDiv.appendChild(this._imageContainer);\n            this._modalContainerDiv.appendChild(this._contentContainer);\n            this._modalContainerDiv.appendChild(this._closerContainerDiv);\n            this._contentContainer.className = 'content-container';\n            this._isLoading = true;\n            this._future = new Promise(((resolve) => {\n                imageObj.addEventListener('load', function () {\n                    this._imageContainer.className = 'image-container';\n                    var img = document.createElement('img');\n                    // current image\n                    this.img = img;\n\n                    img.src = imgSrc;\n                    LightBox._setupMaxWidthHeight(target, img, imageObj);\n                    this._imageContainer.appendChild(img);\n                    this._imageContainer.style.backgroundImage = 'url(' + imgSrc + ')';\n\n                    resolve(self._modalContainerDiv);\n                    this._isLoading = false;\n\n                    if (Settings.isIE()) {\n                        self._resizeEvent = global.addEventListener('resize', function () {\n                            setTimeout(function () {\n                                self._imageContainer.style.height = img.offsetHeight + 'px';\n                            }, 0);\n                        });\n                    }\n\n                    if (self.options.registerPrevNextEvents) {\n                        self._setupPrevNextStates();\n                        // prev or next on touch/click\n                        self._imageContainer.addEventListener(Settings.CONST_TAB_EVENT, function (e) {\n                            if (self.isLoading()) {\n                                return;\n                            }\n                            e.preventDefault();\n\n                            var ev = e;\n                            var pageX = global.TouchEvent && ev instanceof TouchEvent ?\n                                ev.changedTouches[0].pageX : ev.pageX;\n                            var rect = self._imageContainer.getBoundingClientRect(), imgX = rect.left,\n                                wrapperWidth = rect.width,\n                                posX = pageX - imgX;\n\n                            self.switchImageByDirection(wrapperWidth / 2 > posX).catch(function () {\n                                self._runOptionalClose();\n                            });\n                        });\n\n                        // register keyboard events\n                        self._keyboardNextEvent = function (e) {\n                            if (e.keyCode === KEY_NEXT || e.keyCode === KEY_PREV) {\n                                if (self.isLoading()) {\n                                    return;\n                                }\n                                self.switchImageByDirection(e.keyCode === KEY_PREV).catch(function () {\n                                    self._runOptionalClose();\n                                });\n                            }\n                        };\n                        global.addEventListener('keydown', self._keyboardNextEvent);\n                    } else {\n                        self._imageContainer.addEventListener(Settings.CONST_TAB_EVENT, function () {\n                            self._runOptionalClose();\n                        });\n                    }\n\n                    self.highRes(thumbnail, imgHighResolution);\n                }.bind(this));\n            }).bind(this));\n            this._future.then(function () {\n                self._calculateContainer(this.img);\n            });\n            self._modalContainerDiv.addEventListener(EVENT_MODAL_CLOSED, function () {\n                // cleanup:\n                this._modalContainerDiv.parentNode.removeChild(this._modalContainerDiv);\n                this.options.onClose.apply(self);\n                this._isOpen = false;\n                this.modal.destroy();\n                // unbind events\n                if (this._keyboardNextEvent) {\n                    global.removeEventListener('keydown', self._keyboardNextEvent);\n                }\n                if (this._resizeEvent) {\n                    global.removeEventListener('resize', self._resizeEvent);\n                }\n            }.bind(this));\n\n            return this._future;\n        }.bind(this));\n\n        this._nextFuture = this._future;\n\n        if (self._widget) {\n            this.modal = new Modal(this._modalAppend);\n            // make sure we close stack before\n            return this.modal.close().fromWidget(self._widget).then(function () {\n                return self._future.then(function () {\n                    return self;\n                });\n            });\n        } else return false;\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/LightBox.js\n **/","import Util from 'util/Util';\n/**\n * Global Settings\n */\nlet GLOBAL_SETTINGS = {\n    // defined breakpoint for small devices < n\n    smallBreakpoint: 768,\n    // nodes that should be updated when no scrollbar is expected\n    scrollbarUpdateNodes: [global.document.body],\n    // additional Delay until darkener is fully hidden\n    darkenerFadeDelay: 100\n};\n\n/**\n * Utility class that setups global settings\n */\nexport default\nclass Settings {\n\n    /**\n     * Setup global settings, overwrite default values\n     * @param {Object} settings\n     */\n    static setup(settings) {\n        Object.assign(GLOBAL_SETTINGS, settings);\n    }\n\n    /**\n     * Access to global settings\n     * @returns {Object}\n     */\n    static get() {\n        return GLOBAL_SETTINGS;\n    }\n\n    /**\n     * Detects a IOS Device, caches subsequent calls\n     * @returns {boolean}\n     */\n    static isIosDevice() {\n        if (!Settings._CONST_IS_IOS) {\n            Settings._CONST_IS_IOS = global.navigator.userAgent.match(/(iPad|iPhone|iPod)/i);\n        }\n\n        return Settings._CONST_IS_IOS;\n    }\n\n    /**\n     * Detects a touch device, caches subsequent calls\n     * @returns {boolean}\n     */\n    static isTouchDevice() {\n        if (!Settings._CONST_IS_TOUCH) {\n            Settings._CONST_IS_TOUCH = 'ontouchstart' in window || !!(global.navigator.msMaxTouchPoints);\n        }\n        return Settings._CONST_IS_TOUCH;\n    }\n\n    /**\n     * Checks if current browser is Internet Explorer\n     * @returns {boolean|*}\n     */\n    static isIE() {\n        if (!Settings._CONST_IS_IE) {\n            Settings._CONST_IS_IE = \"ActiveXObject\" in window;\n        }\n        return Settings._CONST_IS_IE;\n    }\n}\n\n// Settings Statics, used by widgets\n\n// Measure scrollbar width\nSettings.CONST_SCROLLBAR_WIDTH = Util.getScrollBarWidth();\n// detect right transition end event\nSettings.CONST_TRANSITION_EVENT = Util.whichTransitionEndEvent();\n\nSettings.CONST_TAB_EVENT = 'click';\n\nSettings._CONST_IS_IOS = null;\n\nSettings._CONST_IS_TOUCH = null;\n\nSettings.CONST_CANVAS_TOGGLE = 'toggled-canvas';\n\nSettings._CONST_IS_IE = null;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/util/Settings.js\n **/","\"use strict\";\n\nvar _core = require(\"babel-runtime/core-js\")[\"default\"];\n\nvar helpers = exports[\"default\"] = {};\nexports.__esModule = true;\n\nhelpers.inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) subClass.__proto__ = superClass;\n};\n\nhelpers.defaults = function (obj, defaults) {\n  var keys = _core.Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n\n    var value = _core.Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n};\n\nhelpers.prototypeProperties = function (child, staticProps, instanceProps) {\n  if (staticProps) Object.defineProperties(child, staticProps);\n  if (instanceProps) Object.defineProperties(child.prototype, instanceProps);\n};\n\nhelpers.applyConstructor = function (Constructor, args) {\n  var instance = Object.create(Constructor.prototype);\n  var result = Constructor.apply(instance, args);\n  return result != null && (typeof result == \"object\" || typeof result == \"function\") ? result : instance;\n};\n\nhelpers.taggedTemplateLiteral = function (strings, raw) {\n  return _core.Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: _core.Object.freeze(raw)\n    }\n  }));\n};\n\nhelpers.taggedTemplateLiteralLoose = function (strings, raw) {\n  strings.raw = raw;\n  return strings;\n};\n\nhelpers.interopRequire = function (obj) {\n  return obj && obj.__esModule ? obj[\"default\"] : obj;\n};\n\nhelpers.toArray = function (arr) {\n  return Array.isArray(arr) ? arr : _core.Array.from(arr);\n};\n\nhelpers.toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return _core.Array.from(arr);\n  }\n};\n\nhelpers.slicedToArray = function (arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (_core.$for.isIterable(Object(arr))) {\n    var _arr = [];\n\n    for (var _iterator = _core.$for.getIterator(arr), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n};\n\nhelpers.objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nhelpers.hasOwn = Object.prototype.hasOwnProperty;\nhelpers.slice = Array.prototype.slice;\nhelpers.bind = Function.prototype.bind;\n\nhelpers.defineProperty = function (obj, key, value) {\n  return Object.defineProperty(obj, key, {\n    value: value,\n    enumerable: true,\n    configurable: true,\n    writable: true\n  });\n};\n\nhelpers.asyncToGenerator = function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new _core.Promise(function (resolve, reject) {\n      var callNext = step.bind(null, \"next\");\n      var callThrow = step.bind(null, \"throw\");\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          _core.Promise.resolve(value).then(callNext, callThrow);\n        }\n      }\n\n      callNext();\n    });\n  };\n};\n\nhelpers.interopRequireWildcard = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n};\n\nhelpers._typeof = function (obj) {\n  return obj && obj.constructor === _core.Symbol ? \"symbol\" : typeof obj;\n};\n\nhelpers._extends = _core.Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nhelpers.get = function get(_x, _x2, _x3) {\n  var _again = true;\n\n  _function: while (_again) {\n    _again = false;\n    var object = _x,\n        property = _x2,\n        receiver = _x3;\n    desc = parent = getter = undefined;\n\n    var desc = _core.Object.getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = _core.Object.getPrototypeOf(object);\n\n      if (parent === null) {\n        return undefined;\n      } else {\n        _x = parent;\n        _x2 = property;\n        _x3 = receiver;\n        _again = true;\n        continue _function;\n      }\n    } else if (\"value\" in desc && desc.writable) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (getter === undefined) {\n        return undefined;\n      }\n\n      return getter.call(receiver);\n    }\n  }\n};\n\nhelpers.set = function set(_x, _x2, _x3, _x4) {\n  var _again = true;\n\n  _function: while (_again) {\n    _again = false;\n    var object = _x,\n        property = _x2,\n        value = _x3,\n        receiver = _x4;\n    desc = parent = setter = undefined;\n\n    var desc = _core.Object.getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = _core.Object.getPrototypeOf(object);\n\n      if (parent !== null) {\n        _x = parent;\n        _x2 = property;\n        _x3 = value;\n        _x4 = receiver;\n        _again = true;\n        continue _function;\n      }\n    } else if (\"value\" in desc && desc.writable) {\n      return desc.value = value;\n    } else {\n      var setter = desc.set;\n\n      if (setter !== undefined) {\n        return setter.call(receiver, value);\n      }\n    }\n  }\n};\n\nhelpers.classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nhelpers.objectDestructuringEmpty = function (obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n};\n\nhelpers.temporalUndefined = {};\n\nhelpers.temporalAssertDefined = function (val, name, undef) {\n  if (val === undef) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  }\n\n  return true;\n};\n\nhelpers.selfGlobal = typeof global === \"undefined\" ? self : global;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers.js\n ** module id = 10\n ** module chunks = 0\n **/","/**\n * Core.js 0.6.1\n * https://github.com/zloirock/core-js\n * License: http://rock.mit-license.org\n *  2015 Denis Pushkarev\n */\n!function(global, framework, undefined){\n'use strict';\n\n/******************************************************************************\n * Module : common                                                            *\n ******************************************************************************/\n\n  // Shortcuts for [[Class]] & property names\r\nvar OBJECT          = 'Object'\r\n  , FUNCTION        = 'Function'\r\n  , ARRAY           = 'Array'\r\n  , STRING          = 'String'\r\n  , NUMBER          = 'Number'\r\n  , REGEXP          = 'RegExp'\r\n  , DATE            = 'Date'\r\n  , MAP             = 'Map'\r\n  , SET             = 'Set'\r\n  , WEAKMAP         = 'WeakMap'\r\n  , WEAKSET         = 'WeakSet'\r\n  , SYMBOL          = 'Symbol'\r\n  , PROMISE         = 'Promise'\r\n  , MATH            = 'Math'\r\n  , ARGUMENTS       = 'Arguments'\r\n  , PROTOTYPE       = 'prototype'\r\n  , CONSTRUCTOR     = 'constructor'\r\n  , TO_STRING       = 'toString'\r\n  , TO_STRING_TAG   = TO_STRING + 'Tag'\r\n  , TO_LOCALE       = 'toLocaleString'\r\n  , HAS_OWN         = 'hasOwnProperty'\r\n  , FOR_EACH        = 'forEach'\r\n  , ITERATOR        = 'iterator'\r\n  , FF_ITERATOR     = '@@' + ITERATOR\r\n  , PROCESS         = 'process'\r\n  , CREATE_ELEMENT  = 'createElement'\r\n  // Aliases global objects and prototypes\r\n  , Function        = global[FUNCTION]\r\n  , Object          = global[OBJECT]\r\n  , Array           = global[ARRAY]\r\n  , String          = global[STRING]\r\n  , Number          = global[NUMBER]\r\n  , RegExp          = global[REGEXP]\r\n  , Date            = global[DATE]\r\n  , Map             = global[MAP]\r\n  , Set             = global[SET]\r\n  , WeakMap         = global[WEAKMAP]\r\n  , WeakSet         = global[WEAKSET]\r\n  , Symbol          = global[SYMBOL]\r\n  , Math            = global[MATH]\r\n  , TypeError       = global.TypeError\r\n  , RangeError      = global.RangeError\r\n  , setTimeout      = global.setTimeout\r\n  , setImmediate    = global.setImmediate\r\n  , clearImmediate  = global.clearImmediate\r\n  , parseInt        = global.parseInt\r\n  , isFinite        = global.isFinite\r\n  , process         = global[PROCESS]\r\n  , nextTick        = process && process.nextTick\r\n  , document        = global.document\r\n  , html            = document && document.documentElement\r\n  , navigator       = global.navigator\r\n  , define          = global.define\r\n  , console         = global.console || {}\r\n  , ArrayProto      = Array[PROTOTYPE]\r\n  , ObjectProto     = Object[PROTOTYPE]\r\n  , FunctionProto   = Function[PROTOTYPE]\r\n  , Infinity        = 1 / 0\r\n  , DOT             = '.';\r\n\r\n// http://jsperf.com/core-js-isobject\r\nfunction isObject(it){\r\n  return it !== null && (typeof it == 'object' || typeof it == 'function');\r\n}\r\nfunction isFunction(it){\r\n  return typeof it == 'function';\r\n}\r\n// Native function?\r\nvar isNative = ctx(/./.test, /\\[native code\\]\\s*\\}\\s*$/, 1);\r\n\r\n// Object internal [[Class]] or toStringTag\r\n// http://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring\r\nvar toString = ObjectProto[TO_STRING];\r\nfunction setToStringTag(it, tag, stat){\r\n  if(it && !has(it = stat ? it : it[PROTOTYPE], SYMBOL_TAG))hidden(it, SYMBOL_TAG, tag);\r\n}\r\nfunction cof(it){\r\n  return toString.call(it).slice(8, -1);\r\n}\r\nfunction classof(it){\r\n  var O, T;\r\n  return it == undefined ? it === undefined ? 'Undefined' : 'Null'\r\n    : typeof (T = (O = Object(it))[SYMBOL_TAG]) == 'string' ? T : cof(O);\r\n}\r\n\r\n// Function\r\nvar call  = FunctionProto.call\r\n  , apply = FunctionProto.apply\r\n  , REFERENCE_GET;\r\n// Partial apply\r\nfunction part(/* ...args */){\r\n  var fn     = assertFunction(this)\r\n    , length = arguments.length\r\n    , args   = Array(length)\r\n    , i      = 0\r\n    , _      = path._\r\n    , holder = false;\r\n  while(length > i)if((args[i] = arguments[i++]) === _)holder = true;\r\n  return function(/* ...args */){\r\n    var that    = this\r\n      , _length = arguments.length\r\n      , i = 0, j = 0, _args;\r\n    if(!holder && !_length)return invoke(fn, args, that);\r\n    _args = args.slice();\r\n    if(holder)for(;length > i; i++)if(_args[i] === _)_args[i] = arguments[j++];\r\n    while(_length > j)_args.push(arguments[j++]);\r\n    return invoke(fn, _args, that);\r\n  }\r\n}\r\n// Optional / simple context binding\r\nfunction ctx(fn, that, length){\r\n  assertFunction(fn);\r\n  if(~length && that === undefined)return fn;\r\n  switch(length){\r\n    case 1: return function(a){\r\n      return fn.call(that, a);\r\n    }\r\n    case 2: return function(a, b){\r\n      return fn.call(that, a, b);\r\n    }\r\n    case 3: return function(a, b, c){\r\n      return fn.call(that, a, b, c);\r\n    }\r\n  } return function(/* ...args */){\r\n      return fn.apply(that, arguments);\r\n  }\r\n}\r\n// Fast apply\r\n// http://jsperf.lnkit.com/fast-apply/5\r\nfunction invoke(fn, args, that){\r\n  var un = that === undefined;\r\n  switch(args.length | 0){\r\n    case 0: return un ? fn()\r\n                      : fn.call(that);\r\n    case 1: return un ? fn(args[0])\r\n                      : fn.call(that, args[0]);\r\n    case 2: return un ? fn(args[0], args[1])\r\n                      : fn.call(that, args[0], args[1]);\r\n    case 3: return un ? fn(args[0], args[1], args[2])\r\n                      : fn.call(that, args[0], args[1], args[2]);\r\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\r\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\r\n    case 5: return un ? fn(args[0], args[1], args[2], args[3], args[4])\r\n                      : fn.call(that, args[0], args[1], args[2], args[3], args[4]);\r\n  } return              fn.apply(that, args);\r\n}\r\n\r\n// Object:\r\nvar create           = Object.create\r\n  , getPrototypeOf   = Object.getPrototypeOf\r\n  , setPrototypeOf   = Object.setPrototypeOf\r\n  , defineProperty   = Object.defineProperty\r\n  , defineProperties = Object.defineProperties\r\n  , getOwnDescriptor = Object.getOwnPropertyDescriptor\r\n  , getKeys          = Object.keys\r\n  , getNames         = Object.getOwnPropertyNames\r\n  , getSymbols       = Object.getOwnPropertySymbols\r\n  , isFrozen         = Object.isFrozen\r\n  , has              = ctx(call, ObjectProto[HAS_OWN], 2)\r\n  // Dummy, fix for not array-like ES3 string in es5 module\r\n  , ES5Object        = Object\r\n  , Dict;\r\nfunction toObject(it){\r\n  return ES5Object(assertDefined(it));\r\n}\r\nfunction returnIt(it){\r\n  return it;\r\n}\r\nfunction returnThis(){\r\n  return this;\r\n}\r\nfunction get(object, key){\r\n  if(has(object, key))return object[key];\r\n}\r\nfunction ownKeys(it){\r\n  assertObject(it);\r\n  return getSymbols ? getNames(it).concat(getSymbols(it)) : getNames(it);\r\n}\r\n// 19.1.2.1 Object.assign(target, source, ...)\r\nvar assign = Object.assign || function(target, source){\r\n  var T = Object(assertDefined(target))\r\n    , l = arguments.length\r\n    , i = 1;\r\n  while(l > i){\r\n    var S      = ES5Object(arguments[i++])\r\n      , keys   = getKeys(S)\r\n      , length = keys.length\r\n      , j      = 0\r\n      , key;\r\n    while(length > j)T[key = keys[j++]] = S[key];\r\n  }\r\n  return T;\r\n}\r\nfunction keyOf(object, el){\r\n  var O      = toObject(object)\r\n    , keys   = getKeys(O)\r\n    , length = keys.length\r\n    , index  = 0\r\n    , key;\r\n  while(length > index)if(O[key = keys[index++]] === el)return key;\r\n}\r\n\r\n// Array\r\n// array('str1,str2,str3') => ['str1', 'str2', 'str3']\r\nfunction array(it){\r\n  return String(it).split(',');\r\n}\r\nvar push    = ArrayProto.push\r\n  , unshift = ArrayProto.unshift\r\n  , slice   = ArrayProto.slice\r\n  , splice  = ArrayProto.splice\r\n  , indexOf = ArrayProto.indexOf\r\n  , forEach = ArrayProto[FOR_EACH];\r\n/*\r\n * 0 -> forEach\r\n * 1 -> map\r\n * 2 -> filter\r\n * 3 -> some\r\n * 4 -> every\r\n * 5 -> find\r\n * 6 -> findIndex\r\n */\r\nfunction createArrayMethod(type){\r\n  var isMap       = type == 1\r\n    , isFilter    = type == 2\r\n    , isSome      = type == 3\r\n    , isEvery     = type == 4\r\n    , isFindIndex = type == 6\r\n    , noholes     = type == 5 || isFindIndex;\r\n  return function(callbackfn/*, that = undefined */){\r\n    var O      = Object(assertDefined(this))\r\n      , that   = arguments[1]\r\n      , self   = ES5Object(O)\r\n      , f      = ctx(callbackfn, that, 3)\r\n      , length = toLength(self.length)\r\n      , index  = 0\r\n      , result = isMap ? Array(length) : isFilter ? [] : undefined\r\n      , val, res;\r\n    for(;length > index; index++)if(noholes || index in self){\r\n      val = self[index];\r\n      res = f(val, index, O);\r\n      if(type){\r\n        if(isMap)result[index] = res;             // map\r\n        else if(res)switch(type){\r\n          case 3: return true;                    // some\r\n          case 5: return val;                     // find\r\n          case 6: return index;                   // findIndex\r\n          case 2: result.push(val);               // filter\r\n        } else if(isEvery)return false;           // every\r\n      }\r\n    }\r\n    return isFindIndex ? -1 : isSome || isEvery ? isEvery : result;\r\n  }\r\n}\r\nfunction createArrayContains(isContains){\r\n  return function(el /*, fromIndex = 0 */){\r\n    var O      = toObject(this)\r\n      , length = toLength(O.length)\r\n      , index  = toIndex(arguments[1], length);\r\n    if(isContains && el != el){\r\n      for(;length > index; index++)if(sameNaN(O[index]))return isContains || index;\r\n    } else for(;length > index; index++)if(isContains || index in O){\r\n      if(O[index] === el)return isContains || index;\r\n    } return !isContains && -1;\r\n  }\r\n}\r\nfunction generic(A, B){\r\n  // strange IE quirks mode bug -> use typeof vs isFunction\r\n  return typeof A == 'function' ? A : B;\r\n}\r\n\r\n// Math\r\nvar MAX_SAFE_INTEGER = 0x1fffffffffffff // pow(2, 53) - 1 == 9007199254740991\r\n  , pow    = Math.pow\r\n  , abs    = Math.abs\r\n  , ceil   = Math.ceil\r\n  , floor  = Math.floor\r\n  , max    = Math.max\r\n  , min    = Math.min\r\n  , random = Math.random\r\n  , trunc  = Math.trunc || function(it){\r\n      return (it > 0 ? floor : ceil)(it);\r\n    }\r\n// 20.1.2.4 Number.isNaN(number)\r\nfunction sameNaN(number){\r\n  return number != number;\r\n}\r\n// 7.1.4 ToInteger\r\nfunction toInteger(it){\r\n  return isNaN(it) ? 0 : trunc(it);\r\n}\r\n// 7.1.15 ToLength\r\nfunction toLength(it){\r\n  return it > 0 ? min(toInteger(it), MAX_SAFE_INTEGER) : 0;\r\n}\r\nfunction toIndex(index, length){\r\n  var index = toInteger(index);\r\n  return index < 0 ? max(index + length, 0) : min(index, length);\r\n}\r\nfunction lz(num){\r\n  return num > 9 ? num : '0' + num;\r\n}\r\n\r\nfunction createReplacer(regExp, replace, isStatic){\r\n  var replacer = isObject(replace) ? function(part){\r\n    return replace[part];\r\n  } : replace;\r\n  return function(it){\r\n    return String(isStatic ? it : this).replace(regExp, replacer);\r\n  }\r\n}\r\nfunction createPointAt(toString){\r\n  return function(pos){\r\n    var s = String(assertDefined(this))\r\n      , i = toInteger(pos)\r\n      , l = s.length\r\n      , a, b;\r\n    if(i < 0 || i >= l)return toString ? '' : undefined;\r\n    a = s.charCodeAt(i);\r\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\r\n      ? toString ? s.charAt(i) : a\r\n      : toString ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\r\n  }\r\n}\r\n\r\n// Assertion & errors\r\nvar REDUCE_ERROR = 'Reduce of empty object with no initial value';\r\nfunction assert(condition, msg1, msg2){\r\n  if(!condition)throw TypeError(msg2 ? msg1 + msg2 : msg1);\r\n}\r\nfunction assertDefined(it){\r\n  if(it == undefined)throw TypeError('Function called on null or undefined');\r\n  return it;\r\n}\r\nfunction assertFunction(it){\r\n  assert(isFunction(it), it, ' is not a function!');\r\n  return it;\r\n}\r\nfunction assertObject(it){\r\n  assert(isObject(it), it, ' is not an object!');\r\n  return it;\r\n}\r\nfunction assertInstance(it, Constructor, name){\r\n  assert(it instanceof Constructor, name, \": use the 'new' operator!\");\r\n}\r\n\r\n// Property descriptors & Symbol\r\nfunction descriptor(bitmap, value){\r\n  return {\r\n    enumerable  : !(bitmap & 1),\r\n    configurable: !(bitmap & 2),\r\n    writable    : !(bitmap & 4),\r\n    value       : value\r\n  }\r\n}\r\nfunction simpleSet(object, key, value){\r\n  object[key] = value;\r\n  return object;\r\n}\r\nfunction createDefiner(bitmap){\r\n  return DESC ? function(object, key, value){\r\n    return defineProperty(object, key, descriptor(bitmap, value));\r\n  } : simpleSet;\r\n}\r\nfunction uid(key){\r\n  return SYMBOL + '(' + key + ')_' + (++sid + random())[TO_STRING](36);\r\n}\r\nfunction getWellKnownSymbol(name, setter){\r\n  return (Symbol && Symbol[name]) || (setter ? Symbol : safeSymbol)(SYMBOL + DOT + name);\r\n}\r\n// The engine works fine with descriptors? Thank's IE8 for his funny defineProperty.\r\nvar DESC = !!function(){\r\n      try {\r\n        return defineProperty({}, 'a', {get: function(){ return 2 }}).a == 2;\r\n      } catch(e){}\r\n    }()\r\n  , sid    = 0\r\n  , hidden = createDefiner(1)\r\n  , set    = Symbol ? simpleSet : hidden\r\n  , safeSymbol = Symbol || uid;\r\nfunction assignHidden(target, src){\r\n  for(var key in src)hidden(target, key, src[key]);\r\n  return target;\r\n}\r\n\r\nvar SYMBOL_UNSCOPABLES = getWellKnownSymbol('unscopables')\r\n  , ArrayUnscopables   = ArrayProto[SYMBOL_UNSCOPABLES] || {}\r\n  , SYMBOL_TAG         = getWellKnownSymbol(TO_STRING_TAG)\r\n  , SYMBOL_SPECIES     = getWellKnownSymbol('species')\r\n  , SYMBOL_ITERATOR;\r\nfunction setSpecies(C){\r\n  if(DESC && (framework || !isNative(C)))defineProperty(C, SYMBOL_SPECIES, {\r\n    configurable: true,\r\n    get: returnThis\r\n  });\r\n}\n\n/******************************************************************************\n * Module : common.export                                                     *\n ******************************************************************************/\n\nvar NODE = cof(process) == PROCESS\r\n  , core = {}\r\n  , path = framework ? global : core\r\n  , old  = global.core\r\n  , exportGlobal\r\n  // type bitmap\r\n  , FORCED = 1\r\n  , GLOBAL = 2\r\n  , STATIC = 4\r\n  , PROTO  = 8\r\n  , BIND   = 16\r\n  , WRAP   = 32;\r\nfunction $define(type, name, source){\r\n  var key, own, out, exp\r\n    , isGlobal = type & GLOBAL\r\n    , target   = isGlobal ? global : (type & STATIC)\r\n        ? global[name] : (global[name] || ObjectProto)[PROTOTYPE]\r\n    , exports  = isGlobal ? core : core[name] || (core[name] = {});\r\n  if(isGlobal)source = name;\r\n  for(key in source){\r\n    // there is a similar native\r\n    own = !(type & FORCED) && target && key in target\r\n      && (!isFunction(target[key]) || isNative(target[key]));\r\n    // export native or passed\r\n    out = (own ? target : source)[key];\r\n    // prevent global pollution for namespaces\r\n    if(!framework && isGlobal && !isFunction(target[key]))exp = source[key];\r\n    // bind timers to global for call from export context\r\n    else if(type & BIND && own)exp = ctx(out, global);\r\n    // wrap global constructors for prevent change them in library\r\n    else if(type & WRAP && !framework && target[key] == out){\r\n      exp = function(param){\r\n        return this instanceof out ? new out(param) : out(param);\r\n      }\r\n      exp[PROTOTYPE] = out[PROTOTYPE];\r\n    } else exp = type & PROTO && isFunction(out) ? ctx(call, out) : out;\r\n    // extend global\r\n    if(framework && target && !own){\r\n      if(isGlobal)target[key] = out;\r\n      else delete target[key] && hidden(target, key, out);\r\n    }\r\n    // export\r\n    if(exports[key] != out)hidden(exports, key, exp);\r\n  }\r\n}\r\n// CommonJS export\r\nif(typeof module != 'undefined' && module.exports)module.exports = core;\r\n// RequireJS export\r\nelse if(isFunction(define) && define.amd)define(function(){return core});\r\n// Export to global object\r\nelse exportGlobal = true;\r\nif(exportGlobal || framework){\r\n  core.noConflict = function(){\r\n    global.core = old;\r\n    return core;\r\n  }\r\n  global.core = core;\r\n}\n\n/******************************************************************************\n * Module : common.iterators                                                  *\n ******************************************************************************/\n\nSYMBOL_ITERATOR = getWellKnownSymbol(ITERATOR);\r\nvar ITER  = safeSymbol('iter')\r\n  , KEY   = 1\r\n  , VALUE = 2\r\n  , Iterators = {}\r\n  , IteratorPrototype = {}\r\n    // Safari has byggy iterators w/o `next`\r\n  , BUGGY_ITERATORS = 'keys' in ArrayProto && !('next' in [].keys());\r\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\r\nsetIterator(IteratorPrototype, returnThis);\r\nfunction setIterator(O, value){\r\n  hidden(O, SYMBOL_ITERATOR, value);\r\n  // Add iterator for FF iterator protocol\r\n  FF_ITERATOR in ArrayProto && hidden(O, FF_ITERATOR, value);\r\n}\r\nfunction createIterator(Constructor, NAME, next, proto){\r\n  Constructor[PROTOTYPE] = create(proto || IteratorPrototype, {next: descriptor(1, next)});\r\n  setToStringTag(Constructor, NAME + ' Iterator');\r\n}\r\nfunction defineIterator(Constructor, NAME, value, DEFAULT){\r\n  var proto = Constructor[PROTOTYPE]\r\n    , iter  = get(proto, SYMBOL_ITERATOR) || get(proto, FF_ITERATOR) || (DEFAULT && get(proto, DEFAULT)) || value;\r\n  if(framework){\r\n    // Define iterator\r\n    setIterator(proto, iter);\r\n    if(iter !== value){\r\n      var iterProto = getPrototypeOf(iter.call(new Constructor));\r\n      // Set @@toStringTag to native iterators\r\n      setToStringTag(iterProto, NAME + ' Iterator', true);\r\n      // FF fix\r\n      has(proto, FF_ITERATOR) && setIterator(iterProto, returnThis);\r\n    }\r\n  }\r\n  // Plug for library\r\n  Iterators[NAME] = iter;\r\n  // FF & v8 fix\r\n  Iterators[NAME + ' Iterator'] = returnThis;\r\n  return iter;\r\n}\r\nfunction defineStdIterators(Base, NAME, Constructor, next, DEFAULT, IS_SET){\r\n  function createIter(kind){\r\n    return function(){\r\n      return new Constructor(this, kind);\r\n    }\r\n  }\r\n  createIterator(Constructor, NAME, next);\r\n  var entries = createIter(KEY+VALUE)\r\n    , values  = createIter(VALUE);\r\n  if(DEFAULT == VALUE)values = defineIterator(Base, NAME, values, 'values');\r\n  else entries = defineIterator(Base, NAME, entries, 'entries');\r\n  if(DEFAULT){\r\n    $define(PROTO + FORCED * BUGGY_ITERATORS, NAME, {\r\n      entries: entries,\r\n      keys: IS_SET ? values : createIter(KEY),\r\n      values: values\r\n    });\r\n  }\r\n}\r\nfunction iterResult(done, value){\r\n  return {value: value, done: !!done};\r\n}\r\nfunction isIterable(it){\r\n  var O      = Object(it)\r\n    , Symbol = global[SYMBOL]\r\n    , hasExt = (Symbol && Symbol[ITERATOR] || FF_ITERATOR) in O;\r\n  return hasExt || SYMBOL_ITERATOR in O || has(Iterators, classof(O));\r\n}\r\nfunction getIterator(it){\r\n  var Symbol  = global[SYMBOL]\r\n    , ext     = it[Symbol && Symbol[ITERATOR] || FF_ITERATOR]\r\n    , getIter = ext || it[SYMBOL_ITERATOR] || Iterators[classof(it)];\r\n  return assertObject(getIter.call(it));\r\n}\r\nfunction stepCall(fn, value, entries){\r\n  return entries ? invoke(fn, value) : fn(value);\r\n}\r\nfunction checkDangerIterClosing(fn){\r\n  var danger = true;\r\n  var O = {\r\n    next: function(){ throw 1 },\r\n    'return': function(){ danger = false }\r\n  };\r\n  O[SYMBOL_ITERATOR] = returnThis;\r\n  try {\r\n    fn(O);\r\n  } catch(e){}\r\n  return danger;\r\n}\r\nfunction closeIterator(iterator){\r\n  var ret = iterator['return'];\r\n  if(ret !== undefined)ret.call(iterator);\r\n}\r\nfunction safeIterClose(exec, iterator){\r\n  try {\r\n    exec(iterator);\r\n  } catch(e){\r\n    closeIterator(iterator);\r\n    throw e;\r\n  }\r\n}\r\nfunction forOf(iterable, entries, fn, that){\r\n  safeIterClose(function(iterator){\r\n    var f = ctx(fn, that, entries ? 2 : 1)\r\n      , step;\r\n    while(!(step = iterator.next()).done)if(stepCall(f, step.value, entries) === false){\r\n      return closeIterator(iterator);\r\n    }\r\n  }, getIterator(iterable));\r\n}\n\n/******************************************************************************\n * Module : es6.symbol                                                        *\n ******************************************************************************/\n\n// ECMAScript 6 symbols shim\r\n!function(TAG, SymbolRegistry, AllSymbols, setter){\r\n  // 19.4.1.1 Symbol([description])\r\n  if(!isNative(Symbol)){\r\n    Symbol = function(description){\r\n      assert(!(this instanceof Symbol), SYMBOL + ' is not a ' + CONSTRUCTOR);\r\n      var tag = uid(description)\r\n        , sym = set(create(Symbol[PROTOTYPE]), TAG, tag);\r\n      AllSymbols[tag] = sym;\r\n      DESC && setter && defineProperty(ObjectProto, tag, {\r\n        configurable: true,\r\n        set: function(value){\r\n          hidden(this, tag, value);\r\n        }\r\n      });\r\n      return sym;\r\n    }\r\n    hidden(Symbol[PROTOTYPE], TO_STRING, function(){\r\n      return this[TAG];\r\n    });\r\n  }\r\n  $define(GLOBAL + WRAP, {Symbol: Symbol});\r\n  \r\n  var symbolStatics = {\r\n    // 19.4.2.1 Symbol.for(key)\r\n    'for': function(key){\r\n      return has(SymbolRegistry, key += '')\r\n        ? SymbolRegistry[key]\r\n        : SymbolRegistry[key] = Symbol(key);\r\n    },\r\n    // 19.4.2.4 Symbol.iterator\r\n    iterator: SYMBOL_ITERATOR || getWellKnownSymbol(ITERATOR),\r\n    // 19.4.2.5 Symbol.keyFor(sym)\r\n    keyFor: part.call(keyOf, SymbolRegistry),\r\n    // 19.4.2.10 Symbol.species\r\n    species: SYMBOL_SPECIES,\r\n    // 19.4.2.13 Symbol.toStringTag\r\n    toStringTag: SYMBOL_TAG = getWellKnownSymbol(TO_STRING_TAG, true),\r\n    // 19.4.2.14 Symbol.unscopables\r\n    unscopables: SYMBOL_UNSCOPABLES,\r\n    pure: safeSymbol,\r\n    set: set,\r\n    useSetter: function(){setter = true},\r\n    useSimple: function(){setter = false}\r\n  };\r\n  // 19.4.2.2 Symbol.hasInstance\r\n  // 19.4.2.3 Symbol.isConcatSpreadable\r\n  // 19.4.2.6 Symbol.match\r\n  // 19.4.2.8 Symbol.replace\r\n  // 19.4.2.9 Symbol.search\r\n  // 19.4.2.11 Symbol.split\r\n  // 19.4.2.12 Symbol.toPrimitive\r\n  forEach.call(array('hasInstance,isConcatSpreadable,match,replace,search,split,toPrimitive'),\r\n    function(it){\r\n      symbolStatics[it] = getWellKnownSymbol(it);\r\n    }\r\n  );\r\n  $define(STATIC, SYMBOL, symbolStatics);\r\n  \r\n  setToStringTag(Symbol, SYMBOL);\r\n  \r\n  $define(STATIC + FORCED * !isNative(Symbol), OBJECT, {\r\n    // 19.1.2.7 Object.getOwnPropertyNames(O)\r\n    getOwnPropertyNames: function(it){\r\n      var names = getNames(toObject(it)), result = [], key, i = 0;\r\n      while(names.length > i)has(AllSymbols, key = names[i++]) || result.push(key);\r\n      return result;\r\n    },\r\n    // 19.1.2.8 Object.getOwnPropertySymbols(O)\r\n    getOwnPropertySymbols: function(it){\r\n      var names = getNames(toObject(it)), result = [], key, i = 0;\r\n      while(names.length > i)has(AllSymbols, key = names[i++]) && result.push(AllSymbols[key]);\r\n      return result;\r\n    }\r\n  });\r\n  \r\n  // 20.2.1.9 Math[@@toStringTag]\r\n  setToStringTag(Math, MATH, true);\r\n  // 24.3.3 JSON[@@toStringTag]\r\n  setToStringTag(global.JSON, 'JSON', true);\r\n}(safeSymbol('tag'), {}, {}, true);\n\n/******************************************************************************\n * Module : es6.object.statics                                                *\n ******************************************************************************/\n\n!function(){\r\n  var objectStatic = {\r\n    // 19.1.3.1 Object.assign(target, source)\r\n    assign: assign,\r\n    // 19.1.3.10 Object.is(value1, value2)\r\n    is: function(x, y){\r\n      return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\r\n    }\r\n  };\r\n  // 19.1.3.19 Object.setPrototypeOf(O, proto)\r\n  // Works with __proto__ only. Old v8 can't works with null proto objects.\r\n  '__proto__' in ObjectProto && function(buggy, set){\r\n    try {\r\n      set = ctx(call, getOwnDescriptor(ObjectProto, '__proto__').set, 2);\r\n      set({}, ArrayProto);\r\n    } catch(e){ buggy = true }\r\n    objectStatic.setPrototypeOf = setPrototypeOf = setPrototypeOf || function(O, proto){\r\n      assertObject(O);\r\n      assert(proto === null || isObject(proto), proto, \": can't set as prototype!\");\r\n      if(buggy)O.__proto__ = proto;\r\n      else set(O, proto);\r\n      return O;\r\n    }\r\n  }();\r\n  $define(STATIC, OBJECT, objectStatic);\r\n}();\n\n/******************************************************************************\n * Module : es6.object.statics-accept-primitives                              *\n ******************************************************************************/\n\n!function(){\r\n  // Object static methods accept primitives\r\n  function wrapObjectMethod(key, MODE){\r\n    var fn  = Object[key]\r\n      , exp = core[OBJECT][key]\r\n      , f   = 0\r\n      , o   = {};\r\n    if(!exp || isNative(exp)){\r\n      o[key] = MODE == 1 ? function(it){\r\n        return isObject(it) ? fn(it) : it;\r\n      } : MODE == 2 ? function(it){\r\n        return isObject(it) ? fn(it) : true;\r\n      } : MODE == 3 ? function(it){\r\n        return isObject(it) ? fn(it) : false;\r\n      } : MODE == 4 ? function(it, key){\r\n        return fn(toObject(it), key);\r\n      } : function(it){\r\n        return fn(toObject(it));\r\n      };\r\n      try { fn(DOT) }\r\n      catch(e){ f = 1 }\r\n      $define(STATIC + FORCED * f, OBJECT, o);\r\n    }\r\n  }\r\n  wrapObjectMethod('freeze', 1);\r\n  wrapObjectMethod('seal', 1);\r\n  wrapObjectMethod('preventExtensions', 1);\r\n  wrapObjectMethod('isFrozen', 2);\r\n  wrapObjectMethod('isSealed', 2);\r\n  wrapObjectMethod('isExtensible', 3);\r\n  wrapObjectMethod('getOwnPropertyDescriptor', 4);\r\n  wrapObjectMethod('getPrototypeOf');\r\n  wrapObjectMethod('keys');\r\n  wrapObjectMethod('getOwnPropertyNames');\r\n}();\n\n/******************************************************************************\n * Module : es6.number.statics                                                *\n ******************************************************************************/\n\n!function(isInteger){\r\n  $define(STATIC, NUMBER, {\r\n    // 20.1.2.1 Number.EPSILON\r\n    EPSILON: pow(2, -52),\r\n    // 20.1.2.2 Number.isFinite(number)\r\n    isFinite: function(it){\r\n      return typeof it == 'number' && isFinite(it);\r\n    },\r\n    // 20.1.2.3 Number.isInteger(number)\r\n    isInteger: isInteger,\r\n    // 20.1.2.4 Number.isNaN(number)\r\n    isNaN: sameNaN,\r\n    // 20.1.2.5 Number.isSafeInteger(number)\r\n    isSafeInteger: function(number){\r\n      return isInteger(number) && abs(number) <= MAX_SAFE_INTEGER;\r\n    },\r\n    // 20.1.2.6 Number.MAX_SAFE_INTEGER\r\n    MAX_SAFE_INTEGER: MAX_SAFE_INTEGER,\r\n    // 20.1.2.10 Number.MIN_SAFE_INTEGER\r\n    MIN_SAFE_INTEGER: -MAX_SAFE_INTEGER,\r\n    // 20.1.2.12 Number.parseFloat(string)\r\n    parseFloat: parseFloat,\r\n    // 20.1.2.13 Number.parseInt(string, radix)\r\n    parseInt: parseInt\r\n  });\r\n// 20.1.2.3 Number.isInteger(number)\r\n}(Number.isInteger || function(it){\r\n  return !isObject(it) && isFinite(it) && floor(it) === it;\r\n});\n\n/******************************************************************************\n * Module : es6.math                                                          *\n ******************************************************************************/\n\n// ECMAScript 6 shim\r\n!function(){\r\n  // 20.2.2.28 Math.sign(x)\r\n  var E    = Math.E\r\n    , exp  = Math.exp\r\n    , log  = Math.log\r\n    , sqrt = Math.sqrt\r\n    , sign = Math.sign || function(x){\r\n        return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\r\n      };\r\n  \r\n  // 20.2.2.5 Math.asinh(x)\r\n  function asinh(x){\r\n    return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : log(x + sqrt(x * x + 1));\r\n  }\r\n  // 20.2.2.14 Math.expm1(x)\r\n  function expm1(x){\r\n    return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : exp(x) - 1;\r\n  }\r\n    \r\n  $define(STATIC, MATH, {\r\n    // 20.2.2.3 Math.acosh(x)\r\n    acosh: function(x){\r\n      return (x = +x) < 1 ? NaN : isFinite(x) ? log(x / E + sqrt(x + 1) * sqrt(x - 1) / E) + 1 : x;\r\n    },\r\n    // 20.2.2.5 Math.asinh(x)\r\n    asinh: asinh,\r\n    // 20.2.2.7 Math.atanh(x)\r\n    atanh: function(x){\r\n      return (x = +x) == 0 ? x : log((1 + x) / (1 - x)) / 2;\r\n    },\r\n    // 20.2.2.9 Math.cbrt(x)\r\n    cbrt: function(x){\r\n      return sign(x = +x) * pow(abs(x), 1 / 3);\r\n    },\r\n    // 20.2.2.11 Math.clz32(x)\r\n    clz32: function(x){\r\n      return (x >>>= 0) ? 32 - x[TO_STRING](2).length : 32;\r\n    },\r\n    // 20.2.2.12 Math.cosh(x)\r\n    cosh: function(x){\r\n      return (exp(x = +x) + exp(-x)) / 2;\r\n    },\r\n    // 20.2.2.14 Math.expm1(x)\r\n    expm1: expm1,\r\n    // 20.2.2.16 Math.fround(x)\r\n    // TODO: fallback for IE9-\r\n    fround: function(x){\r\n      return new Float32Array([x])[0];\r\n    },\r\n    // 20.2.2.17 Math.hypot([value1[, value2[,  ]]])\r\n    hypot: function(value1, value2){\r\n      var sum  = 0\r\n        , len1 = arguments.length\r\n        , len2 = len1\r\n        , args = Array(len1)\r\n        , larg = -Infinity\r\n        , arg;\r\n      while(len1--){\r\n        arg = args[len1] = +arguments[len1];\r\n        if(arg == Infinity || arg == -Infinity)return Infinity;\r\n        if(arg > larg)larg = arg;\r\n      }\r\n      larg = arg || 1;\r\n      while(len2--)sum += pow(args[len2] / larg, 2);\r\n      return larg * sqrt(sum);\r\n    },\r\n    // 20.2.2.18 Math.imul(x, y)\r\n    imul: function(x, y){\r\n      var UInt16 = 0xffff\r\n        , xn = +x\r\n        , yn = +y\r\n        , xl = UInt16 & xn\r\n        , yl = UInt16 & yn;\r\n      return 0 | xl * yl + ((UInt16 & xn >>> 16) * yl + xl * (UInt16 & yn >>> 16) << 16 >>> 0);\r\n    },\r\n    // 20.2.2.20 Math.log1p(x)\r\n    log1p: function(x){\r\n      return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : log(1 + x);\r\n    },\r\n    // 20.2.2.21 Math.log10(x)\r\n    log10: function(x){\r\n      return log(x) / Math.LN10;\r\n    },\r\n    // 20.2.2.22 Math.log2(x)\r\n    log2: function(x){\r\n      return log(x) / Math.LN2;\r\n    },\r\n    // 20.2.2.28 Math.sign(x)\r\n    sign: sign,\r\n    // 20.2.2.30 Math.sinh(x)\r\n    sinh: function(x){\r\n      return (abs(x = +x) < 1) ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (E / 2);\r\n    },\r\n    // 20.2.2.33 Math.tanh(x)\r\n    tanh: function(x){\r\n      var a = expm1(x = +x)\r\n        , b = expm1(-x);\r\n      return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\r\n    },\r\n    // 20.2.2.34 Math.trunc(x)\r\n    trunc: trunc\r\n  });\r\n}();\n\n/******************************************************************************\n * Module : es6.string                                                        *\n ******************************************************************************/\n\n!function(fromCharCode){\r\n  function assertNotRegExp(it){\r\n    if(cof(it) == REGEXP)throw TypeError();\r\n  }\r\n  \r\n  $define(STATIC, STRING, {\r\n    // 21.1.2.2 String.fromCodePoint(...codePoints)\r\n    fromCodePoint: function(x){\r\n      var res = []\r\n        , len = arguments.length\r\n        , i   = 0\r\n        , code\r\n      while(len > i){\r\n        code = +arguments[i++];\r\n        if(toIndex(code, 0x10ffff) !== code)throw RangeError(code + ' is not a valid code point');\r\n        res.push(code < 0x10000\r\n          ? fromCharCode(code)\r\n          : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\r\n        );\r\n      } return res.join('');\r\n    },\r\n    // 21.1.2.4 String.raw(callSite, ...substitutions)\r\n    raw: function(callSite){\r\n      var raw = toObject(callSite.raw)\r\n        , len = toLength(raw.length)\r\n        , sln = arguments.length\r\n        , res = []\r\n        , i   = 0;\r\n      while(len > i){\r\n        res.push(String(raw[i++]));\r\n        if(i < sln)res.push(String(arguments[i]));\r\n      } return res.join('');\r\n    }\r\n  });\r\n  \r\n  $define(PROTO, STRING, {\r\n    // 21.1.3.3 String.prototype.codePointAt(pos)\r\n    codePointAt: createPointAt(false),\r\n    // 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\r\n    endsWith: function(searchString /*, endPosition = @length */){\r\n      assertNotRegExp(searchString);\r\n      var that = String(assertDefined(this))\r\n        , endPosition = arguments[1]\r\n        , len = toLength(that.length)\r\n        , end = endPosition === undefined ? len : min(toLength(endPosition), len);\r\n      searchString += '';\r\n      return that.slice(end - searchString.length, end) === searchString;\r\n    },\r\n    // 21.1.3.7 String.prototype.includes(searchString, position = 0)\r\n    includes: function(searchString /*, position = 0 */){\r\n      assertNotRegExp(searchString);\r\n      return !!~String(assertDefined(this)).indexOf(searchString, arguments[1]);\r\n    },\r\n    // 21.1.3.13 String.prototype.repeat(count)\r\n    repeat: function(count){\r\n      var str = String(assertDefined(this))\r\n        , res = ''\r\n        , n   = toInteger(count);\r\n      if(0 > n || n == Infinity)throw RangeError(\"Count can't be negative\");\r\n      for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;\r\n      return res;\r\n    },\r\n    // 21.1.3.18 String.prototype.startsWith(searchString [, position ])\r\n    startsWith: function(searchString /*, position = 0 */){\r\n      assertNotRegExp(searchString);\r\n      var that  = String(assertDefined(this))\r\n        , index = toLength(min(arguments[1], that.length));\r\n      searchString += '';\r\n      return that.slice(index, index + searchString.length) === searchString;\r\n    }\r\n  });\r\n}(String.fromCharCode);\n\n/******************************************************************************\n * Module : es6.array.statics                                                 *\n ******************************************************************************/\n\n!function(){\r\n  $define(STATIC + FORCED * checkDangerIterClosing(Array.from), ARRAY, {\r\n    // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\r\n    from: function(arrayLike/*, mapfn = undefined, thisArg = undefined*/){\r\n      var O       = Object(assertDefined(arrayLike))\r\n        , mapfn   = arguments[1]\r\n        , mapping = mapfn !== undefined\r\n        , f       = mapping ? ctx(mapfn, arguments[2], 2) : undefined\r\n        , index   = 0\r\n        , length, result, step;\r\n      if(isIterable(O)){\r\n        result = new (generic(this, Array));\r\n        safeIterClose(function(iterator){\r\n          for(; !(step = iterator.next()).done; index++){\r\n            result[index] = mapping ? f(step.value, index) : step.value;\r\n          }\r\n        }, getIterator(O));\r\n      } else {\r\n        result = new (generic(this, Array))(length = toLength(O.length));\r\n        for(; length > index; index++){\r\n          result[index] = mapping ? f(O[index], index) : O[index];\r\n        }\r\n      }\r\n      result.length = index;\r\n      return result;\r\n    }\r\n  });\r\n  \r\n  $define(STATIC, ARRAY, {\r\n    // 22.1.2.3 Array.of( ...items)\r\n    of: function(/* ...args */){\r\n      var index  = 0\r\n        , length = arguments.length\r\n        , result = new (generic(this, Array))(length);\r\n      while(length > index)result[index] = arguments[index++];\r\n      result.length = length;\r\n      return result;\r\n    }\r\n  });\r\n  \r\n  setSpecies(Array);\r\n}();\n\n/******************************************************************************\n * Module : es6.array.prototype                                               *\n ******************************************************************************/\n\n!function(){\r\n  $define(PROTO, ARRAY, {\r\n    // 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\r\n    copyWithin: function(target /* = 0 */, start /* = 0, end = @length */){\r\n      var O     = Object(assertDefined(this))\r\n        , len   = toLength(O.length)\r\n        , to    = toIndex(target, len)\r\n        , from  = toIndex(start, len)\r\n        , end   = arguments[2]\r\n        , fin   = end === undefined ? len : toIndex(end, len)\r\n        , count = min(fin - from, len - to)\r\n        , inc   = 1;\r\n      if(from < to && to < from + count){\r\n        inc  = -1;\r\n        from = from + count - 1;\r\n        to   = to + count - 1;\r\n      }\r\n      while(count-- > 0){\r\n        if(from in O)O[to] = O[from];\r\n        else delete O[to];\r\n        to += inc;\r\n        from += inc;\r\n      } return O;\r\n    },\r\n    // 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\r\n    fill: function(value /*, start = 0, end = @length */){\r\n      var O      = Object(assertDefined(this))\r\n        , length = toLength(O.length)\r\n        , index  = toIndex(arguments[1], length)\r\n        , end    = arguments[2]\r\n        , endPos = end === undefined ? length : toIndex(end, length);\r\n      while(endPos > index)O[index++] = value;\r\n      return O;\r\n    },\r\n    // 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\r\n    find: createArrayMethod(5),\r\n    // 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\r\n    findIndex: createArrayMethod(6)\r\n  });\r\n  \r\n  if(framework){\r\n    // 22.1.3.31 Array.prototype[@@unscopables]\r\n    forEach.call(array('find,findIndex,fill,copyWithin,entries,keys,values'), function(it){\r\n      ArrayUnscopables[it] = true;\r\n    });\r\n    SYMBOL_UNSCOPABLES in ArrayProto || hidden(ArrayProto, SYMBOL_UNSCOPABLES, ArrayUnscopables);\r\n  }\r\n}();\n\n/******************************************************************************\n * Module : es6.iterators                                                     *\n ******************************************************************************/\n\n!function(at){\r\n  // 22.1.3.4 Array.prototype.entries()\r\n  // 22.1.3.13 Array.prototype.keys()\r\n  // 22.1.3.29 Array.prototype.values()\r\n  // 22.1.3.30 Array.prototype[@@iterator]()\r\n  defineStdIterators(Array, ARRAY, function(iterated, kind){\r\n    set(this, ITER, {o: toObject(iterated), i: 0, k: kind});\r\n  // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\r\n  }, function(){\r\n    var iter  = this[ITER]\r\n      , O     = iter.o\r\n      , kind  = iter.k\r\n      , index = iter.i++;\r\n    if(!O || index >= O.length){\r\n      iter.o = undefined;\r\n      return iterResult(1);\r\n    }\r\n    if(kind == KEY)  return iterResult(0, index);\r\n    if(kind == VALUE)return iterResult(0, O[index]);\r\n                     return iterResult(0, [index, O[index]]);\r\n  }, VALUE);\r\n  \r\n  // argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\r\n  Iterators[ARGUMENTS] = Iterators[ARRAY];\r\n  \r\n  // 21.1.3.27 String.prototype[@@iterator]()\r\n  defineStdIterators(String, STRING, function(iterated){\r\n    set(this, ITER, {o: String(iterated), i: 0});\r\n  // 21.1.5.2.1 %StringIteratorPrototype%.next()\r\n  }, function(){\r\n    var iter  = this[ITER]\r\n      , O     = iter.o\r\n      , index = iter.i\r\n      , point;\r\n    if(index >= O.length)return iterResult(1);\r\n    point = at.call(O, index);\r\n    iter.i += point.length;\r\n    return iterResult(0, point);\r\n  });\r\n}(createPointAt(true));\n\n/******************************************************************************\n * Module : web.immediate                                                     *\n ******************************************************************************/\n\n// setImmediate shim\r\n// Node.js 0.9+ & IE10+ has setImmediate, else:\r\nisFunction(setImmediate) && isFunction(clearImmediate) || function(ONREADYSTATECHANGE){\r\n  var postMessage      = global.postMessage\r\n    , addEventListener = global.addEventListener\r\n    , MessageChannel   = global.MessageChannel\r\n    , counter          = 0\r\n    , queue            = {}\r\n    , defer, channel, port;\r\n  setImmediate = function(fn){\r\n    var args = [], i = 1;\r\n    while(arguments.length > i)args.push(arguments[i++]);\r\n    queue[++counter] = function(){\r\n      invoke(isFunction(fn) ? fn : Function(fn), args);\r\n    }\r\n    defer(counter);\r\n    return counter;\r\n  }\r\n  clearImmediate = function(id){\r\n    delete queue[id];\r\n  }\r\n  function run(id){\r\n    if(has(queue, id)){\r\n      var fn = queue[id];\r\n      delete queue[id];\r\n      fn();\r\n    }\r\n  }\r\n  function listner(event){\r\n    run(event.data);\r\n  }\r\n  // Node.js 0.8-\r\n  if(NODE){\r\n    defer = function(id){\r\n      nextTick(part.call(run, id));\r\n    }\r\n  // Modern browsers, skip implementation for WebWorkers\r\n  // IE8 has postMessage, but it's sync & typeof its postMessage is object\r\n  } else if(addEventListener && isFunction(postMessage) && !global.importScripts){\r\n    defer = function(id){\r\n      postMessage(id, '*');\r\n    }\r\n    addEventListener('message', listner, false);\r\n  // WebWorkers\r\n  } else if(isFunction(MessageChannel)){\r\n    channel = new MessageChannel;\r\n    port    = channel.port2;\r\n    channel.port1.onmessage = listner;\r\n    defer = ctx(port.postMessage, port, 1);\r\n  // IE8-\r\n  } else if(document && ONREADYSTATECHANGE in document[CREATE_ELEMENT]('script')){\r\n    defer = function(id){\r\n      html.appendChild(document[CREATE_ELEMENT]('script'))[ONREADYSTATECHANGE] = function(){\r\n        html.removeChild(this);\r\n        run(id);\r\n      }\r\n    }\r\n  // Rest old browsers\r\n  } else {\r\n    defer = function(id){\r\n      setTimeout(run, 0, id);\r\n    }\r\n  }\r\n}('onreadystatechange');\r\n$define(GLOBAL + BIND, {\r\n  setImmediate:   setImmediate,\r\n  clearImmediate: clearImmediate\r\n});\n\n/******************************************************************************\n * Module : es6.promise                                                       *\n ******************************************************************************/\n\n// ES6 promises shim\r\n// Based on https://github.com/getify/native-promise-only/\r\n!function(Promise, test){\r\n  isFunction(Promise) && isFunction(Promise.resolve)\r\n  && Promise.resolve(test = new Promise(function(){})) == test\r\n  || function(asap, RECORD){\r\n    function isThenable(it){\r\n      var then;\r\n      if(isObject(it))then = it.then;\r\n      return isFunction(then) ? then : false;\r\n    }\r\n    function handledRejectionOrHasOnRejected(promise){\r\n      var record = promise[RECORD]\r\n        , chain  = record.c\r\n        , i      = 0\r\n        , react;\r\n      if(record.h)return true;\r\n      while(chain.length > i){\r\n        react = chain[i++];\r\n        if(react.fail || handledRejectionOrHasOnRejected(react.P))return true;\r\n      }\r\n    }\r\n    function notify(record, reject){\r\n      var chain = record.c;\r\n      if(reject || chain.length)asap(function(){\r\n        var promise = record.p\r\n          , value   = record.v\r\n          , ok      = record.s == 1\r\n          , i       = 0;\r\n        if(reject && !handledRejectionOrHasOnRejected(promise)){\r\n          setTimeout(function(){\r\n            if(!handledRejectionOrHasOnRejected(promise)){\r\n              if(NODE){\r\n                if(!process.emit('unhandledRejection', value, promise)){\r\n                  // default node.js behavior\r\n                }\r\n              } else if(isFunction(console.error)){\r\n                console.error('Unhandled promise rejection', value);\r\n              }\r\n            }\r\n          }, 1e3);\r\n        } else while(chain.length > i)!function(react){\r\n          var cb = ok ? react.ok : react.fail\r\n            , ret, then;\r\n          try {\r\n            if(cb){\r\n              if(!ok)record.h = true;\r\n              ret = cb === true ? value : cb(value);\r\n              if(ret === react.P){\r\n                react.rej(TypeError(PROMISE + '-chain cycle'));\r\n              } else if(then = isThenable(ret)){\r\n                then.call(ret, react.res, react.rej);\r\n              } else react.res(ret);\r\n            } else react.rej(value);\r\n          } catch(err){\r\n            react.rej(err);\r\n          }\r\n        }(chain[i++]);\r\n        chain.length = 0;\r\n      });\r\n    }\r\n    function resolve(value){\r\n      var record = this\r\n        , then, wrapper;\r\n      if(record.d)return;\r\n      record.d = true;\r\n      record = record.r || record; // unwrap\r\n      try {\r\n        if(then = isThenable(value)){\r\n          wrapper = {r: record, d: false}; // wrap\r\n          then.call(value, ctx(resolve, wrapper, 1), ctx(reject, wrapper, 1));\r\n        } else {\r\n          record.v = value;\r\n          record.s = 1;\r\n          notify(record);\r\n        }\r\n      } catch(err){\r\n        reject.call(wrapper || {r: record, d: false}, err); // wrap\r\n      }\r\n    }\r\n    function reject(value){\r\n      var record = this;\r\n      if(record.d)return;\r\n      record.d = true;\r\n      record = record.r || record; // unwrap\r\n      record.v = value;\r\n      record.s = 2;\r\n      notify(record, true);\r\n    }\r\n    function getConstructor(C){\r\n      var S = assertObject(C)[SYMBOL_SPECIES];\r\n      return S != undefined ? S : C;\r\n    }\r\n    // 25.4.3.1 Promise(executor)\r\n    Promise = function(executor){\r\n      assertFunction(executor);\r\n      assertInstance(this, Promise, PROMISE);\r\n      var record = {\r\n        p: this,      // promise\r\n        c: [],        // chain\r\n        s: 0,         // state\r\n        d: false,     // done\r\n        v: undefined, // value\r\n        h: false      // handled rejection\r\n      };\r\n      hidden(this, RECORD, record);\r\n      try {\r\n        executor(ctx(resolve, record, 1), ctx(reject, record, 1));\r\n      } catch(err){\r\n        reject.call(record, err);\r\n      }\r\n    }\r\n    assignHidden(Promise[PROTOTYPE], {\r\n      // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\r\n      then: function(onFulfilled, onRejected){\r\n        var S = assertObject(assertObject(this)[CONSTRUCTOR])[SYMBOL_SPECIES];\r\n        var react = {\r\n          ok:   isFunction(onFulfilled) ? onFulfilled : true,\r\n          fail: isFunction(onRejected)  ? onRejected  : false\r\n        } , P = react.P = new (S != undefined ? S : Promise)(function(resolve, reject){\r\n          react.res = assertFunction(resolve);\r\n          react.rej = assertFunction(reject);\r\n        }), record = this[RECORD];\r\n        record.c.push(react);\r\n        record.s && notify(record);\r\n        return P;\r\n      },\r\n      // 25.4.5.1 Promise.prototype.catch(onRejected)\r\n      'catch': function(onRejected){\r\n        return this.then(undefined, onRejected);\r\n      }\r\n    });\r\n    assignHidden(Promise, {\r\n      // 25.4.4.1 Promise.all(iterable)\r\n      all: function(iterable){\r\n        var Promise = getConstructor(this)\r\n          , values  = [];\r\n        return new Promise(function(resolve, reject){\r\n          forOf(iterable, false, push, values);\r\n          var remaining = values.length\r\n            , results   = Array(remaining);\r\n          if(remaining)forEach.call(values, function(promise, index){\r\n            Promise.resolve(promise).then(function(value){\r\n              results[index] = value;\r\n              --remaining || resolve(results);\r\n            }, reject);\r\n          });\r\n          else resolve(results);\r\n        });\r\n      },\r\n      // 25.4.4.4 Promise.race(iterable)\r\n      race: function(iterable){\r\n        var Promise = getConstructor(this);\r\n        return new Promise(function(resolve, reject){\r\n          forOf(iterable, false, function(promise){\r\n            Promise.resolve(promise).then(resolve, reject);\r\n          });\r\n        });\r\n      },\r\n      // 25.4.4.5 Promise.reject(r)\r\n      reject: function(r){\r\n        return new (getConstructor(this))(function(resolve, reject){\r\n          reject(r);\r\n        });\r\n      },\r\n      // 25.4.4.6 Promise.resolve(x)\r\n      resolve: function(x){\r\n        return isObject(x) && RECORD in x && getPrototypeOf(x) === this[PROTOTYPE]\r\n          ? x : new (getConstructor(this))(function(resolve, reject){\r\n            resolve(x);\r\n          });\r\n      }\r\n    });\r\n  }(nextTick || setImmediate, safeSymbol('record'));\r\n  setToStringTag(Promise, PROMISE);\r\n  setSpecies(Promise);\r\n  $define(GLOBAL + FORCED * !isNative(Promise), {Promise: Promise});\r\n}(global[PROMISE]);\n\n/******************************************************************************\n * Module : es6.collections                                                   *\n ******************************************************************************/\n\n// ECMAScript 6 collections shim\r\n!function(){\r\n  var UID   = safeSymbol('uid')\r\n    , O1    = safeSymbol('O1')\r\n    , WEAK  = safeSymbol('weak')\r\n    , LEAK  = safeSymbol('leak')\r\n    , LAST  = safeSymbol('last')\r\n    , FIRST = safeSymbol('first')\r\n    , SIZE  = DESC ? safeSymbol('size') : 'size'\r\n    , uid   = 0\r\n    , tmp   = {};\r\n  \r\n  function getCollection(C, NAME, methods, commonMethods, isMap, isWeak){\r\n    var ADDER = isMap ? 'set' : 'add'\r\n      , proto = C && C[PROTOTYPE]\r\n      , O     = {};\r\n    function initFromIterable(that, iterable){\r\n      if(iterable != undefined)forOf(iterable, isMap, that[ADDER], that);\r\n      return that;\r\n    }\r\n    function fixSVZ(key, chain){\r\n      var method = proto[key];\r\n      if(framework)proto[key] = function(a, b){\r\n        var result = method.call(this, a === 0 ? 0 : a, b);\r\n        return chain ? this : result;\r\n      };\r\n    }\r\n    if(!isNative(C) || !(isWeak || (!BUGGY_ITERATORS && has(proto, FOR_EACH) && has(proto, 'entries')))){\r\n      // create collection constructor\r\n      C = isWeak\r\n        ? function(iterable){\r\n            assertInstance(this, C, NAME);\r\n            set(this, UID, uid++);\r\n            initFromIterable(this, iterable);\r\n          }\r\n        : function(iterable){\r\n            var that = this;\r\n            assertInstance(that, C, NAME);\r\n            set(that, O1, create(null));\r\n            set(that, SIZE, 0);\r\n            set(that, LAST, undefined);\r\n            set(that, FIRST, undefined);\r\n            initFromIterable(that, iterable);\r\n          };\r\n      assignHidden(assignHidden(C[PROTOTYPE], methods), commonMethods);\r\n      isWeak || !DESC || defineProperty(C[PROTOTYPE], 'size', {get: function(){\r\n        return assertDefined(this[SIZE]);\r\n      }});\r\n    } else {\r\n      var Native = C\r\n        , inst   = new C\r\n        , chain  = inst[ADDER](isWeak ? {} : -0, 1)\r\n        , buggyZero;\r\n      // wrap to init collections from iterable\r\n      if(checkDangerIterClosing(function(O){ new C(O) })){\r\n        C = function(iterable){\r\n          assertInstance(this, C, NAME);\r\n          return initFromIterable(new Native, iterable);\r\n        }\r\n        C[PROTOTYPE] = proto;\r\n        if(framework)proto[CONSTRUCTOR] = C;\r\n      }\r\n      isWeak || inst[FOR_EACH](function(val, key){\r\n        buggyZero = 1 / key === -Infinity;\r\n      });\r\n      // fix converting -0 key to +0\r\n      if(buggyZero){\r\n        fixSVZ('delete');\r\n        fixSVZ('has');\r\n        isMap && fixSVZ('get');\r\n      }\r\n      // + fix .add & .set for chaining\r\n      if(buggyZero || chain !== inst)fixSVZ(ADDER, true);\r\n    }\r\n    setToStringTag(C, NAME);\r\n    setSpecies(C);\r\n    \r\n    O[NAME] = C;\r\n    $define(GLOBAL + WRAP + FORCED * !isNative(C), O);\r\n    \r\n    // add .keys, .values, .entries, [@@iterator]\r\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\r\n    isWeak || defineStdIterators(C, NAME, function(iterated, kind){\r\n      set(this, ITER, {o: iterated, k: kind});\r\n    }, function(){\r\n      var iter  = this[ITER]\r\n        , kind  = iter.k\r\n        , entry = iter.l;\r\n      // revert to the last existing entry\r\n      while(entry && entry.r)entry = entry.p;\r\n      // get next entry\r\n      if(!iter.o || !(iter.l = entry = entry ? entry.n : iter.o[FIRST])){\r\n        // or finish the iteration\r\n        iter.o = undefined;\r\n        return iterResult(1);\r\n      }\r\n      // return step by kind\r\n      if(kind == KEY)  return iterResult(0, entry.k);\r\n      if(kind == VALUE)return iterResult(0, entry.v);\r\n                       return iterResult(0, [entry.k, entry.v]);   \r\n    }, isMap ? KEY+VALUE : VALUE, !isMap);\r\n    \r\n    return C;\r\n  }\r\n  \r\n  function fastKey(it, create){\r\n    // return primitive with prefix\r\n    if(!isObject(it))return (typeof it == 'string' ? 'S' : 'P') + it;\r\n    // can't set id to frozen object\r\n    if(isFrozen(it))return 'F';\r\n    if(!has(it, UID)){\r\n      // not necessary to add id\r\n      if(!create)return 'E';\r\n      // add missing object id\r\n      hidden(it, UID, ++uid);\r\n    // return object id with prefix\r\n    } return 'O' + it[UID];\r\n  }\r\n  function getEntry(that, key){\r\n    // fast case\r\n    var index = fastKey(key), entry;\r\n    if(index != 'F')return that[O1][index];\r\n    // frozen object case\r\n    for(entry = that[FIRST]; entry; entry = entry.n){\r\n      if(entry.k == key)return entry;\r\n    }\r\n  }\r\n  function def(that, key, value){\r\n    var entry = getEntry(that, key)\r\n      , prev, index;\r\n    // change existing entry\r\n    if(entry)entry.v = value;\r\n    // create new entry\r\n    else {\r\n      that[LAST] = entry = {\r\n        i: index = fastKey(key, true), // <- index\r\n        k: key,                        // <- key\r\n        v: value,                      // <- value\r\n        p: prev = that[LAST],          // <- previous entry\r\n        n: undefined,                  // <- next entry\r\n        r: false                       // <- removed\r\n      };\r\n      if(!that[FIRST])that[FIRST] = entry;\r\n      if(prev)prev.n = entry;\r\n      that[SIZE]++;\r\n      // add to index\r\n      if(index != 'F')that[O1][index] = entry;\r\n    } return that;\r\n  }\r\n\r\n  var collectionMethods = {\r\n    // 23.1.3.1 Map.prototype.clear()\r\n    // 23.2.3.2 Set.prototype.clear()\r\n    clear: function(){\r\n      for(var that = this, data = that[O1], entry = that[FIRST]; entry; entry = entry.n){\r\n        entry.r = true;\r\n        if(entry.p)entry.p = entry.p.n = undefined;\r\n        delete data[entry.i];\r\n      }\r\n      that[FIRST] = that[LAST] = undefined;\r\n      that[SIZE] = 0;\r\n    },\r\n    // 23.1.3.3 Map.prototype.delete(key)\r\n    // 23.2.3.4 Set.prototype.delete(value)\r\n    'delete': function(key){\r\n      var that  = this\r\n        , entry = getEntry(that, key);\r\n      if(entry){\r\n        var next = entry.n\r\n          , prev = entry.p;\r\n        delete that[O1][entry.i];\r\n        entry.r = true;\r\n        if(prev)prev.n = next;\r\n        if(next)next.p = prev;\r\n        if(that[FIRST] == entry)that[FIRST] = next;\r\n        if(that[LAST] == entry)that[LAST] = prev;\r\n        that[SIZE]--;\r\n      } return !!entry;\r\n    },\r\n    // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\r\n    // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\r\n    forEach: function(callbackfn /*, that = undefined */){\r\n      var f = ctx(callbackfn, arguments[1], 3)\r\n        , entry;\r\n      while(entry = entry ? entry.n : this[FIRST]){\r\n        f(entry.v, entry.k, this);\r\n        // revert to the last existing entry\r\n        while(entry && entry.r)entry = entry.p;\r\n      }\r\n    },\r\n    // 23.1.3.7 Map.prototype.has(key)\r\n    // 23.2.3.7 Set.prototype.has(value)\r\n    has: function(key){\r\n      return !!getEntry(this, key);\r\n    }\r\n  }\r\n  \r\n  // 23.1 Map Objects\r\n  Map = getCollection(Map, MAP, {\r\n    // 23.1.3.6 Map.prototype.get(key)\r\n    get: function(key){\r\n      var entry = getEntry(this, key);\r\n      return entry && entry.v;\r\n    },\r\n    // 23.1.3.9 Map.prototype.set(key, value)\r\n    set: function(key, value){\r\n      return def(this, key === 0 ? 0 : key, value);\r\n    }\r\n  }, collectionMethods, true);\r\n  \r\n  // 23.2 Set Objects\r\n  Set = getCollection(Set, SET, {\r\n    // 23.2.3.1 Set.prototype.add(value)\r\n    add: function(value){\r\n      return def(this, value = value === 0 ? 0 : value, value);\r\n    }\r\n  }, collectionMethods);\r\n  \r\n  function defWeak(that, key, value){\r\n    if(isFrozen(assertObject(key)))leakStore(that).set(key, value);\r\n    else {\r\n      has(key, WEAK) || hidden(key, WEAK, {});\r\n      key[WEAK][that[UID]] = value;\r\n    } return that;\r\n  }\r\n  function leakStore(that){\r\n    return that[LEAK] || hidden(that, LEAK, new Map)[LEAK];\r\n  }\r\n  \r\n  var weakMethods = {\r\n    // 23.3.3.2 WeakMap.prototype.delete(key)\r\n    // 23.4.3.3 WeakSet.prototype.delete(value)\r\n    'delete': function(key){\r\n      if(!isObject(key))return false;\r\n      if(isFrozen(key))return leakStore(this)['delete'](key);\r\n      return has(key, WEAK) && has(key[WEAK], this[UID]) && delete key[WEAK][this[UID]];\r\n    },\r\n    // 23.3.3.4 WeakMap.prototype.has(key)\r\n    // 23.4.3.4 WeakSet.prototype.has(value)\r\n    has: function(key){\r\n      if(!isObject(key))return false;\r\n      if(isFrozen(key))return leakStore(this).has(key);\r\n      return has(key, WEAK) && has(key[WEAK], this[UID]);\r\n    }\r\n  };\r\n  \r\n  // 23.3 WeakMap Objects\r\n  WeakMap = getCollection(WeakMap, WEAKMAP, {\r\n    // 23.3.3.3 WeakMap.prototype.get(key)\r\n    get: function(key){\r\n      if(isObject(key)){\r\n        if(isFrozen(key))return leakStore(this).get(key);\r\n        if(has(key, WEAK))return key[WEAK][this[UID]];\r\n      }\r\n    },\r\n    // 23.3.3.5 WeakMap.prototype.set(key, value)\r\n    set: function(key, value){\r\n      return defWeak(this, key, value);\r\n    }\r\n  }, weakMethods, true, true);\r\n  \r\n  // IE11 WeakMap frozen keys fix\r\n  if(framework && new WeakMap().set(Object.freeze(tmp), 7).get(tmp) != 7){\r\n    forEach.call(array('delete,has,get,set'), function(key){\r\n      var method = WeakMap[PROTOTYPE][key];\r\n      WeakMap[PROTOTYPE][key] = function(a, b){\r\n        // store frozen objects on leaky map\r\n        if(isObject(a) && isFrozen(a)){\r\n          var result = leakStore(this)[key](a, b);\r\n          return key == 'set' ? this : result;\r\n        // store all the rest on native weakmap\r\n        } return method.call(this, a, b);\r\n      };\r\n    });\r\n  }\r\n  \r\n  // 23.4 WeakSet Objects\r\n  WeakSet = getCollection(WeakSet, WEAKSET, {\r\n    // 23.4.3.1 WeakSet.prototype.add(value)\r\n    add: function(value){\r\n      return defWeak(this, value, true);\r\n    }\r\n  }, weakMethods, false, true);\r\n}();\n\n/******************************************************************************\n * Module : es6.reflect                                                       *\n ******************************************************************************/\n\n!function(){\r\n  function Enumerate(iterated){\r\n    var keys = [], key;\r\n    for(key in iterated)keys.push(key);\r\n    set(this, ITER, {o: iterated, a: keys, i: 0});\r\n  }\r\n  createIterator(Enumerate, OBJECT, function(){\r\n    var iter = this[ITER]\r\n      , keys = iter.a\r\n      , key;\r\n    do {\r\n      if(iter.i >= keys.length)return iterResult(1);\r\n    } while(!((key = keys[iter.i++]) in iter.o));\r\n    return iterResult(0, key);\r\n  });\r\n  \r\n  function wrap(fn){\r\n    return function(it){\r\n      assertObject(it);\r\n      try {\r\n        return fn.apply(undefined, arguments), true;\r\n      } catch(e){\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  \r\n  function reflectGet(target, propertyKey/*, receiver*/){\r\n    var receiver = arguments.length < 3 ? target : arguments[2]\r\n      , desc = getOwnDescriptor(assertObject(target), propertyKey), proto;\r\n    if(desc)return has(desc, 'value')\r\n      ? desc.value\r\n      : desc.get === undefined\r\n        ? undefined\r\n        : desc.get.call(receiver);\r\n    return isObject(proto = getPrototypeOf(target))\r\n      ? reflectGet(proto, propertyKey, receiver)\r\n      : undefined;\r\n  }\r\n  function reflectSet(target, propertyKey, V/*, receiver*/){\r\n    var receiver = arguments.length < 4 ? target : arguments[3]\r\n      , ownDesc  = getOwnDescriptor(assertObject(target), propertyKey)\r\n      , existingDescriptor, proto;\r\n    if(!ownDesc){\r\n      if(isObject(proto = getPrototypeOf(target))){\r\n        return reflectSet(proto, propertyKey, V, receiver);\r\n      }\r\n      ownDesc = descriptor(0);\r\n    }\r\n    if(has(ownDesc, 'value')){\r\n      if(ownDesc.writable === false || !isObject(receiver))return false;\r\n      existingDescriptor = getOwnDescriptor(receiver, propertyKey) || descriptor(0);\r\n      existingDescriptor.value = V;\r\n      return defineProperty(receiver, propertyKey, existingDescriptor), true;\r\n    }\r\n    return ownDesc.set === undefined\r\n      ? false\r\n      : (ownDesc.set.call(receiver, V), true);\r\n  }\r\n  var isExtensible = Object.isExtensible || returnIt;\r\n  \r\n  var reflect = {\r\n    // 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\r\n    apply: ctx(call, apply, 3),\r\n    // 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\r\n    construct: function(target, argumentsList /*, newTarget*/){\r\n      var proto    = assertFunction(arguments.length < 3 ? target : arguments[2])[PROTOTYPE]\r\n        , instance = create(isObject(proto) ? proto : ObjectProto)\r\n        , result   = apply.call(target, instance, argumentsList);\r\n      return isObject(result) ? result : instance;\r\n    },\r\n    // 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\r\n    defineProperty: wrap(defineProperty),\r\n    // 26.1.4 Reflect.deleteProperty(target, propertyKey)\r\n    deleteProperty: function(target, propertyKey){\r\n      var desc = getOwnDescriptor(assertObject(target), propertyKey);\r\n      return desc && !desc.configurable ? false : delete target[propertyKey];\r\n    },\r\n    // 26.1.5 Reflect.enumerate(target)\r\n    enumerate: function(target){\r\n      return new Enumerate(assertObject(target));\r\n    },\r\n    // 26.1.6 Reflect.get(target, propertyKey [, receiver])\r\n    get: reflectGet,\r\n    // 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\r\n    getOwnPropertyDescriptor: function(target, propertyKey){\r\n      return getOwnDescriptor(assertObject(target), propertyKey);\r\n    },\r\n    // 26.1.8 Reflect.getPrototypeOf(target)\r\n    getPrototypeOf: function(target){\r\n      return getPrototypeOf(assertObject(target));\r\n    },\r\n    // 26.1.9 Reflect.has(target, propertyKey)\r\n    has: function(target, propertyKey){\r\n      return propertyKey in target;\r\n    },\r\n    // 26.1.10 Reflect.isExtensible(target)\r\n    isExtensible: function(target){\r\n      return !!isExtensible(assertObject(target));\r\n    },\r\n    // 26.1.11 Reflect.ownKeys(target)\r\n    ownKeys: ownKeys,\r\n    // 26.1.12 Reflect.preventExtensions(target)\r\n    preventExtensions: wrap(Object.preventExtensions || returnIt),\r\n    // 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\r\n    set: reflectSet\r\n  }\r\n  // 26.1.14 Reflect.setPrototypeOf(target, proto)\r\n  if(setPrototypeOf)reflect.setPrototypeOf = function(target, proto){\r\n    return setPrototypeOf(assertObject(target), proto), true;\r\n  };\r\n  \r\n  $define(GLOBAL, {Reflect: {}});\r\n  $define(STATIC, 'Reflect', reflect);\r\n}();\n\n/******************************************************************************\n * Module : es7.proposals                                                     *\n ******************************************************************************/\n\n!function(){\r\n  $define(PROTO, ARRAY, {\r\n    // https://github.com/domenic/Array.prototype.includes\r\n    includes: createArrayContains(true)\r\n  });\r\n  $define(PROTO, STRING, {\r\n    // https://github.com/mathiasbynens/String.prototype.at\r\n    at: createPointAt(true)\r\n  });\r\n  \r\n  function createObjectToArray(isEntries){\r\n    return function(object){\r\n      var O      = toObject(object)\r\n        , keys   = getKeys(object)\r\n        , length = keys.length\r\n        , i      = 0\r\n        , result = Array(length)\r\n        , key;\r\n      if(isEntries)while(length > i)result[i] = [key = keys[i++], O[key]];\r\n      else while(length > i)result[i] = O[keys[i++]];\r\n      return result;\r\n    }\r\n  }\r\n  $define(STATIC, OBJECT, {\r\n    // https://gist.github.com/WebReflection/9353781\r\n    getOwnPropertyDescriptors: function(object){\r\n      var O      = toObject(object)\r\n        , result = {};\r\n      forEach.call(ownKeys(O), function(key){\r\n        defineProperty(result, key, descriptor(0, getOwnDescriptor(O, key)));\r\n      });\r\n      return result;\r\n    },\r\n    // https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-04/apr-9.md#51-objectentries-objectvalues\r\n    values:  createObjectToArray(false),\r\n    entries: createObjectToArray(true)\r\n  });\r\n  $define(STATIC, REGEXP, {\r\n    // https://gist.github.com/kangax/9698100\r\n    escape: createReplacer(/([\\\\\\-[\\]{}()*+?.,^$|])/g, '\\\\$1', true)\r\n  });\r\n}();\n\n/******************************************************************************\n * Module : es7.abstract-refs                                                 *\n ******************************************************************************/\n\n// https://github.com/zenparsing/es-abstract-refs\r\n!function(REFERENCE){\r\n  REFERENCE_GET = getWellKnownSymbol(REFERENCE+'Get', true);\r\n  var REFERENCE_SET = getWellKnownSymbol(REFERENCE+SET, true)\r\n    , REFERENCE_DELETE = getWellKnownSymbol(REFERENCE+'Delete', true);\r\n  \r\n  $define(STATIC, SYMBOL, {\r\n    referenceGet: REFERENCE_GET,\r\n    referenceSet: REFERENCE_SET,\r\n    referenceDelete: REFERENCE_DELETE\r\n  });\r\n  \r\n  hidden(FunctionProto, REFERENCE_GET, returnThis);\r\n  \r\n  function setMapMethods(Constructor){\r\n    if(Constructor){\r\n      var MapProto = Constructor[PROTOTYPE];\r\n      hidden(MapProto, REFERENCE_GET, MapProto.get);\r\n      hidden(MapProto, REFERENCE_SET, MapProto.set);\r\n      hidden(MapProto, REFERENCE_DELETE, MapProto['delete']);\r\n    }\r\n  }\r\n  setMapMethods(Map);\r\n  setMapMethods(WeakMap);\r\n}('reference');\n\n/******************************************************************************\n * Module : core.dict                                                         *\n ******************************************************************************/\n\n!function(DICT){\r\n  Dict = function(iterable){\r\n    var dict = create(null);\r\n    if(iterable != undefined){\r\n      if(isIterable(iterable)){\r\n        forOf(iterable, true, function(key, value){\r\n          dict[key] = value;\r\n        });\r\n      } else assign(dict, iterable);\r\n    }\r\n    return dict;\r\n  }\r\n  Dict[PROTOTYPE] = null;\r\n  \r\n  function DictIterator(iterated, kind){\r\n    set(this, ITER, {o: toObject(iterated), a: getKeys(iterated), i: 0, k: kind});\r\n  }\r\n  createIterator(DictIterator, DICT, function(){\r\n    var iter = this[ITER]\r\n      , O    = iter.o\r\n      , keys = iter.a\r\n      , kind = iter.k\r\n      , key;\r\n    do {\r\n      if(iter.i >= keys.length){\r\n        iter.o = undefined;\r\n        return iterResult(1);\r\n      }\r\n    } while(!has(O, key = keys[iter.i++]));\r\n    if(kind == KEY)  return iterResult(0, key);\r\n    if(kind == VALUE)return iterResult(0, O[key]);\r\n                     return iterResult(0, [key, O[key]]);\r\n  });\r\n  function createDictIter(kind){\r\n    return function(it){\r\n      return new DictIterator(it, kind);\r\n    }\r\n  }\r\n  \r\n  /*\r\n   * 0 -> forEach\r\n   * 1 -> map\r\n   * 2 -> filter\r\n   * 3 -> some\r\n   * 4 -> every\r\n   * 5 -> find\r\n   * 6 -> findKey\r\n   * 7 -> mapPairs\r\n   */\r\n  function createDictMethod(type){\r\n    var isMap    = type == 1\r\n      , isEvery  = type == 4;\r\n    return function(object, callbackfn, that /* = undefined */){\r\n      var f      = ctx(callbackfn, that, 3)\r\n        , O      = toObject(object)\r\n        , result = isMap || type == 7 || type == 2 ? new (generic(this, Dict)) : undefined\r\n        , key, val, res;\r\n      for(key in O)if(has(O, key)){\r\n        val = O[key];\r\n        res = f(val, key, object);\r\n        if(type){\r\n          if(isMap)result[key] = res;             // map\r\n          else if(res)switch(type){\r\n            case 2: result[key] = val; break      // filter\r\n            case 3: return true;                  // some\r\n            case 5: return val;                   // find\r\n            case 6: return key;                   // findKey\r\n            case 7: result[res[0]] = res[1];      // mapPairs\r\n          } else if(isEvery)return false;         // every\r\n        }\r\n      }\r\n      return type == 3 || isEvery ? isEvery : result;\r\n    }\r\n  }\r\n  function createDictReduce(isTurn){\r\n    return function(object, mapfn, init){\r\n      assertFunction(mapfn);\r\n      var O      = toObject(object)\r\n        , keys   = getKeys(O)\r\n        , length = keys.length\r\n        , i      = 0\r\n        , memo, key, result;\r\n      if(isTurn)memo = init == undefined ? new (generic(this, Dict)) : Object(init);\r\n      else if(arguments.length < 3){\r\n        assert(length, REDUCE_ERROR);\r\n        memo = O[keys[i++]];\r\n      } else memo = Object(init);\r\n      while(length > i)if(has(O, key = keys[i++])){\r\n        result = mapfn(memo, O[key], key, object);\r\n        if(isTurn){\r\n          if(result === false)break;\r\n        } else memo = result;\r\n      }\r\n      return memo;\r\n    }\r\n  }\r\n  var findKey = createDictMethod(6);\r\n  function includes(object, el){\r\n    return (el == el ? keyOf(object, el) : findKey(object, sameNaN)) !== undefined;\r\n  }\r\n  \r\n  var dictMethods = {\r\n    keys:    createDictIter(KEY),\r\n    values:  createDictIter(VALUE),\r\n    entries: createDictIter(KEY+VALUE),\r\n    forEach: createDictMethod(0),\r\n    map:     createDictMethod(1),\r\n    filter:  createDictMethod(2),\r\n    some:    createDictMethod(3),\r\n    every:   createDictMethod(4),\r\n    find:    createDictMethod(5),\r\n    findKey: findKey,\r\n    mapPairs:createDictMethod(7),\r\n    reduce:  createDictReduce(false),\r\n    turn:    createDictReduce(true),\r\n    keyOf:   keyOf,\r\n    includes:includes,\r\n    // Has / get / set own property\r\n    has: has,\r\n    get: get,\r\n    set: createDefiner(0),\r\n    isDict: function(it){\r\n      return isObject(it) && getPrototypeOf(it) === Dict[PROTOTYPE];\r\n    }\r\n  };\r\n  \r\n  if(REFERENCE_GET)for(var key in dictMethods)!function(fn){\r\n    function method(){\r\n      for(var args = [this], i = 0; i < arguments.length;)args.push(arguments[i++]);\r\n      return invoke(fn, args);\r\n    }\r\n    fn[REFERENCE_GET] = function(){\r\n      return method;\r\n    }\r\n  }(dictMethods[key]);\r\n  \r\n  $define(GLOBAL + FORCED, {Dict: assignHidden(Dict, dictMethods)});\r\n}('Dict');\n\n/******************************************************************************\n * Module : core.$for                                                         *\n ******************************************************************************/\n\n!function(ENTRIES, FN){  \r\n  function $for(iterable, entries){\r\n    if(!(this instanceof $for))return new $for(iterable, entries);\r\n    this[ITER]    = getIterator(iterable);\r\n    this[ENTRIES] = !!entries;\r\n  }\r\n  \r\n  createIterator($for, 'Wrapper', function(){\r\n    return this[ITER].next();\r\n  });\r\n  var $forProto = $for[PROTOTYPE];\r\n  setIterator($forProto, function(){\r\n    return this[ITER]; // unwrap\r\n  });\r\n  \r\n  function createChainIterator(next){\r\n    function Iter(I, fn, that){\r\n      this[ITER]    = getIterator(I);\r\n      this[ENTRIES] = I[ENTRIES];\r\n      this[FN]      = ctx(fn, that, I[ENTRIES] ? 2 : 1);\r\n    }\r\n    createIterator(Iter, 'Chain', next, $forProto);\r\n    setIterator(Iter[PROTOTYPE], returnThis); // override $forProto iterator\r\n    return Iter;\r\n  }\r\n  \r\n  var MapIter = createChainIterator(function(){\r\n    var step = this[ITER].next();\r\n    return step.done ? step : iterResult(0, stepCall(this[FN], step.value, this[ENTRIES]));\r\n  });\r\n  \r\n  var FilterIter = createChainIterator(function(){\r\n    for(;;){\r\n      var step = this[ITER].next();\r\n      if(step.done || stepCall(this[FN], step.value, this[ENTRIES]))return step;\r\n    }\r\n  });\r\n  \r\n  assignHidden($forProto, {\r\n    of: function(fn, that){\r\n      forOf(this, this[ENTRIES], fn, that);\r\n    },\r\n    array: function(fn, that){\r\n      var result = [];\r\n      forOf(fn != undefined ? this.map(fn, that) : this, false, push, result);\r\n      return result;\r\n    },\r\n    filter: function(fn, that){\r\n      return new FilterIter(this, fn, that);\r\n    },\r\n    map: function(fn, that){\r\n      return new MapIter(this, fn, that);\r\n    }\r\n  });\r\n  \r\n  $for.isIterable  = isIterable;\r\n  $for.getIterator = getIterator;\r\n  \r\n  $define(GLOBAL + FORCED, {$for: $for});\r\n}('entries', safeSymbol('fn'));\n\n/******************************************************************************\n * Module : core.delay                                                        *\n ******************************************************************************/\n\n// https://esdiscuss.org/topic/promise-returning-delay-function\r\n$define(GLOBAL + FORCED, {\r\n  delay: function(time){\r\n    return new Promise(function(resolve){\r\n      setTimeout(resolve, time, true);\r\n    });\r\n  }\r\n});\n\n/******************************************************************************\n * Module : core.binding                                                      *\n ******************************************************************************/\n\n!function(_, toLocaleString){\r\n  // Placeholder\r\n  core._ = path._ = path._ || {};\r\n\r\n  $define(PROTO + FORCED, FUNCTION, {\r\n    part: part,\r\n    only: function(numberArguments, that /* = @ */){\r\n      var fn     = assertFunction(this)\r\n        , n      = toLength(numberArguments)\r\n        , isThat = arguments.length > 1;\r\n      return function(/* ...args */){\r\n        var length = min(n, arguments.length)\r\n          , args   = Array(length)\r\n          , i      = 0;\r\n        while(length > i)args[i] = arguments[i++];\r\n        return invoke(fn, args, isThat ? that : this);\r\n      }\r\n    }\r\n  });\r\n  \r\n  function tie(key){\r\n    var that  = this\r\n      , bound = {};\r\n    return hidden(that, _, function(key){\r\n      if(key === undefined || !(key in that))return toLocaleString.call(that);\r\n      return has(bound, key) ? bound[key] : (bound[key] = ctx(that[key], that, -1));\r\n    })[_](key);\r\n  }\r\n  \r\n  hidden(path._, TO_STRING, function(){\r\n    return _;\r\n  });\r\n  \r\n  hidden(ObjectProto, _, tie);\r\n  DESC || hidden(ArrayProto, _, tie);\r\n  // IE8- dirty hack - redefined toLocaleString is not enumerable\r\n}(DESC ? uid('tie') : TO_LOCALE, ObjectProto[TO_LOCALE]);\n\n/******************************************************************************\n * Module : core.object                                                       *\n ******************************************************************************/\n\n!function(){\r\n  function define(target, mixin){\r\n    var keys   = ownKeys(toObject(mixin))\r\n      , length = keys.length\r\n      , i = 0, key;\r\n    while(length > i)defineProperty(target, key = keys[i++], getOwnDescriptor(mixin, key));\r\n    return target;\r\n  };\r\n  $define(STATIC + FORCED, OBJECT, {\r\n    isObject: isObject,\r\n    classof: classof,\r\n    define: define,\r\n    make: function(proto, mixin){\r\n      return define(create(proto), mixin);\r\n    }\r\n  });\r\n}();\n\n/******************************************************************************\n * Module : core.array                                                        *\n ******************************************************************************/\n\n$define(PROTO + FORCED, ARRAY, {\r\n  turn: function(fn, target /* = [] */){\r\n    assertFunction(fn);\r\n    var memo   = target == undefined ? [] : Object(target)\r\n      , O      = ES5Object(this)\r\n      , length = toLength(O.length)\r\n      , index  = 0;\r\n    while(length > index)if(fn(memo, O[index], index++, this) === false)break;\r\n    return memo;\r\n  }\r\n});\r\nif(framework)ArrayUnscopables.turn = true;\n\n/******************************************************************************\n * Module : core.number                                                       *\n ******************************************************************************/\n\n!function(numberMethods){  \r\n  function NumberIterator(iterated){\r\n    set(this, ITER, {l: toLength(iterated), i: 0});\r\n  }\r\n  createIterator(NumberIterator, NUMBER, function(){\r\n    var iter = this[ITER]\r\n      , i    = iter.i++;\r\n    return i < iter.l ? iterResult(0, i) : iterResult(1);\r\n  });\r\n  defineIterator(Number, NUMBER, function(){\r\n    return new NumberIterator(this);\r\n  });\r\n  \r\n  numberMethods.random = function(lim /* = 0 */){\r\n    var a = +this\r\n      , b = lim == undefined ? 0 : +lim\r\n      , m = min(a, b);\r\n    return random() * (max(a, b) - m) + m;\r\n  };\r\n\r\n  forEach.call(array(\r\n      // ES3:\r\n      'round,floor,ceil,abs,sin,asin,cos,acos,tan,atan,exp,sqrt,max,min,pow,atan2,' +\r\n      // ES6:\r\n      'acosh,asinh,atanh,cbrt,clz32,cosh,expm1,hypot,imul,log1p,log10,log2,sign,sinh,tanh,trunc'\r\n    ), function(key){\r\n      var fn = Math[key];\r\n      if(fn)numberMethods[key] = function(/* ...args */){\r\n        // ie9- dont support strict mode & convert `this` to object -> convert it to number\r\n        var args = [+this]\r\n          , i    = 0;\r\n        while(arguments.length > i)args.push(arguments[i++]);\r\n        return invoke(fn, args);\r\n      }\r\n    }\r\n  );\r\n  \r\n  $define(PROTO + FORCED, NUMBER, numberMethods);\r\n}({});\n\n/******************************************************************************\n * Module : core.string                                                       *\n ******************************************************************************/\n\n!function(){\r\n  var escapeHTMLDict = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&apos;'\r\n  }, unescapeHTMLDict = {}, key;\r\n  for(key in escapeHTMLDict)unescapeHTMLDict[escapeHTMLDict[key]] = key;\r\n  $define(PROTO + FORCED, STRING, {\r\n    escapeHTML:   createReplacer(/[&<>\"']/g, escapeHTMLDict),\r\n    unescapeHTML: createReplacer(/&(?:amp|lt|gt|quot|apos);/g, unescapeHTMLDict)\r\n  });\r\n}();\n\n/******************************************************************************\n * Module : core.date                                                         *\n ******************************************************************************/\n\n!function(formatRegExp, flexioRegExp, locales, current, SECONDS, MINUTES, HOURS, MONTH, YEAR){\r\n  function createFormat(prefix){\r\n    return function(template, locale /* = current */){\r\n      var that = this\r\n        , dict = locales[has(locales, locale) ? locale : current];\r\n      function get(unit){\r\n        return that[prefix + unit]();\r\n      }\r\n      return String(template).replace(formatRegExp, function(part){\r\n        switch(part){\r\n          case 's'  : return get(SECONDS);                  // Seconds : 0-59\r\n          case 'ss' : return lz(get(SECONDS));              // Seconds : 00-59\r\n          case 'm'  : return get(MINUTES);                  // Minutes : 0-59\r\n          case 'mm' : return lz(get(MINUTES));              // Minutes : 00-59\r\n          case 'h'  : return get(HOURS);                    // Hours   : 0-23\r\n          case 'hh' : return lz(get(HOURS));                // Hours   : 00-23\r\n          case 'D'  : return get(DATE);                     // Date    : 1-31\r\n          case 'DD' : return lz(get(DATE));                 // Date    : 01-31\r\n          case 'W'  : return dict[0][get('Day')];           // Day     : \r\n          case 'N'  : return get(MONTH) + 1;                // Month   : 1-12\r\n          case 'NN' : return lz(get(MONTH) + 1);            // Month   : 01-12\r\n          case 'M'  : return dict[2][get(MONTH)];           // Month   : \r\n          case 'MM' : return dict[1][get(MONTH)];           // Month   : \r\n          case 'Y'  : return get(YEAR);                     // Year    : 2014\r\n          case 'YY' : return lz(get(YEAR) % 100);           // Year    : 14\r\n        } return part;\r\n      });\r\n    }\r\n  }\r\n  function addLocale(lang, locale){\r\n    function split(index){\r\n      var result = [];\r\n      forEach.call(array(locale.months), function(it){\r\n        result.push(it.replace(flexioRegExp, '$' + index));\r\n      });\r\n      return result;\r\n    }\r\n    locales[lang] = [array(locale.weekdays), split(1), split(2)];\r\n    return core;\r\n  }\r\n  $define(PROTO + FORCED, DATE, {\r\n    format:    createFormat('get'),\r\n    formatUTC: createFormat('getUTC')\r\n  });\r\n  addLocale(current, {\r\n    weekdays: 'Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday',\r\n    months: 'January,February,March,April,May,June,July,August,September,October,November,December'\r\n  });\r\n  addLocale('ru', {\r\n    weekdays: ',,,,,,',\r\n    months: ':|,:|,:|,:|,:|,:|,' +\r\n            ':|,:|,:|,:|,:|,:|'\r\n  });\r\n  core.locale = function(locale){\r\n    return has(locales, locale) ? current = locale : current;\r\n  };\r\n  core.addLocale = addLocale;\r\n}(/\\b\\w\\w?\\b/g, /:(.*)\\|(.*)$/, {}, 'en', 'Seconds', 'Minutes', 'Hours', 'Month', 'FullYear');\n\n/******************************************************************************\n * Module : core.global                                                       *\n ******************************************************************************/\n\n$define(GLOBAL + FORCED, {global: global});\n\n/******************************************************************************\n * Module : js.array.statics                                                  *\n ******************************************************************************/\n\n// JavaScript 1.6 / Strawman array statics shim\r\n!function(arrayStatics){\r\n  function setArrayStatics(keys, length){\r\n    forEach.call(array(keys), function(key){\r\n      if(key in ArrayProto)arrayStatics[key] = ctx(call, ArrayProto[key], length);\r\n    });\r\n  }\r\n  setArrayStatics('pop,reverse,shift,keys,values,entries', 1);\r\n  setArrayStatics('indexOf,every,some,forEach,map,filter,find,findIndex,includes', 3);\r\n  setArrayStatics('join,slice,concat,push,splice,unshift,sort,lastIndexOf,' +\r\n                  'reduce,reduceRight,copyWithin,fill,turn');\r\n  $define(STATIC, ARRAY, arrayStatics);\r\n}({});\n\n/******************************************************************************\n * Module : web.dom.itarable                                                  *\n ******************************************************************************/\n\n!function(NodeList){\r\n  if(framework && NodeList && !(SYMBOL_ITERATOR in NodeList[PROTOTYPE])){\r\n    hidden(NodeList[PROTOTYPE], SYMBOL_ITERATOR, Iterators[ARRAY]);\r\n  }\r\n  Iterators.NodeList = Iterators[ARRAY];\r\n}(global.NodeList);\n\n/******************************************************************************\n * Module : core.log                                                          *\n ******************************************************************************/\n\n!function(log, enabled){\r\n  // Methods from https://github.com/DeveloperToolsWG/console-object/blob/master/api.md\r\n  forEach.call(array('assert,clear,count,debug,dir,dirxml,error,exception,' +\r\n      'group,groupCollapsed,groupEnd,info,isIndependentlyComposed,log,' +\r\n      'markTimeline,profile,profileEnd,table,time,timeEnd,timeline,' +\r\n      'timelineEnd,timeStamp,trace,warn'), function(key){\r\n    log[key] = function(){\r\n      if(enabled && key in console)return apply.call(console[key], console, arguments);\r\n    };\r\n  });\r\n  $define(GLOBAL + FORCED, {log: assign(log.log, log, {\r\n    enable: function(){\r\n      enabled = true;\r\n    },\r\n    disable: function(){\r\n      enabled = false;\r\n    }\r\n  })});\r\n}({}, true);\n}(typeof self != 'undefined' && self.Math === Math ? self : Function('return this')(), false);\nmodule.exports = { \"default\": module.exports, __esModule: true };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js.js\n ** module id = 11\n ** module chunks = 0\n **/","/*global CustomEvent*/\n\n// polyfill for custom events to make thinks work in IE\n// The needed polyfill is so small that I embedded it here\nvoid function () {\n    \"use strict\";\n    if (!global.CustomEvent || typeof global.CustomEvent !== 'function') {\n        var CustomEvent;\n        CustomEvent = function (event, params) {\n            var evt;\n            params = params || {\n                bubbles: false,\n                cancelable: false,\n                detail: undefined\n            };\n            evt = document.createEvent(\"CustomEvent\");\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n            return evt;\n        };\n        CustomEvent.prototype = global.Event.prototype;\n        global.CustomEvent = CustomEvent;\n    }\n}();\n\n/**\n * Simpler Event dispatching\n */\nclass EventHandler {\n\n    /**\n     * @param {HTMLElement} target\n     * @param {String} name\n     */\n    constructor(target, name) {\n\n        this.target = target;\n        this.defaultOptions = {\n            bubbles: true,\n            cancelable: true\n        };\n\n        this.name = name;\n    }\n\n    /**\n     * Set more options\n     * @param {Object} options\n     * @returns {EventHandler}\n     */\n    withOptions(options) {\n        Object.assign(this.defaultOptions, (options || {}));\n        return this;\n    }\n\n    /**\n     * @param {Event} e\n     * @returns {EventHandler}\n     */\n    withOriginal(e) {\n        this.defaultOptions.originalEvent = e;\n        return this;\n    }\n\n    /**\n     * @param {*} o\n     * @returns {EventHandler}\n     */\n    withDetail(o) {\n        this.defaultOptions.detail = o;\n        return this;\n    }\n\n    /**\n     * @returns {Window.CustomEvent}\n     */\n    fire() {\n        var e = new CustomEvent(this.name, this.defaultOptions);\n        if (this.target) {\n            this.target.dispatchEvent(e);\n        }\n        return e;\n    }\n}\n\nexport default\nclass Event {\n    /**\n     * Prepares to dispatch a custom event (without firing)\n     * @param {HTMLElement} target\n     * @param {String} name\n     * @returns {EventHandler}\n     */\n    static dispatch(target, name) {\n        return new EventHandler(target, name);\n    }\n\n    /**\n     * Dispatches a custom event and fires it directly\n     * @param {HTMLElement} target\n     * @param {String} name\n     * @param {Object} [options]\n     * @returns {Window.CustomEvent}\n     */\n    static dispatchAndFire(target, name, options) {\n        return new EventHandler(target, name).withOptions(options).fire();\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/util/Event.js\n **/","const PFX = [\"webkit\", \"moz\", \"MS\", \"o\", \"\"];\n\nconst COL_LEFT_CLASS = 'is-collision-left';\n\nconst COL_RIGHT_CLASS = 'is-collision-right';\n\nconst COL_BOTTOM_CLASS = 'is-collision-bottom';\n\n/**\n * Provides some shared Util functions\n */\nexport default\nclass Util {\n\n    /**\n     * Will register the right animation event based on browser\n     * @param element\n     * @param type\n     * @param callback\n     */\n    static prefixedAnimateEvent(element, type, callback) {\n        var thisFunction = function (e) {\n            callback.apply(element, [e, thisFunction]);\n        };\n\n        for (var p = 0; p < PFX.length; p++) {\n            if (!PFX[p]) type = type.toLowerCase();\n            var name = PFX[p] + type;\n            element.addEventListener(name, thisFunction, true);\n        }\n    }\n\n    /**\n     * Get correct transitionend event\n     * @returns {String}\n     * @private\n     */\n    static whichTransitionEndEvent() {\n        var t, el = document.createElement('fakeelement');\n\n        var transitions = {\n            'transition': 'transitionend',\n            'OTransition': 'oTransitionEnd',\n            'MozTransition': 'transitionend',\n            'WebkitTransition': 'webkitTransitionEnd'\n        };\n\n        for (t in transitions) {\n            if (el.style[t] !== undefined) {\n                return transitions[t];\n            }\n        }\n    }\n\n    /**\n     * Check if target is part of parent node\n     * @param target\n     * @param parent\n     * @returns {boolean}\n     */\n    static isPartOfNode(target, parent) {\n        if (!target || !parent) {\n            return false;\n        }\n        var now = target;\n        while (now !== parent && now !== null) {\n            if (now === parent) {\n                break;\n            }\n            now = now.parentNode;\n        }\n        return null !== now;\n    }\n\n    /**\n     * Walks the tree until func returns true for given argument\n     * @param target\n     * @param func\n     * @returns {HTMLElement}\n     */\n    static parentsUntil(target, func) {\n        if (!target) {\n            return false;\n        }\n        var now = target;\n        while (!func(now) && now !== null) {\n            now = now.parentNode;\n        }\n\n        return now;\n    }\n\n    /**\n     * Generates a unique id\n     * @return {String}\n     */\n    static guid() {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        }\n\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n    }\n\n    /**\n     * Detects scrollbar width\n     * @see http://stackoverflow.com/questions/986937/how-can-i-get-the-browsers-scrollbar-sizes\n     * @returns {number}\n     */\n    static getScrollBarWidth() {\n\n        var doc = global.document, inner = doc.createElement('p');\n        inner.style.width = \"100%\";\n        inner.style.height = \"200px\";\n\n        var outer = doc.createElement('div');\n        outer.style.position = \"absolute\";\n        outer.style.top = \"0px\";\n        outer.style.left = \"0px\";\n        outer.style.visibility = \"hidden\";\n        outer.style.width = \"200px\";\n        outer.style.height = \"150px\";\n        outer.style.overflow = \"hidden\";\n        outer.appendChild(inner);\n\n        doc.body.appendChild(outer);\n        var w1 = inner.offsetWidth;\n        outer.style.overflow = 'scroll';\n        var w2 = inner.offsetWidth;\n        if (w1 === w2) {\n            w2 = outer.clientWidth;\n        }\n        doc.body.removeChild(outer);\n\n        return (w1 - w2);\n    }\n\n\n    /**\n     * Run an event once\n     * @param {String} ev\n     * @param {HTMLElement} target\n     * @param {Function} func\n     */\n    static addEventOnce(ev, target, func) {\n        var thisFunction = function (event) {\n            func(event);\n            target.removeEventListener(ev, thisFunction);\n        };\n        return target.addEventListener(ev, thisFunction);\n    }\n\n    /**\n     * Creates a camelCaseRepresentation of a dashed string\n     * @param {String} str\n     * @returns String\n     */\n    static dashToCamelCase(str) {\n        return str.replace(/-([a-z])/g, function (g) {\n            return g[1].toUpperCase();\n        });\n    }\n\n    /**\n     * Reads options from element (data attributes) and applies to base\n     * @param {HTMLElement} element\n     * @param {Object} base\n     * @return {Object}\n     */\n    static applyOptionsFromElement(element, base) {\n        if (!element) {\n            return base;\n        }\n        let attrs = element.attributes;\n        for (let i = 0; i<attrs.length; i++) {\n            let attr = attrs[i];\n            if(attr) {\n                let s = Util.dashToCamelCase(attr.nodeName.replace('data-', '')),\n                    val = attr.nodeValue;\n                if (base.hasOwnProperty(s)) {\n                    if ('boolean' === typeof base[s]) {\n                        base[s] = 1 === parseInt(val || 1);\n                    } else {\n                        base[s] = val;\n                    }\n                }\n            }\n        }\n        return base;\n    }\n\n    /**\n     * Will position an element directly at given target\n     * Is aware of a given collision container to detect edges\n     * Will put elementToPosition either to left, center or right edge (prefer right)\n     *  and either to bottom or top (prefers bottom)\n     *\n     * You may overwrite preferred positioned with `centerHorizontal` and `positionTop`\n     *\n     * @param {HTMLElement} target the target container to align to\n     * @param {HTMLElement} elementToPosition the element to position\n     * @param {HTMLElement} collisionContainer the outer container to prevent collisions\n     * @param {bool} [centerHorizontal] set true to center element, otherwise it's put on the right border by default\n     * @param {bool} [positionTop] flip top, by default element is positioned to the bottom.\n     * @returns {HTMLElement}\n     */\n    static setupPositionNearby(target, elementToPosition, collisionContainer, centerHorizontal, positionTop) {\n\n        // determine relative offsets\n        var amountTop = 0, amountLeft = 0;\n        Util.parentsUntil(target.parentNode, function (el) {\n            if (!(el instanceof HTMLElement)) {\n                return false;\n            }\n            var style = window.getComputedStyle(el);\n            if (Util.isPartOfNode(elementToPosition, el)) {\n                if (style && style.position === 'relative') {\n                    amountTop += el.offsetTop || 0;\n                    amountLeft += el.offsetLeft || 0;\n                }\n                return false;\n            } else {\n                return true;\n            }\n        });\n\n        var targetPosition = target.getBoundingClientRect(),\n            elementRect = elementToPosition.getBoundingClientRect(),\n            colRect = collisionContainer.getBoundingClientRect(),\n            targetTop = targetPosition.top - amountTop, targetRight = targetPosition.right,\n            isCollisionTop = 0 >= (targetTop - elementRect.height),\n            isCollisionBottom = window.innerHeight < (targetTop + amountTop + targetPosition.height + elementRect.height),\n            isCollisionLeft = targetRight < elementRect.width, targetLeft = targetPosition.left,\n            isCollisionRight = (targetLeft + elementRect.width) > colRect.width,\n            classList = elementToPosition.classList;\n\n        classList.remove(COL_RIGHT_CLASS);\n        classList.remove(COL_LEFT_CLASS);\n        classList.remove(COL_BOTTOM_CLASS);\n\n        if (isCollisionLeft && !isCollisionRight) {\n            // put element to left if collision with left\n            elementToPosition.style.left = (targetPosition.left - colRect.left - amountLeft) + 'px';\n            classList.add(COL_LEFT_CLASS);\n        } else {\n            // maybe center if no collision with either side\n            var rightPosition = (targetRight - elementRect.width - colRect.left - amountLeft) + 'px',\n                leftCentered = ((targetLeft + targetPosition.width / 2) -\n                    (elementRect.width / 2) || 0) - colRect.left,\n                collisionCentered = (leftCentered + elementRect.width) > colRect.width;\n            if (centerHorizontal && !collisionCentered) {\n                elementToPosition.style.left = leftCentered + 'px';\n            } else {\n                classList.add(COL_RIGHT_CLASS);\n                elementToPosition.style.left = rightPosition;\n            }\n        }\n\n        if (isCollisionBottom || (positionTop && !isCollisionTop)) {\n            // Put Element on top if collision\n            elementToPosition.style.top = (targetTop - elementRect.height) - colRect.top + 'px';\n            classList.add(COL_BOTTOM_CLASS);\n        } else {\n            elementToPosition.style.top = (targetTop + targetPosition.height) - colRect.top + 'px';\n        }\n\n        return elementToPosition;\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/main/util/Util.js\n **/","module.exports = require('whatwg-fetch');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/isomorphic-fetch/npm-client.js\n ** module id = 14\n ** module chunks = 0\n **/","(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = name.toString();\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = value.toString();\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    var self = this\n    if (headers instanceof Headers) {\n      headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          self.append(name, value)\n        })\n      })\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        self.append(name, headers[name])\n      })\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  // Instead of iterable for now.\n  Headers.prototype.forEach = function(callback) {\n    var self = this\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      callback(name, self.map[name])\n    })\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    XDomainRequest: 'XDomainRequest' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    if (support.blob) {\n      this._initBody = function(body) {\n        this._bodyInit = body\n        if (typeof body === 'string') {\n          this._bodyText = body\n        } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n          this._bodyBlob = body\n        } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n          this._bodyFormData = body\n        } else if (!body) {\n          this._bodyText = ''\n        } else {\n          throw new Error('unsupported BodyInit type')\n        }\n      }\n\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this._initBody = function(body) {\n        this._bodyInit = body\n        if (typeof body === 'string') {\n          this._bodyText = body\n        } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n          this._bodyFormData = body\n        } else if (!body) {\n          this._bodyText = ''\n        } else {\n          throw new Error('unsupported BodyInit type')\n        }\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(url, options) {\n    options = options || {}\n    this.url = url\n\n    this.credentials = options.credentials || 'omit'\n    this.headers = new Headers(options.headers)\n    this.method = normalizeMethod(options.method || 'GET')\n    this.mode = options.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && options.body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(options.body)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Request.prototype.fetch = function() {\n    var self = this\n\n    return new Promise(function(resolve, reject) {\n      var legacyCors = false;\n      if (support.XDomainRequest) {\n        var origin = location.protocol + '//' + location.host;\n        if (!/^\\/[^\\/]/.test(self.url)) { // exclude relative urls\n          legacyCors = (/^\\/\\//.test(self.url) ? location.protocol + self.url : self.url).substring(0, origin.length) !== origin;\n        }\n      }\n      var xhr = legacyCors ? new XDomainRequest() : new XMLHttpRequest()\n\n      if (legacyCors) {\n        xhr.getAllResponseHeaders = function() {\n          return 'Content-Type: '+xhr.contentType;\n        };\n      } else if (self.credentials === 'cors') {\n        xhr.withCredentials = true;\n      }\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n\n        // If XDomainRequest there is no status code so just hope for the best...\n        if (legacyCors) {\n          status = 200;\n        }\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(self.method, self.url, true)\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      self.headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          xhr.setRequestHeader(name, value)\n        })\n      })\n\n      xhr.send(typeof self._bodyInit === 'undefined' ? null : self._bodyInit)\n    })\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.url = null\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function (url, options) {\n    return new Request(url, options).fetch()\n  }\n  self.fetch.polyfill = true\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/isomorphic-fetch/~/whatwg-fetch/fetch.js\n ** module id = 15\n ** module chunks = 0\n **/"],"sourceRoot":""}